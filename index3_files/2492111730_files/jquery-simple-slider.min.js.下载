/* jquery simpleslider */
(function($){var simpleSlider=function(element,useroptions){var obj=this,sliderInterval=null,movecontainer=null,instanceID=Math.floor(Math.random()*100)+Date.now();obj.currentSlide=0;obj.totalSlides=0;useroptions=(useroptions===undefined)?{}:useroptions;var options=$.extend({slidesContainer:element,slides:'.slide',slideTracker:true,slideTrackerID:'slideposition',slideOnInterval:true,interval:5000,swipe:true,magneticSwipe:true,transition:"slide",animateDuration:1000,animationEasing:'ease',pauseOnHover:false,updateTransit:true,useDefaultCSS:true,neverEnding:true},useroptions);obj.init=function(){if(options.transition=="fade"){options.neverEnding=false;options.magneticSwipe=false}if(options.updateTransit&&$.support.transition&&jQuery().transition&&!$.transit.useTransitionEnd){$.transit.useTransitionEnd=true}var movecontainerclass="jss-slideswrap-"+instanceID;$(options.slidesContainer).wrapInner("<div class='"+movecontainerclass+"' style='position:absolute;width:100%;height:100%;'></div>");movecontainer="."+movecontainerclass;if(options.neverEnding){if($.support.transition&&jQuery().transition)$(movecontainer).stop().css({x:'-100%'});else $(movecontainer).stop().css({left:'-100%'})}obj.totalSlides=$(options.slidesContainer).find(options.slides).length;if(options.neverEnding){var $first=$(options.slidesContainer).find(options.slides).first().clone(true,true);var $last=$(options.slidesContainer).find(options.slides).last().clone(true,true);$(movecontainer).prepend($last);$(movecontainer).append($first)}var cacheWidth=0;if(options.useDefaultCSS){$(options.slidesContainer).css({position:"relative",overflow:"hidden"})}$(options.slidesContainer).find(options.slides).each(function(index){if(options.neverEnding){if(index===0)$(this).attr('data-index',obj.totalSlides-1);else if(index==obj.totalSlides+1)$(this).attr('data-index',0);else $(this).attr('data-index',index-1)}else{$(this).attr('data-index',index)}cacheWidth=($(this).outerWidth()>cacheWidth)?$(this).outerWidth():cacheWidth;if(options.transition=="slide"){if($.support.transition!==undefined){$(this).css({x:index*100+'%','z-index':(obj.totalSlides*2)-index,width:cacheWidth})}else{$(this).css({left:index*100+'%','z-index':(obj.totalSlides*2)-index,width:cacheWidth})}}if(options.transition=="fade"){var alpha=(index===0)?1:0;$(this).css({left:0,top:0,'z-index':obj.totalSlides-index,width:cacheWidth,opacity:alpha})}if(options.useDefaultCSS){$(this).css({position:"absolute",float:"left",height:"100%",top:0})}});if(options.slideTracker){$(options.slidesContainer).after("<div id='"+options.slideTrackerID+"' data-slider='"+instanceID+"'><ul></ul></div>");for(var x=0;x<obj.totalSlides;x++){var index=(obj.neverEnding&&x==obj.totalSlides-1)?0:x;$('div[data-slider="'+instanceID+'"] ul').append('<li class="indicator" data-index="'+index+'"></li>')}$('div[data-slider="'+instanceID+'"] ul li[data-index="'+obj.currentSlide+'"]').addClass('active');$("div[data-slider='"+instanceID+"'] ul li").click(function(){if(!($(this).hasClass("active")))obj.nextSlide($(this).data('index'))})}if(options.slideOnInterval){setSliderInterval()}if(options.swipe||options.magneticSwipe){$(options.slidesContainer).css('cursor','-webkit-grab');$(options.slidesContainer).css('cursor','-moz-grab');$(options.slidesContainer).css('cursor','grab');var isDragging=false;var startPosition={x:0,y:0};var percentageMove=0;var slideWidth=$(options.slidesContainer).width();var touchstartEvent=(window.navigator.msPointerEnabled)?"MSPointerDown":"touchstart";var touchmoveEvent=(window.navigator.msPointerEnabled)?"MSPointerMove":"touchmove";var touchendEvent=(window.navigator.msPointerEnabled)?"MSPointerUp":"touchend";$(options.slidesContainer).on(touchstartEvent+" mousedown",function(e){isDragging=true;startPosition={x:(e.pageX!==undefined)?e.pageX:e.originalEvent.touches[0].pageX,y:(e.pageY!==undefined)?e.pageY:e.originalEvent.touches[0].pageY};if(options.magneticSwipe)$(options.slidesContainer).find(options.slides).css('transition','none');percentageMove=0;$(options.slidesContainer).css('cursor','-webkit-grabbing');$(options.slidesContainer).css('cursor','-moz-grabbing');$(options.slidesContainer).css('cursor','grabbing')});$(options.slidesContainer).on(touchmoveEvent+" mousemove",function(e){if(e.type==touchmoveEvent)e.preventDefault();if(isDragging){var x=(e.pageX!==undefined)?e.pageX:e.originalEvent.touches[0].pageX;percentageMove=((startPosition.x-x)/slideWidth)*100;if(options.magneticSwipe){obj.manualSlide(percentageMove)}}});$(options.slidesContainer).on(touchendEvent+" mouseup",function(e){isDragging=false;if(percentageMove>25&&(obj.currentSlide<(obj.totalSlides-1)||options.neverEnding))obj.nextSlide();else if(percentageMove<-25&&(obj.currentSlide>0||options.neverEnding))obj.prevSlide();else obj.resetSlides();$(options.slidesContainer).css('cursor','-webkit-grab');$(options.slidesContainer).css('cursor','-moz-grab');$(options.slidesContainer).css('cursor','grab')})}$(element).trigger({type:"init",totalSlides:obj.totalSlides})}();$(window).resize(function(){var cacheWidth=0;$(options.slidesContainer).find(options.slides).each(function(index){$(this).css('width','');cacheWidth=($(this).outerWidth()>cacheWidth)?$(this).outerWidth():cacheWidth;if(options.transition=="fade")$(this).css({width:cacheWidth});else $(this).css({x:($(this).data('index')-obj.currentSlideindex)*100+'%',width:cacheWidth})})});function setSliderInterval(){clearInterval(sliderInterval);sliderInterval=setInterval(function(){obj.nextSlide()},options.interval)}obj.manualSlide=function(percentage){if(options.transition=="slide"){$(movecontainer).css("-webkit-transition","none");$(movecontainer).css("-moz-transition","none");$(movecontainer).css("-ms-transition","none");$(movecontainer).css("transition","none");var movepercentage=-((obj.currentSlide*100)+percentage);if(options.neverEnding)movepercentage=-(((obj.currentSlide+1)*100)+percentage);if($.support.transition&&jQuery().transition)$(movecontainer).css({x:movepercentage+'%'});else $(movecontainer).css({left:movepercentage+'%'})}};obj.resetSlides=function(){if(options.transition=="slide"){var movepercentage=(options.neverEnding)?-((obj.currentSlide+1)*100):-(obj.currentSlide*100);if($.support.transition&&jQuery().transition)$(movecontainer).stop().transition({x:movepercentage+'%'},options.animateDuration,options.animationEasing);else $(movecontainer).stop().animate({left:movepercentage+'%'},options.animateDuration)}};obj.prevSlide=function(){var slide=(obj.currentSlide>0)?obj.currentSlide-=1:(obj.totalSlides-1);obj.nextSlide(slide)};obj.nextSlide=function(slide){var prevSlide=obj.currentSlide,slided=false;if(slide===undefined)obj.currentSlide=(obj.currentSlide<(obj.totalSlides-1))?obj.currentSlide+=1:0;else obj.currentSlide=slide;var beforeSlidingEvent=jQuery.Event("beforeSliding",{prevSlide:prevSlide,newSlide:obj.currentSlide});$(element).trigger(beforeSlidingEvent);if(beforeSlidingEvent.isDefaultPrevented()){obj.currentSlide=prevSlide;return false}var movepercentage=-(obj.currentSlide*100);if(options.neverEnding){if(obj.currentSlide==obj.totalSlides-1&&prevSlide===0){movepercentage=0}else if(obj.currentSlide===0&&obj.totalSlides-1==prevSlide){movepercentage=-(obj.totalSlides+1)*100}else{movepercentage=-((obj.currentSlide+1)*100)}}if(options.transition=="slide"){if($.support.transition&&jQuery().transition)$(movecontainer).stop().transition({x:movepercentage+'%'},options.animateDuration,options.animationEasing);else $(movecontainer).stop().animate({left:movepercentage+'%'},options.animateDuration,triggerSlideEnd)}if(options.transition=="fade"){$(options.slidesContainer).find(options.slides).each(function(index){var alpha=(index==obj.currentSlide)?1:0;if(index==obj.currentSlide){$(this).show()}if($.support.transition&&jQuery().transition)$(this).stop().transition({opacity:alpha},options.animateDuration,triggerSlideEnd);else $(this).stop().animate({opacity:alpha},options.animateDuration,triggerSlideEnd)})}$(options.slidesContainer).on('oTransitionEnd webkitTransitionEnd oTransitionEnd otransitionend transitionend',triggerSlideEnd);function triggerSlideEnd(){if(!slided){if(options.transition=="fade"){$(options.slidesContainer).find(options.slides).each(function(index){if($(this).data('index')==obj.currentSlide){$(this).show()}else{$(this).hide()}})}if(options.transition=="slide"&&options.neverEnding){if(obj.currentSlide==obj.totalSlides-1&&prevSlide===0){if($.support.transition&&jQuery().transition)$(movecontainer).stop().transition({x:-(obj.totalSlides)*100+"%"},1,'linear');else $(movecontainer).css({left:-(obj.totalSlides)*100+"%"})}if(obj.currentSlide===0&&prevSlide==obj.totalSlides-1){if($.support.transition&&jQuery().transition)$(movecontainer).stop().transition({x:"-100%"},1,'linear');else $(movecontainer).css({left:"-100%"})}}var afterSlidingEvent=jQuery.Event("afterSliding",{prevSlide:prevSlide,newSlide:obj.currentSlide});$(element).trigger(afterSlidingEvent);slided=true}}$('div[data-slider="'+instanceID+'"] ul li').removeClass('active');$('div[data-slider="'+instanceID+'"] ul li[data-index="'+obj.currentSlide+'"]').addClass('active');if(options.slideOnInterval){setSliderInterval()}};if(options.pauseOnHover){$(options.slidesContainer).hover(function(){clearInterval(sliderInterval)},function(){setSliderInterval()})}};$.fn.simpleSlider=function(options){return this.each(function(){var element=$(this);if(element.data('simpleslider'))return;var simpleslider=new simpleSlider(this,options);element.data('simpleslider',simpleslider)})}})(jQuery);