/** Weirwood-SDK (a90666e) */
var Weirwood=function(n){
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */
var r=function(){return (r=Object.assign||function(t){for(var n,r=1,e=arguments.length;r<e;r++)for(var i in n=arguments[r])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t}).apply(this,arguments)};function e(t){var n="function"==typeof Symbol&&t[Symbol.iterator],r=0;return n?n.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}}function o(t,n){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var e,i,o=r.call(t),a=[];try{for(;(void 0===n||n-- >0)&&!(e=o.next()).done;)a.push(e.value);}catch(t){i={error:t};}finally{try{e&&!e.done&&(r=o.return)&&r.call(o);}finally{if(i)throw i.error}}return a}function a(){for(var t=[],n=0;n<arguments.length;n++)t=t.concat(o(arguments[n]));return t}var u=(new Date).getTime();function c(t){var n=window.BOOMR;if(window){if(!t){if(window.parent===window||!document.getElementById("boomr-if-as"))return;if(window.BOOMR&&n.boomerang_frame&&n.window)try{n.boomerang_frame.document.domain!==n.window.document.domain&&(n.boomerang_frame.document.domain=n.window.document.domain);}catch(t){n.isCrossOriginError(t)||n.addError(t,"BOOMR_check_doc_domain.domainFix");}t=document.domain;}if(t&&-1!==t.indexOf(".")&&window.parent){try{return void window.parent.document}catch(n){try{document.domain=t;}catch(t){return}}try{return void window.parent.document}catch(n){t=t.replace(/^[\w\-]+\./,"");}c(t);}}}function s(t){var n,r,e,i,o,a,s,f=t;t.parent!==t&&document.getElementById("boomr-if-as")&&"script"===document.getElementById("boomr-if-as").nodeName.toLowerCase()&&(t=t.parent),e=t.document,t.BOOMR||(t.BOOMR={});var O,l=t.BOOMR;if(l.version)return l;if(l.version="1.2.56",l.window=t,l.boomerang_frame=f,l.plugins||(l.plugins={}),function(){try{void 0!==new t.CustomEvent("CustomEvent")&&(i=function(n,r){return new t.CustomEvent(n,r)});}catch(t){}try{!i&&e.createEvent&&e.createEvent("CustomEvent")&&(i=function(t,n){var r=e.createEvent("CustomEvent");return n=n||{cancelable:!1,bubbles:!1},r.initCustomEvent(t,n.bubbles,n.cancelable,n.detail),r});}catch(t){}!i&&e.createEventObject&&(i=function(t,n){var r=e.createEventObject();return r.type=r.propertyName=t,r.detail=n.detail,r}),i||(i=function(){});}(),o=function(t,n,r){var o=i(t,{detail:n});function a(){try{e.dispatchEvent?e.dispatchEvent(o):e.fireEvent&&e.fireEvent("onpropertychange",o);}catch(n){l.debug("Error when dispatching "+t);}}o&&(r?l.setImmediate(a):a());},void 0!==e.hidden?(a="visibilityState",s="visibilitychange"):void 0!==e.mozHidden?(a="mozVisibilityState",s="mozvisibilitychange"):void 0!==e.msHidden?(a="msVisibilityState",s="msvisibilitychange"):void 0!==e.webkitHidden&&(a="webkitVisibilityState",s="webkitvisibilitychange"),n={beacon_url:"",beacon_url_force_https:!1,beacon_urls_allowed:[],beacon_type:"AUTO",beacon_auth_key:"Authorization",beacon_auth_token:void 0,beacon_with_credentials:!1,beacon_disable_sendbeacon:!1,site_domain:t.location.hostname.replace(/.*?([^.]+\.[^.]+)\.?$/,"$1").toLowerCase(),user_ip:"",autorun:!0,hasSentPageLoadBeacon:!1,r:void 0,events:{page_ready:[],page_unload:[],before_unload:[],dom_loaded:[],visibility_changed:[],prerender_to_visible:[],before_beacon:[],beacon:[],page_load_beacon:[],xhr_load:[],click:[],form_submit:[],config:[],xhr_init:[],spa_init:[],spa_navigation:[],spa_cancel:[],xhr_send:[],xhr_error:[],error:[],netinfo:[],rage_click:[]},public_events:{before_beacon:"onBeforeBoomerangBeacon",beacon:"onBoomerangBeacon",onboomerangloaded:"onBoomerangLoaded"},translate_events:{onbeacon:"beacon",onconfig:"config",onerror:"error",onxhrerror:"xhr_error"},unloadEventsCount:0,unloadEventCalled:0,listenerCallbacks:{},vars:{},singleBeaconVars:{},varPriority:{"-1":{},1:{}},errors:{},disabled_plugins:{},localStorageSupported:!1,LOCAL_STORAGE_PREFIX:"_boomr_",nativeOverwrites:[],xb_handler:function(r){return function(e){var i;e||(e=t.event),e.target?i=e.target:e.srcElement&&(i=e.srcElement),3===i.nodeType&&(i=i.parentNode),i&&i.nodeName&&"OBJECT"===i.nodeName.toUpperCase()&&"application/x-shockwave-flash"===i.type||n.fireEvent(r,i);}},clearEvents:function(){var t;for(t in this.events)this.events.hasOwnProperty(t)&&(this.events[t]=[]);},clearListeners:function(){var t;for(t in n.listenerCallbacks)if(n.listenerCallbacks.hasOwnProperty(t))for(;n.listenerCallbacks[t].length;)l.utils.removeListener(n.listenerCallbacks[t][0].el,t,n.listenerCallbacks[t][0].fn);n.listenerCallbacks={};},fireEvent:function(t,n){var r,e,i,a;if(t=t.toLowerCase(),this.translate_events[t]&&(t=this.translate_events[t]),this.events.hasOwnProperty(t)){for(this.public_events.hasOwnProperty(t)&&o(this.public_events[t],n),i=this.events[t],"before_beacon"!==t&&"beacon"!==t&&l.real_sendBeacon(),a=i.length,r=0;r<a;r++)try{(e=i[r]).fn.call(e.scope,n,e.cb_data);}catch(n){l.addError(n,"fireEvent."+t+"<"+r+">");}for(r=0;r<a;r++)try{i[r].once&&(i.splice(r,1),a--,r--);}catch(n){l.addError(n,"fireEvent."+t+"<"+r+">");}}},spaNavigation:function(){n.onloadfired=!0;},beaconUrlAllowed:function(t){if(!n.beacon_urls_allowed||0===n.beacon_urls_allowed.length)return !0;for(var r=0;r<n.beacon_urls_allowed.length;r++){if(new RegExp(n.beacon_urls_allowed[r]).exec(t))return !0}return !1},checkLocalStorageSupport:function(){var r=n.LOCAL_STORAGE_PREFIX+"clss";n.localStorageSupported=!1;try{if(!t.JSON||!t.localStorage)return;t.localStorage.setItem(r,r),n.localStorageSupported=t.localStorage.getItem(r)===r,t.localStorage.removeItem(r);}catch(t){n.localStorageSupported=!1;}},onFrameUnloaded:function(){var t,r;for(l.isUnloaded=!0,t=0;t<n.nativeOverwrites.length;t++)(r=n.nativeOverwrites[t]).obj[r.functionName]=r.origFn;n.nativeOverwrites=[];}},r={t_start:u,t_end:void 0,url:"",config_url:null,loadedLate:!1,beaconsSent:0,isUnloaded:!1,beaconInQueue:!1,constants:{BEACON_TYPE_SPAS:["spa","spa_hard"],MAX_GET_LENGTH:2e3},session:{domain:n.site_domain,ID:Math.random().toString(36).replace(/^0\./,""),start:void 0,length:0,enabled:!0},utils:{hasPostMessageSupport:function(){return !(!t.postMessage||"function"!=typeof t.postMessage&&"object"!=typeof t.postMessage)},objectToString:function(t,n,r){var e,i=[];if(!t||"object"!=typeof t)return t;if(void 0===n&&(n="\n\t"),r||(r=0),l.utils.isArray(t)){for(e=0;e<t.length;e++)r>0&&null!==t[e]&&"object"==typeof t[e]?i.push(this.objectToString(t[e],n+("\n\t"===n?"\t":""),r-1)):"&"===n?i.push(encodeURIComponent(t[e])):i.push(t[e]);n=",";}else for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r>0&&null!==t[e]&&"object"==typeof t[e]?i.push(encodeURIComponent(e)+"="+this.objectToString(t[e],n+("\n\t"===n?"\t":""),r-1)):"&"===n?i.push(encodeURIComponent(e)+"="+encodeURIComponent(t[e])):i.push(e+"="+t[e]));return i.join(n)},getCookie:function(t){return t?(t=" "+t+"=",(n=(r=" "+e.cookie+";").indexOf(t))>=0?(n+=t.length,r=r.substring(n,r.indexOf(";",n)).replace(/^"/,"").replace(/"$/,"")):void 0):null;var n,r;},setCookie:function(t,n,r){var i,o,a,u,c;if(!t||!l.session.domain||void 0===n)return l.debug("Invalid parameters or site domain: "+t+"/"+n+"/"+l.session.domain),l.addVar("nocookie",1),!1;if((o=t+'="'+(i=this.objectToString(n,"&"))+'"').length<500){if(u=[o,"path=/","domain="+l.session.domain],"number"==typeof r&&((c=new Date).setTime(c.getTime()+1e3*r),c=c.toGMTString(),u.push("expires="+c)),e.cookie=u.join("; "),i===(a=this.getCookie(t))||void 0===a&&"number"==typeof r&&r<=0)return !0;l.warn("Saved cookie value doesn't match what we tried to set:\n"+i+"\n"+a);}else l.warn("Cookie too long: "+o.length+" "+o);return l.addVar("nocookie",1),!1},getSubCookies:function(t){var n,r,e,i,o=!1,a={};if(!t)return null;if("string"!=typeof t)return l.debug("TypeError: cookie is not a string: "+typeof t),null;for(r=0,e=(n=t.split("&")).length;r<e;r++)(i=n[r].split("="))[0]&&(i.push(""),a[decodeURIComponent(i[0])]=decodeURIComponent(i[1]),o=!0);return o?a:null},removeCookie:function(t){return this.setCookie(t,{},-86400)},getLocalStorage:function(r){var e,i;if(!r||!n.localStorageSupported)return null;try{if(null===(e=t.localStorage.getItem(n.LOCAL_STORAGE_PREFIX+r)))return;i=t.JSON.parse(e);}catch(t){return l.warn(t),null}return i&&"object"==typeof i.items?"number"==typeof i.expires&&l.now()>=i.expires?void this.removeLocalStorage(r):i.items:(this.removeLocalStorage(r),null)},setLocalStorage:function(r,e,i){var o,a,u;if(!r||!n.localStorageSupported||"object"!=typeof e)return !1;if(o={items:e},"number"==typeof i&&(o.expires=l.now()+1e3*i),(a=t.JSON.stringify(o)).length<5e4){try{if(t.localStorage.setItem(n.LOCAL_STORAGE_PREFIX+r,a),a===(u=t.localStorage.getItem(n.LOCAL_STORAGE_PREFIX+r)))return !0}catch(t){}l.warn("Saved storage value doesn't match what we tried to set:\n"+a+"\n"+u);}else l.warn("Storage items too large: "+a.length+" "+a);return !1},removeLocalStorage:function(r){if(!r||!n.localStorageSupported)return !1;try{return t.localStorage.removeItem(n.LOCAL_STORAGE_PREFIX+r),!0}catch(t){}return !1},cleanupURL:function(t,r){if(!t||l.utils.isArray(t))return "";if(n.strip_query_string&&(t=t.replace(/\?.*/,"?qs-redacted")),void 0!==r&&t&&t.length>r){var e=t.indexOf("?");t=-1!==e&&e<r?t.substr(0,e)+"?...":t.substr(0,r-3)+"...";}return t},hashQueryString:function(t,n){return t?t.match?(t.match(/^\/\//)&&(t=location.protocol+t),t.match(/^(https?|file):/)?(n&&(t=t.replace(/#.*/,"")),l.utils.MD5?t.replace(/\?([^#]*)/,(function(t,n){return "?"+(n.length>10?l.utils.MD5(n):n)})):t):(l.error("Passed in URL is invalid: "+t),"")):(l.addError("TypeError: Not a string","hashQueryString",typeof t),""):t},pluginConfig:function(t,n,r,e){var i,o=0;if(!n||!n[r])return !1;for(i=0;i<e.length;i++)void 0!==n[r][e[i]]&&(t[e[i]]=n[r][e[i]],o++);return o>0},arrayFilter:function(t,n){var r=[];if(!(this.isArray(t)||t&&"number"==typeof t.length)||"function"!=typeof n)return r;if("function"==typeof t.filter)r=t.filter(n);else for(var e,i=-1,o=t.length;++i<o;)n(e=t[i],i,t)&&(r[r.length]=e);return r},arrayFind:function(t,n){if((this.isArray(t)||t&&"number"==typeof t.length)&&"function"==typeof n){if("function"==typeof t.find)return t.find(n);for(var r,e=-1,i=t.length;++e<i;)if(n(r=t[e],e,t))return r}},isMutationObserverSupported:function(){return !(t&&t.navigator&&t.navigator.userAgent&&t.navigator.userAgent.match(/Trident.*rv[ :]*11\./))&&t&&t.MutationObserver&&"function"==typeof t.MutationObserver},addObserver:function(n,r,e,i,o,a){var u,c,s={observer:null,timer:null};if(!this.isMutationObserverSupported()||!i||!n)return null;function f(t){var n=!1;s.timer&&(clearTimeout(s.timer),s.timer=null),i&&((n=i.call(a,t,o))||(i=null)),!n&&s.observer&&(s.observer.disconnect(),s.observer=null),"number"==typeof n&&n>0&&(s.timer=setTimeout(f,n));}return u=t.MutationObserver,t.Zone&&"function"==typeof t.Zone.__symbol__&&(c=t.Zone.__symbol__("MutationObserver"))&&"string"==typeof c&&t.hasOwnProperty(c)&&"function"==typeof t[c]&&(l.debug("Detected Zone.js, using native MutationObserver"),u=t[c]),s.observer=new u(f),e&&(s.timer=setTimeout(f,s.timeout)),s.observer.observe(n,r),s},addListener:function(t,r,e,i){var o;t.addEventListener?(o=!(!i||!l.browser.supportsPassive())&&{capture:!1,passive:!0},t.addEventListener(r,e,o)):t.attachEvent&&t.attachEvent("on"+r,e),n.listenerCallbacks[r]=n.listenerCallbacks[r]||[],n.listenerCallbacks[r].push({el:t,fn:e});},removeListener:function(t,r,e){if(t.removeEventListener?t.removeEventListener(r,e,!1):t.detachEvent&&t.detachEvent("on"+r,e),n.listenerCallbacks.hasOwnProperty(r))for(var i=0;i<n.listenerCallbacks[r].length;i++)if(e===n.listenerCallbacks[r][i].fn&&t===n.listenerCallbacks[r][i].el)return void n.listenerCallbacks[r].splice(i,1)},isArray:function(t){return "[object Array]"===Object.prototype.toString.call(t)},inArray:function(t,n){var r;if(void 0===t||void 0===n||!n.length)return !1;for(r=0;r<n.length;r++)if(n[r]===t)return !0;return !1},getQueryParamValue:function(t,n){var r,e,i,o;if(!t)return null;for("string"==typeof n?(r=l.window.document.createElement("a")).href=n:r="object"==typeof n&&"string"==typeof n.search?n:l.window.location,e=r.search.slice(1).split(/&/),i=0;i<e.length;i++)if(e[i]&&(o=e[i].split("=")).length&&o[0]===t)return o.length>1?decodeURIComponent(o.splice(1).join("=").replace(/\+/g," ")):"";return null},generateUUID:function(){return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=16*Math.random()|0;return ("x"===t?n:3&n|8).toString(16)}))},generateId:function(t){return "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx".substr(0,t||40).replace(/x/g,(function(t){return "0"===(t=(Math.random()||.01).toString(36))?"0":t.substr(2,1)}))},serializeForUrl:function(t){return l.utils.Compression&&l.utils.Compression.jsUrl?l.utils.Compression.jsUrl(t):window.JSON?JSON.stringify(t):(l.debug("JSON is not supported"),"")},getMyURL:function(){var t,n=document.currentScript||document.getElementById("boomr-if-as")||document.getElementById("boomr-scr-as");if(n)return n.src;var r,e=document.getElementsByTagName("script");for(r=e.length;r--;)if("interactive"===e[r].readyState)return e[r].src;try{throw new Error}catch(n){if("stack"in n&&(t=this.arrayFilter(n.stack.split(/\n/),(function(t){return t.match(/https?:\/\//)})))&&t.length)return t[0].replace(/.*(https?:\/\/.+?)(:\d+)+\D*$/m,"$1")}return ""},scroll:function(){var n=void 0!==t.pageXOffset,r="CSS1Compat"===(t.document.compatMode||""),e={x:0,y:0};return n?"function"==typeof t.pageXOffset?(e.x=t.pageXOffset(),e.y=t.pageYOffset()):(e.x=t.pageXOffset,e.y=t.pageYOffset):r?(e.x=t.document.documentElement.scrollLeft,e.y=t.document.documentElement.scrollTop):(e.x=t.document.body.scrollLeft,e.y=t.document.body.scrollTop),"number"==typeof e.sx&&(e.sx=Math.round(e.sx)),"number"==typeof e.sy&&(e.sy=Math.round(e.sy)),e},windowHeight:function(){return t.innerHeight||t.document.documentElement.clientHeight||t.document.body.clientHeight},windowWidth:function(){return t.innerWidth||t.document.documentElement.clientWidth||t.document.body.clientWidth},isNative:function(t){return !!t&&t.toString&&!t.hasOwnProperty("toString")&&/\[native code\]/.test(String(t))},overwriteNative:function(t,r,e){t&&e&&(l.boomerang_frame!==l.window&&n.nativeOverwrites.push({obj:t,functionName:r,origFn:t[r]}),t[r]=e);},isInteger:function(t){return (Number.isInteger||function(t){return "number"==typeof t&&isFinite(t)&&Math.floor(t)===t})(t)},forEach:function(t,n,r){if(l.utils.isArray(t)&&"function"==typeof n)for(var e=t.length,i=0;i<e;i++)t.hasOwnProperty(i)&&n.call(r,t[i],i,t);},mark:function(t){var n=l.getPerformance();n&&"function"==typeof n.mark&&!l.window.BOOMR_no_mark&&n.mark("boomr:"+t);},measure:function(t,n,r){var e=l.getPerformance();e&&"function"==typeof e.measure&&!l.window.BOOMR_no_mark&&e.measure("boomr:"+t,n?"boomr:"+n:void 0,r?"boomr:"+r:void 0);}},browser:{results:{},supportsPassive:function(){if(void 0===l.browser.results.supportsPassive){if(l.browser.results.supportsPassive=!1,!Object.defineProperty)return !1;try{var t=Object.defineProperty({},"passive",{get:function(){l.browser.results.supportsPassive=!0;}});window.addEventListener("test",null,t);}catch(t){}}return l.browser.results.supportsPassive}},init:function(r){var i,o,a=["autorun","sampleRate","normalizeUrl","beacon_auth_key","beacon_auth_token","beacon_with_credentials","beacon_disable_sendbeacon","beacon_url","beacon_url_force_https","beacon_type","site_domain","strip_query_string","user_ip"];if(c(),r||(r={}),void 0!==r.log&&(this.log=r.log),this.log||(this.log=function(){}),this.pageId||(this.pageId=l.utils.generateId(8),l.debug("Generated PageID: "+this.pageId)),r.primary&&n.handlers_attached)return this;for(o in "string"==typeof r.site_domain&&(this.session.domain=r.site_domain),void 0!==r.autorun&&(n.autorun=r.autorun),this.plugins)if(this.plugins.hasOwnProperty(o)){if(r[o]&&r[o].hasOwnProperty("enabled")&&!1===r[o].enabled){n.disabled_plugins[o]=1,"function"==typeof this.plugins[o].disable&&this.plugins[o].disable();continue}if(n.disabled_plugins[o]){if(!r[o]||!r[o].hasOwnProperty("enabled")||!0!==r[o].enabled)continue;"function"==typeof this.plugins[o].enable&&this.plugins[o].enable(),delete n.disabled_plugins[o];}if("function"==typeof this.plugins[o].init)try{this.plugins[o].init(r);}catch(t){l.addError(t,o+".init");}}for(i=0;i<a.length;i++)void 0!==r[a[i]]&&(n[a[i]]=r[a[i]]);return (!n.handlers_attached&&!r.wait||n.handlers_attached&&n.waiting_for_config)&&(n.onloadfired||void 0!==n.autorun&&!1===n.autorun||(l.hasBrowserOnloadFired()&&(l.loadedLate=!0),l.attach_page_ready(l.page_ready_autorun)),n.waiting_for_config=!1),n.handlers_attached||(r.wait&&(n.waiting_for_config=!0),l.attach_page_ready((function(){l.t_onload||(l.t_onload=l.now());})),l.utils.addListener(t,"DOMContentLoaded",(function(){n.fireEvent("dom_loaded");})),l.fireEvent("config",r),l.subscribe("config",(function(t){t.beacon_url&&(n.beacon_url=t.beacon_url);})),l.subscribe("spa_navigation",n.spaNavigation,null,n),function(){var r,i;for(void 0!==s&&(l.utils.addListener(e,s,(function(){n.fireEvent("visibility_changed");})),n.lastVisibilityState=l.visibilityState(),l.subscribe("visibility_changed",(function(){var t=l.visibilityState();l.lastVisibilityEvent[t]=l.now(),l.debug("Visibility changed from "+n.lastVisibilityState+" to "+t),"prerender"===n.lastVisibilityState&&"prerender"!==t&&(l.addVar("vis.pre","1"),n.fireEvent("prerender_to_visible")),n.lastVisibilityState=t;}))),l.utils.addListener(e,"mouseup",n.xb_handler("click")),r=e.getElementsByTagName("form"),i=0;i<r.length;i++)l.utils.addListener(r[i],"submit",n.xb_handler("form_submit"));t.onpagehide||null===t.onpagehide||l.utils.addListener(t,"unload",(function(){l.window=t=null;})),l.boomerang_frame!==l.window&&l.utils.addListener(l.boomerang_frame,"unload",n.onFrameUnloaded);}(),n.handlers_attached=!0),this},attach_page_ready:function(n){l.hasBrowserOnloadFired()?this.setImmediate(n,null,null,l):t.onpagehide||null===t.onpagehide?l.utils.addListener(t,"pageshow",(function(){l.trace("boomerang","attach_page_ready","响应 pageshow 事件"),n();})):l.utils.addListener(t,"load",(function(){l.trace("boomerang","attach_page_ready","响应 onload 事件"),n();}));},page_ready_autorun:function(t){n.autorun&&l.page_ready(t,!0);},page_ready:function(r,e){var i;return l.trace("boomerang","page_ready","start"),e||"number"!=typeof r||(i=r,r=null),r||(r=t.event),r||(r={name:"load"}),e?"number"==typeof t.BOOMR_page_ready&&(r.timing=r.timing||{},r.timing.loadEventEnd=t.BOOMR_page_ready,l.addVar("pr",1,!0)):(r.timing=r.timing||{},i?r.timing.loadEventEnd=i:"number"==typeof t.BOOMR_page_ready?r.timing.loadEventEnd=t.BOOMR_page_ready:r.timing.loadEventEnd=l.now(),l.addVar("pr",1,!0)),n.onloadfired||(l.trace("boomerang","page_ready","("+r.initiator+")加载完成时间：loadEventEnd=",r.timing.loadEventEnd),n.fireEvent("page_ready",r),n.onloadfired=!0),this},hasBrowserOnloadFired:function(){var n=l.getPerformance();return e.readyState&&"complete"===e.readyState||n&&n.timing&&n.timing.loadEventStart>0||t.BOOMR_onload>0},onloadFired:function(){return n.onloadfired},setImmediate:function(n,r,e,i){var o,a;"undefined"!=typeof Error&&(a=(a=new Error).stack?a.stack.replace(/^Error/,"Called"):void 0),o=function(){n.call(i||null,r,e||{},a),o=null;},t.requestIdleCallback?t.requestIdleCallback(o,{timeout:1e3}):t.setImmediate?t.setImmediate(o):setTimeout(o,10);},now:Date.now||function(){return (new Date).getTime()},getPerformance:function(){try{if(l.window)return "performance"in l.window&&l.window.performance?l.window.performance:l.window.msPerformance||l.window.webkitPerformance||l.window.mozPerformance}catch(t){}},hrNow:function(){var t,n,r=l.getPerformance();return r&&r.now?t=r.now():(n=l.plugins.RT&&l.plugins.RT.navigationStart&&l.plugins.RT.navigationStart()||l.t_lstart||l.t_start,t=l.now()-n),t},visibilityState:void 0===a?function(){return "visible"}:function(){return e[a]},lastVisibilityEvent:{},registerEvent:function(t){return n.events.hasOwnProperty(t)||(n.events[t]=[]),this},disable:function(){n.clearEvents(),n.clearListeners();},fireEvent:function(t,r){return n.fireEvent(t,r)},subscribe:function(r,e,i,o,a){var u,c,s;for(r=r.toLowerCase(),n.translate_events[r]&&(r=n.translate_events[r]),n.events.hasOwnProperty(r)||(n.events[r]=[]),s=n.events[r],u=0;u<s.length;u++)if((c=s[u])&&c.fn===e&&c.cb_data===i&&c.scope===o)return this;if(s.push({fn:e,cb_data:i||{},scope:o||null,once:a||!1}),"page_ready"===r&&n.onloadfired&&n.autorun&&this.setImmediate(e,null,i,o),"page_unload"===r||"before_unload"===r){n.unloadEventsCount++;var f=this;!function(){var a;s.length;a=function(r){if(e&&e.call(o,r||t.event,i),++n.unloadEventCalled===n.unloadEventsCount){l.real_sendBeacon();var a=f.plugins.Continuity;a&&"function"==typeof a.checkIfSendAdditionalBeacon&&a.checkIfSendAdditionalBeacon();}},"page_unload"===r&&(t.onpagehide||null===t.onpagehide?l.utils.addListener(t,"pagehide",a):l.utils.addListener(t,"unload",a)),l.utils.addListener(t,"beforeunload",a);}();}return this},addError:function(t,r,e){var i,o=l.plugins.Errors;l.error("Boomerang caught error: "+t+", src: "+r+", extra: "+e),o&&o.is_supported()?"string"==typeof t?o.send({message:t,extra:e,functionName:r,noStack:!0},o.VIA_APP,o.SOURCE_BOOMERANG):("string"==typeof r&&(t.functionName=r),void 0!==e&&(t.extra=e),o.send(t,o.VIA_APP,o.SOURCE_BOOMERANG)):("string"!=typeof t&&((i=String(t)).match(/^\[object/)&&(i=t.name+": "+(t.description||t.message).replace(/\r\n$/,"")),t=i),void 0!==r&&(t="["+r+":"+l.now()+"] "+t),e&&(t+=":: "+e),n.errors[t]?n.errors[t]++:n.errors[t]=1);},isCrossOriginError:function(t){return "SecurityError"===t.name||"TypeError"===t.name&&"Permission denied"===t.message||"Error"===t.name&&t.message&&t.message.match(/^(Permission|Access is) denied/)||-2146828218===t.number},addVar:function(t,r,e){if("string"==typeof t)n.vars[t]=r;else if("object"==typeof t){var i,o=t;for(i in o)o.hasOwnProperty(i)&&(n.vars[i]=o[i]);}return e&&(n.singleBeaconVars[t]=1),this},appendVar:function(t,n){var r=l.getVar(t)||"";return r&&(r+=","),l.addVar(t,r+n),this},removeVar:function(t){var r,e;if(!arguments.length)return this;for(e=1===arguments.length&&l.utils.isArray(t)?t:arguments,r=0;r<e.length;r++)n.vars.hasOwnProperty(e[r])&&delete n.vars[e[r]];return this},hasVar:function(t){return n.vars.hasOwnProperty(t)},getVar:function(t){return n.vars[t]},setVarPriority:function(t,r){return "number"!=typeof r||1!==Math.abs(r)||(n.varPriority[r][t]=1),this},setReferrer:function(t){n.r=t;},requestStart:function(t){var n=l.now();return l.plugins.RT.startTimer("xhr_"+t,n),{loaded:function(r){l.responseEnd(t,n,r);}}},readyToSend:function(){var t;for(t in this.plugins)if(this.plugins.hasOwnProperty(t)){if(n.disabled_plugins[t])continue;if("function"==typeof this.plugins[t].readyToSend&&!1===this.plugins[t].readyToSend())return l.debug("Plugin "+t+" is not ready to send"),!1}return !0},responseEnd:function(t,r,e,i){if(l.trace("boomerang","responseEnd","init",t),r="number"==typeof r?r:l.now(),i="number"==typeof i?i:l.now(),!l.readyToSend())return l.debug("Attempted to call responseEnd before all plugins were Ready to Send, trying again..."),void setTimeout((function(){l.responseEnd(t,r,e,i);}),1e3);if(l.hasSentPageLoadBeacon()||l.utils.inArray(t.initiator,l.constants.BEACON_TYPE_SPAS))if(n.beaconInQueue)l.subscribe("beacon",(function(){l.responseEnd(t,r,e,i);}),null,l,!0);else if(n.beaconInQueue=!0,l.trace("boomerang","responseEnd","锁定 beacon 队列，impl.beaconInQueue = true",n),"object"==typeof t){if(!t.url)return void l.debug("BOOMR.responseEnd: First argument must have a url property if it's an object");l.trace("boomerang","responseEnd","发布 xhr_load 事件",t),n.fireEvent("xhr_load",t);}else l.real_sendBeacon(),l.addVar("xhr.pg",t),l.plugins.RT.startTimer("xhr_"+t,r),l.trace("boomerang","responseEnd","发布 xhr_load 事件",t),n.fireEvent("xhr_load",{name:"xhr_"+t,data:e,timing:{loadEventEnd:i}});else l.subscribe("page_load_beacon",(function(){l.responseEnd(t,r,e,i);}),null,l,!0);},uninstrumentXHR:function(){},instrumentXHR:function(){},uninstrumentFetch:function(){},instrumentFetch:function(){},sendBeacon:function(t){return t&&(n.beacon_url_override=t),n.beaconQueued||(l.trace("boomerang","sendBeacon","beacon 进入队列，impl.beaconQueued = true, "+n.vars["http.initiator"]+"."+n.vars.u,n),n.beaconQueued=!0,l.setImmediate(l.real_sendBeacon,null,null,l)),!0},sendBeaconWhenReady:function(t,r,e){if(n.beaconInQueue)l.subscribe("beacon",(function(){l.sendBeaconWhenReady(t,r,e);}),null,l,!0);else {for(var i in l.trace("boomerang","responseEnd","锁定 beacon 队列，impl.beaconInQueue = true，"+n.vars["http.initiator"]+"."+n.vars.u),n.beaconInQueue=!0,t)t.hasOwnProperty(i)&&l.addVar(i,t[i],!0);"function"==typeof r&&void 0!==e&&r.apply(e),l.sendBeacon();}},real_sendBeacon:function(){var r,i=[],o={};if(!n.beaconQueued&&!n.ttinewBeaconPending)return !1;for(r in l.trace("boomerang","real_sendBeacon","检查是否要发送 beacon，"+n.vars["http.initiator"]+"."+n.vars.u),l.trace("boomerang","real_sendBeacon","当前 beacon 从队列中移出，impl.beaconQueued = false，"+n.vars["http.initiator"]+"."+n.vars.u),n.beaconQueued=!1,l.debug("Checking if we can send beacon"),this.plugins)if(this.plugins.hasOwnProperty(r)){if(n.disabled_plugins[r])continue;if(!this.plugins[r].is_complete(n.vars))return l.debug("Plugin "+r+" is not complete, deferring beacon send"),!1}if(l.trace("boomerang","real_sendBeacon","各插件检查通过，"+n.vars["http.initiator"]+"."+n.vars.u),!(window&&window.Image&&window.navigator&&l.window))return l.debug("DOM not fully available, not sending a beacon"),!1;var a=l.utils.inArray(n.vars["http.initiator"],l.constants.BEACON_TYPE_SPAS),u=void 0===n.vars["http.initiator"]||a;for(r in n.vars.pgu||(n.vars.pgu=a?e.URL:e.URL.replace(/#.*/,"")),n.vars.pgu=l.utils.cleanupURL(n.vars.pgu),n.vars.u&&!a||(n.vars.u=n.vars.pgu),n.vars.pgu===n.vars.u&&delete n.vars.pgu,n.r?n.vars.r=l.utils.cleanupURL(n.r):delete n.vars.r,n.vars.v=l.version,l.snippetVersion&&(n.vars.sv=l.snippetVersion),n.vars.sm=l.snippetMethod||"i",l.session.enabled&&(n.vars["rt.si"]=l.session.ID+"-"+Math.round(l.session.start/1e3).toString(36),n.vars["rt.ss"]=l.session.start,n.vars["rt.sl"]=l.session.length),l.visibilityState()&&(n.vars["vis.st"]=l.visibilityState(),l.lastVisibilityEvent.visible&&(n.vars["vis.lv"]=l.now()-l.lastVisibilityEvent.visible),l.lastVisibilityEvent.hidden&&(n.vars["vis.lh"]=l.now()-l.lastVisibilityEvent.hidden)),n.vars["ua.plt"]=navigator.platform,n.vars["ua.vnd"]=navigator.vendor,this.pageId&&(n.vars.pid=this.pageId),n.vars.n=++this.beaconsSent,t!==window&&(n.vars.if=""),n.errors)n.errors.hasOwnProperty(r)&&i.push(r+(n.errors[r]>1?" (*"+n.errors[r]+")":""));if(i.length>0&&(n.vars.errors=i.join("\n")),n.errors={},"function"==typeof n.normalizeUrl&&n.vars.u&&(n.vars.nmu=n.normalizeUrl(n.vars.u)),"click"===n.vars["http.initiator"])return l.debug("Skipping because click beacon has not meaning"),n.beaconInQueue=!1,!1;for(r in l.trace("boomerang","real_sendBeacon","发布 before_beacon 事件"),n.fireEvent("before_beacon",n.vars),n.vars)n.vars.hasOwnProperty(r)&&(o[r]=n.vars[r]);for(var c in l.removeVar(["qt","pgu"]),n.singleBeaconVars)n.singleBeaconVars.hasOwnProperty(c)&&l.removeVar(c);return n.singleBeaconVars={},!n.hasSentPageLoadBeacon&&u&&(n.hasSentPageLoadBeacon=!0,l.setImmediate((function(){n.fireEvent("page_load_beacon",o);}))),l.session.rate_limited?(l.debug("Skipping because we're rate limited"),!1):(l.trace("boomerang","responseEnd","释放 beacon 队列，impl.beaconInQueue = false，"+n.vars["http.initiator"]+"."+n.vars.u),n.beaconInQueue=!1,"number"==typeof n.sampleRate&&Math.random()>n.sampleRate?(l.debug("Skipping because we're sample limited"),!1):(this.plugins.Continuity.getTtiWaitForXHRDone()&&"spa_hard"===n.vars["http.initiator"]&&!n.vars["c.tti.new"]&&(l.traceHighlight("boomerang","real_sendBeacon","未采集到 ttinew，不发送 beacon"),n.ttinewBeaconPending=!0,n.ttinewBeaconPendingData=o),l.traceHighlight("boomerang","real_sendBeacon","检查通过准备发送 beacon"),l.sendBeaconData(o),!0))},sendAdditionalBeacon:function(t){n.ttinewBeaconPendingData&&(l.traceHighlight("boomerang","sendAdditionalBeacon","补发 beacon"),l.sendBeaconData(Object.assign(n.ttinewBeaconPendingData,t)),n.ttinewBeaconPendingData=void 0,n.ttinewBeaconPending=!1);},hasSentPageLoadBeacon:function(){return n.hasSentPageLoadBeacon},sendBeaconData:function(r){var e,i,o,a,u,c=[],s=!0;if(l.debug("Ready to send beacon: "+l.utils.objectToString(r)),!n.beacon_url)return l.debug("No beacon URL, so skipping."),!1;if(!n.beaconUrlAllowed(n.beacon_url))return l.debug("Beacon URL not allowed: "+n.beacon_url),!1;if(0===r.length)return !1;if(l.trace("boomerang","sendBeaconData","发送 beacon",r),n.fireEvent("beacon",r),c=this.getVarsOfPriority(r,-1),e=this.getVarsOfPriority(r,1),i=c.concat(this.getVarsOfPriority(r,0),e).join("&"),n.beacon_url_force_https&&n.beacon_url.match(/^\/\//)&&(n.beacon_url="https:"+n.beacon_url),o=n.beacon_url+(n.beacon_url.indexOf("?")>-1?"&":"?")+i,"GET"===n.beacon_type?(s=!0,o.length>l.constants.MAX_GET_LENGTH&&(window.console&&(console.warn||console.log)||function(){})("Boomerang: Warning: Beacon may not be sent via GET due to payload size > 2000 bytes")):("POST"===n.beacon_type||o.length>l.constants.MAX_GET_LENGTH)&&(s=!1),t&&t.navigator&&"function"==typeof t.navigator.sendBeacon&&l.utils.isNative(t.navigator.sendBeacon)&&"function"==typeof t.Blob&&"GET"!==n.beacon_type&&void 0===n.beacon_auth_token&&!n.beacon_disable_sendbeacon){var f=new t.Blob([i+"&sb=1"],{type:"text/plain"});if(t.navigator.sendBeacon(n.beacon_url,f))return !0}if(l.orig_XMLHttpRequest||t&&t.XMLHttpRequest||(s=!0),s){try{a=new Image;}catch(t){return l.debug("Image is not a constructor, not sending a beacon"),!1}a.src=o;}else {u=new(l.window.orig_XMLHttpRequest||l.orig_XMLHttpRequest||l.window.XMLHttpRequest);try{this.sendXhrPostBeacon(u,i);}catch(t){u=new l.boomerang_frame.XMLHttpRequest,this.sendXhrPostBeacon(u,i);}}return !0},sendXhrPostBeacon:function(t,r){t.open("POST",n.beacon_url),t.setRequestHeader("Content-type","text/plain"),void 0!==n.beacon_auth_token&&(void 0===n.beacon_auth_key&&(n.beacon_auth_key="Authorization"),t.setRequestHeader(n.beacon_auth_key,n.beacon_auth_token)),n.beacon_with_credentials&&(t.withCredentials=!0),t.send(r);},getVarsOfPriority:function(t,r){var e,i=[],o=0!==r?n.varPriority[r]:t;for(e in o)o.hasOwnProperty(e)&&t.hasOwnProperty(e)&&(i.push(this.getUriEncodedVar(e,void 0===t[e]?"":t[e])),0!==r&&delete t[e]);return i},getUriEncodedVar:function(t,n){return null==n&&(n=""),"object"==typeof n&&(n=l.utils.serializeForUrl(n)),encodeURIComponent(t)+"="+encodeURIComponent(n)},getResourceTiming:function(t,n,r){var e,i=l.getPerformance();try{if(i&&"function"==typeof i.getEntriesByName){if(!(e=i.getEntriesByName(t))||!e.length)return;if(!("function"!=typeof r||(e=l.utils.arrayFilter(e,r))&&e.length))return;return e.length>1&&"function"==typeof n&&e.sort(n),e[e.length-1]}}catch(t){l.warn("getResourceTiming:"+t);}},setBeaconUrlsAllowed:function(t){n.beacon_urls_allowed=t;}},l.url){var d=l.window.document.createElement("a");d.href=l.url,r.url=d.href;}else r.url=r.utils.getMyURL();delete window.BOOMR_start,"number"==typeof window.BOOMR_lstart?(r.t_lstart=window.BOOMR_lstart,delete window.BOOMR_lstart):"number"==typeof l.window.BOOMR_lstart&&(r.t_lstart=l.window.BOOMR_lstart),"number"==typeof l.window.BOOMR_onload&&(r.t_onload=l.window.BOOMR_onload),"object"==typeof console&&void 0!==console.log?r.log=function(t,n,r){}:r.log=function(){},O=function(t){return function(n,r){return this.log(n,t,"boomerang"+(r?"."+r:"")),this}},r.debug=O("debug"),r.info=O("info"),r.warn=O("warn"),r.error=O("error"),r.traceTime=function(t){var n=t||l.now();return new Date(n).getHours()+":"+new Date(n).getMinutes()+":"+new Date(n).getSeconds()},r.cleanupURL=function(){return ""+location.toString().replace(location.protocol+"//"+location.host,"")},r.trace=function(t,n,r,e){r="("+l.traceTime()+") {"+l.cleanupURL()+"} ["+t+"] <"+n+"> "+r,e?void 0:void 0;},r.traceHighlight=function(t,n,r){r="("+l.traceTime()+") {"+l.cleanupURL()+"} ["+t+"] <"+n+"> "+r,void 0;};try{var h=r.getPerformance();h&&"function"==typeof h.now&&/\[native code\]/.test(String(h.now))&&h.timing&&h.timing.navigationStart&&(r.now=function(){return Math.round(h.now()+h.timing.navigationStart)});}catch(t){}return n.checkLocalStorageSupport(),function(){var t;for(t in r)r.hasOwnProperty(t)&&(l[t]=r[t]);l.xhr_excludes||(l.xhr_excludes={});}(),function(){if(l.checkWindowOverrides=function(t){if(!Object.getOwnPropertyNames)return [];var n,r,i,o=[];function a(n){(function(n){var r=n.split("."),e=t;for(;e&&r.length;)try{e=e[r.shift()];}catch(t){return !1}return "function"==typeof e&&!function(t,n){if("console.assert"===n||"Function.prototype"===n||n.indexOf("onload")>=0||n.indexOf("onbeforeunload")>=0||n.indexOf("onerror")>=0||n.indexOf("onload")>=0||n.indexOf("NodeFilter")>=0)return !0;return t.toString&&!t.hasOwnProperty("toString")&&/\[native code\]/.test(String(t))}(e,n)})(n)&&o.push(n);}(i=e.createElement("iframe")).style.display="none",i.src="javascript:false",e.getElementsByTagName("script")[0].parentNode.appendChild(i),n=i.contentWindow,r=Object.getOwnPropertyNames(n);for(var u=0;u<r.length;u++){var c=r[u];if("window"!==c&&"self"!==c&&"top"!==c&&"parent"!==c&&"frames"!==c&&(n[c]&&("object"==typeof n[c]||"function"==typeof n[c]))){a(c);var s=[];try{s=Object.getOwnPropertyNames(n[c]);}catch(t){}for(var f=0;f<s.length;f++)a([c,s[f]].join("."));if(n[c].prototype){s=Object.getOwnPropertyNames(n[c].prototype);for(f=0;f<s.length;f++)a([c,"prototype",s[f]].join("."));}}}return o},l.checkDocumentOverrides=function(t){return l.utils.arrayFilter(["readyState","domain","hidden","URL","cookie"],(function(n){return t.hasOwnProperty(n)}))},"true"===l.utils.getQueryParamValue("overridden")&&t&&t.Object&&Object.getOwnPropertyNames){var n=[].concat(l.checkWindowOverrides(t)).concat(l.checkDocumentOverrides(e));n.length>0&&l.warn("overridden: "+n.sort());}}(),o("onBoomerangLoaded",{BOOMR:l},!0),l}function f(t){return "[object String]"===Object.prototype.toString.call(t)}function O(t,n){return !!f(n)&&t.some((function(t){if(!t)return !1;if(f(t))return -1!==n.indexOf(t);if(r=t,"[object RegExp]"===Object.prototype.toString.call(r))try{return t.test(n)}catch(n){return console.error(t+"正则书写有误"),!1}var r;return console.error(t+"忽略匹配项类型应该是String、RegExp"),!1}))}function l(){var t,n,r,e,i,o=["uninitialized","open","responseStart","domInteractive","responseEnd"];function a(t){}function u(t){if(!t)return null;t.href=t.href;var n=t.pathname;return "/"!==n.charAt(0)&&(n="/"+n),n}function c(t){var n;if(t.href){if(t.href.match(/^(about:|javascript:|data:)/i))return !0;if("function"==typeof BOOMR.getBeaconURL&&BOOMR.getBeaconURL()&&(0===(n=t.href.indexOf(BOOMR.getBeaconURL()))||5===n||6===n))return !0}return BOOMR.xhr_excludes.hasOwnProperty(t.href)||BOOMR.xhr_excludes.hasOwnProperty(t.hostname)||BOOMR.xhr_excludes.hasOwnProperty(u(t))}function s(){this.watch=0,this.timer=null,this.pending_events=[],this.lastSpaLocation=null;}function f(t,n){var r,e;if(!n||!t)return !1;if("boolean"==typeof n)return !0===n;if("function"==typeof n)try{return !0===n(t)}catch(t){return !1}if(BOOMR.utils.isArray(n))for(r=0;r<n.length;r++){if("string"==typeof(e=n[r])&&e===t)return !0;if(e instanceof RegExp&&e.test(t))return !0}return !1}function l(){i.monitorFetch&&"function"==typeof t.fetch&&"function"==typeof t.Request&&"function"==typeof t.Response&&"function"==typeof t.Promise&&"function"==typeof window.fetch&&!t.fetch.polyfill&&(BOOMR.proxy_fetch&&BOOMR.proxy_fetch===t.fetch||(BOOMR.proxy_fetch&&BOOMR.orig_fetch&&BOOMR.orig_fetch===t.fetch?t.fetch=BOOMR.proxy_fetch:(BOOMR.orig_fetch=t.orig_fetch||t.fetch,BOOMR.proxy_fetch=function(n,init){var o,a,u,c={timing:{},initiator:"xhr"};if("object"==typeof n&&n instanceof t.Request?(o=n.url,a=init&&init.method||n.method||"GET",i.captureXhrRequestResponse&&(u=init&&init.body||n.body||void 0)):(o=n,a=init&&init.method||"GET",i.captureXhrRequestResponse&&(u=init&&init.body||void 0)),e.href=o,i.excludeFilter(e))return BOOMR.orig_fetch.apply(t,arguments);BOOMR.fireEvent("xhr_init","fetch"),c.url=e.href,c.method=a,c.type="fetch",u&&(c.requestPayload=u),BOOMR.fireEvent("xhr_send",{resource:c}),r.addEvent(c);try{c.timing.requestStart=BOOMR.now();var s=BOOMR.orig_fetch.apply(this,arguments);function f(n,r,e){function o(){var t;e.fetchResponse&&!e.fetchResponse.bodyUsed&&i.fetchBodyUsedWait?(t=BOOMR.now(),e.responseBodyNotUsed=!0,setTimeout((function(){i.loadFinished(e,t);}),i.fetchBodyUsedWait)):i.loadFinished(e);}return function(){var i,a=n.o;try{for(i=r.apply(this===window?t:this,arguments);a&&!a.O;)a=a.o;return a||(i instanceof t.Promise?i.then=O(i,i.then,e):o()),i}catch(t){for(;a&&!a.l;)a=a.o;throw a||o(),t}}}function O(t,n,r){return t.o?n:function(){var e=Array.prototype.slice.call(arguments);e.length>0&&("function"==typeof e[0]&&(e[0]=f(t,e[0],r),t.O=!0),e.length>1&&"function"==typeof e[1]&&(e[1]=f(t,e[1],r),t.l=!0));var i=n.apply(t,e);return t.o=i,i.then=O(i,i.then,r),i}}return s.then=O(s,s.then,c),s.then((function(n){var e,o=!1,a=!1;if((n.status<200||n.status>=400)&&(c.status=n.status),c.fetchResponse=n,c.index>=0&&r.monitorMO(c.index),i.captureXhrRequestResponse&&"function"==typeof n.clone){(e=n.headers.get("content-type"))&&(o=-1!==e.indexOf("json"),a=-1!==e.indexOf("xml")),c.response={};try{n.clone().text().then((function(n){c.response.text=n,c.response.raw=n,a&&"function"==typeof t.DOMParser&&(c.response.xml=(new t.DOMParser).parseFromString(n,"text/xml"));})).then(null,(function(t){}));}catch(t){}if(o)try{n.clone().json().then((function(t){c.response.json=t;})).then(null,(function(t){}));}catch(t){}}return n}),(function(t){throw !t||"AbortError"!==t.name&&20!==t.code?c.status=-998:c.status=-999,t}))}catch(t){throw c.status=-997,i.loadFinished(c),t}},BOOMR.utils.overwriteNative(t,"fetch",BOOMR.proxy_fetch))));}function d(){"function"==typeof t.fetch&&BOOMR.orig_fetch&&BOOMR.orig_fetch!==t.fetch&&(t.fetch=BOOMR.orig_fetch);}function h(){if(!BOOMR.proxy_XMLHttpRequest||BOOMR.proxy_XMLHttpRequest!==t.XMLHttpRequest){if(BOOMR.proxy_XMLHttpRequest&&BOOMR.orig_XMLHttpRequest&&BOOMR.orig_XMLHttpRequest===t.XMLHttpRequest)return t.XMLHttpRequest=BOOMR.proxy_XMLHttpRequest,void s.start();BOOMR.orig_XMLHttpRequest=t.orig_XMLHttpRequest||t.XMLHttpRequest,s.start(),BOOMR.subscribe("click",(function(){if(!i.singlePageApp){var n={timing:{},initiator:"click"};BOOMR.orig_XMLHttpRequest&&BOOMR.orig_XMLHttpRequest!==t.XMLHttpRequest&&(n.timing.requestStart=BOOMR.now(),r.addEvent(n));}})),BOOMR.proxy_XMLHttpRequest=function(){var n,u,c,s={timing:{},initiator:"xhr"},f=!1,O=!1;return n=new BOOMR.orig_XMLHttpRequest,u=n.open,c=n.send,n.open=function(r,c,l){if(e.href=c,i.excludeFilter(e))return O=!0,a("Exclude found for resource: "+e.href+" Skipping XHR instrumentation!"),u.apply(n,arguments);function d(r,e){n.addEventListener(r,(function(){if(i.enabled)if("readystatechange"===r)if(s.timing[o[n.readyState]]=BOOMR.now(),4===n.readyState&&0!==n.status){if((n.status<200||n.status>=400)&&(s.status=n.status),i.captureXhrRequestResponse&&(s.response={text:""===n.responseType||"text"===n.responseType?n.responseText:null,xml:""===n.responseType||"document"===n.responseType?n.responseXML:null,raw:n.response,json:n.responseJSON},n.response&&n.response.constructor&&n.response.constructor===BOOMR.boomerang_frame.Object&&BOOMR.boomerang_frame.Object!==t.Object))try{n.response.constructor=t.Object;}catch(t){}i.loadFinished(s);}else 0===n.readyState&&"number"==typeof s.timing.open&&(s.status=-999,i.loadFinished(s));else "load"===r?(n.status<200||n.status>=400)&&(s.status=n.status):s.status=void 0===e?n.status:e,i.loadFinished(s);}),!1);}O=!1,void 0===l&&(l=!0),BOOMR.fireEvent("xhr_init","xhr"),f||(l&&d("readystatechange"),d("load"),d("timeout",-1001),d("error",-998),d("abort",-999)),s.url=e.href,s.method=r,s.type="xhr",delete s.status,l||(s.synchronous=!0),f=!0;try{return u.apply(n,arguments)}catch(t){throw s.status=-997,i.loadFinished(s),t}},n.send=function(t){return O?c.apply(n,arguments):(i.captureXhrRequestResponse&&(n.resource.requestPayload=t),BOOMR.fireEvent("xhr_send",n),r.addEvent(s),s.timing.requestStart=BOOMR.now(),void 0===s.status||-997!==s.status?c.apply(n,arguments):void 0)},n.resource=s,n},BOOMR.proxy_XMLHttpRequest.UNSENT=0,BOOMR.proxy_XMLHttpRequest.OPENED=1,BOOMR.proxy_XMLHttpRequest.HEADERS_RECEIVED=2,BOOMR.proxy_XMLHttpRequest.LOADING=3,BOOMR.proxy_XMLHttpRequest.DONE=4,BOOMR.proxy_XMLHttpRequest.prototype=BOOMR.orig_XMLHttpRequest.prototype,BOOMR.utils.overwriteNative(t,"XMLHttpRequest",BOOMR.proxy_XMLHttpRequest);}}function v(){BOOMR.orig_XMLHttpRequest&&BOOMR.orig_XMLHttpRequest!==t.XMLHttpRequest&&(t.XMLHttpRequest=BOOMR.orig_XMLHttpRequest);}function R(t){t.initiator="xhr",BOOMR.responseEnd(t);}BOOMR.plugins.AutoXHR||(t=BOOMR.window)&&t.XMLHttpRequest&&(new t.XMLHttpRequest).addEventListener&&(s.stop=function(){s.pause(),s.observer=null;},s.pause=function(){s.observer&&s.observer.observer&&!s.isPaused&&(s.isPaused=!0,s.observer.observer.disconnect());},s.resume=function(){s.observer&&s.observer.observer&&s.isPaused&&(s.isPaused=!1,s.observer.observer.observe(n,s.observer.config));},s.start=function(){if(!s.observer){var t={childList:!0,attributes:!0,subtree:!0,attributeFilter:["src","href"]};s.observer=BOOMR.utils.addObserver(n,t,null,r.mutation_cb,null,r),s.observer&&(s.observer.config=t,BOOMR.subscribe("page_unload",s.stop,null,s));}},s.prototype.addEvent=function(t){var n,e,o,u={type:t.initiator,resource:t,nodes_to_wait:0,total_nodes:0,resources:[],aborted:!1,complete:!1},c=this.pending_events.length,f=this;for(n=c-1;n>=0;n--)if(this.pending_events[n]&&!this.pending_events[n].complete){e=this.pending_events[n],o=n;break}if(e)if("click"===e.type)0!==e.nodes_to_wait&&e.resource.url||(this.pending_events[o]=void 0,this.watch--);else if("xhr"===e.type){if("click"===u.type)return null;if("xhr"===u.type)return r.add_event_resource(t),null}else if(BOOMR.utils.inArray(e.type,BOOMR.constants.BEACON_TYPE_SPAS)){if("xhr"===u.type)return r.add_event_resource(t),null;BOOMR.utils.inArray(u.type,BOOMR.constants.BEACON_TYPE_SPAS)&&(e.resource.timing.loadEventEnd=BOOMR.now(),e.aborted=!0,this.sendEvent(o));}if("click"===u.type){if(!s.observer)return null;this.setTimeout(i.xhrIdleTimeout,c);}else "xhr"===u.type?(u.nodes_to_wait++,u.total_nodes++,u.ignoreMO=!0):BOOMR.utils.inArray(u.type,BOOMR.constants.BEACON_TYPE_SPAS)&&(s.start(),t.wait?(u.nodes_to_wait++,u.total_nodes++,t.waitComplete=function(){f.load_finished(c),t.waitComplete=void 0;}):(this.setTimeout(i.spaIdleTimeout,c)));return this.watch++,this.pending_events.push(u),t.index=c,c},s.prototype.sendEvent=function(t){if("undefined"!=typeof BOOMR){var r=this.pending_events[t],e=this,o=BOOMR.now();if(r&&!r.complete)if(this.clearTimeout(t),BOOMR.readyToSend()){if(r.complete=!0,this.watch--,r.resource.resources=r.resources,BOOMR.utils.inArray(r.type,BOOMR.constants.BEACON_TYPE_SPAS)&&(r.resource.url=n.URL),"spa"===r.type&&0===r.total_nodes&&r.resource.url===e.lastSpaLocation)return BOOMR.fireEvent("spa_cancel"),void(this.pending_events[t]=void 0);BOOMR.utils.inArray(r.type,BOOMR.constants.BEACON_TYPE_SPAS)&&(e.lastSpaLocation=r.resource.url,r.forced||0!==r.total_nodes||(r.resource.timing.loadEventEnd=o-i.spaIdleTimeout,void 0)),this.sendResource(r.resource,t);}else setTimeout((function(){e.sendEvent(t);}),500);}},s.prototype.sendResource=function(r,e){var o=this,a=o.pending_events[e],u=r.timing?r.timing.requestStart:void 0,c=function(t,a){if(t&&(r.timing.loadEventEnd=a||BOOMR.now(),void 0),BOOMR.real_sendBeacon(),r.onComplete&&(r.onComplete(r)),BOOMR.plugins.ResourceTiming&&BOOMR.plugins.ResourceTiming.is_enabled()&&r.timing&&r.timing.requestStart){var c=BOOMR.plugins.ResourceTiming.getCompressedResourceTiming(r.timing.requestStart,r.timing.loadEventEnd);BOOMR.plugins.ResourceTiming.addToBeacon(c);}BOOMR.utils.inArray(r.initiator,BOOMR.constants.BEACON_TYPE_SPAS)&&(o.calculateSpaTimings(r),"number"==typeof e&&o.pending_events[e].aborted&&(BOOMR.addVar("pgu",n.URL),BOOMR.addVar("rt.quit",""),BOOMR.addVar("rt.abld",""),i.addedVars.push("pgu","rt.quit","rt.abld"))),BOOMR.responseEnd(r,u,r),"number"==typeof e&&(o.pending_events[e]=void 0);};"spa_hard"!==r.initiator||a&&a.aborted||BOOMR.hasBrowserOnloadFired()?c(!1):BOOMR.utils.addListener(t,"load",(function(){var t=BOOMR.now();BOOMR.setImmediate((function(){c(!0,t);}));}));},s.prototype.calculateSpaTimings=function(t){var n=BOOMR.getPerformance();if(n&&n.timing){if("spa_hard"===t.initiator)t.timing.responseEnd=n.timing.responseStart,t.timing.fetchStart=n.timing.navigationStart;else {if(!BOOMR.plugins.ResourceTiming||!BOOMR.plugins.ResourceTiming.is_supported())return;var r=BOOMR.plugins.ResourceTiming.getFilteredResourceTiming(t.timing.requestStart,t.timing.loadEventEnd,i.spaBackEndResources).entries,e=Math.round(t.timing.loadEventEnd-t.timing.requestStart);if(!r||!r.length)return void(t.timers={t_resp:0,t_page:e,t_done:e});for(var o=t.timing.loadEventEnd-n.timing.navigationStart,a=0;a<r.length;a++)r[a].responseStart>o?(r[a].responseStart=o,r[a].responseEnd=o):r[a].responseEnd>o&&(r[a].responseEnd=o);var u=Math.round(BOOMR.plugins.ResourceTiming.calculateResourceTimingUnion(r)),c=e-u;if(u<0||e<0||c<0)return void BOOMR.addError("Incorrect SPA time calculation");t.timers={t_resp:u,t_page:c,t_done:e};}var s=BOOMR.plugins.ResourceTiming.getFilteredResourceTiming(t.timing.requestStart,t.timing.loadEventEnd,["xmlhttprequest"]).entries;s=s.filter((function(t){return !O(BOOMR.plugins.Continuity.getTTIWaitForXHRIngore(),t.name)})),void 0;o=s.reduce((function(t,n){return n.responseEnd>t?n.responseEnd:t}),0);BOOMR.addVar("c.tti.xd",o),void 0;}},s.prototype.setTimeout=function(t,n){var r=this;t&&(this.clearTimeout(n),this.timer=setTimeout((function(){r.timedout(n);}),t));},s.prototype.timedout=function(t){var n;this.clearTimeout(t),(n=this.pending_events[t])&&0===n.nodes_to_wait&&("click"!==n.type||0!==n.total_nodes&&n.resource.url||(this.watch--,this.pending_events[t]=void 0),this.sendEvent(t));},s.prototype.clearTimeout=function(t){this.timer&&t===this.pending_events.length-1&&(clearTimeout(this.timer),this.timer=null);},s.prototype.load_cb=function(t,n){var r,e,i=BOOMR.now();(r=t.target||t.srcElement)&&r.h&&(e=r.h.idx,n=void 0!==n?n:r.h.res||0,r.h.end[n]||(r.h.end[n]=i,this.load_finished(e,i)));},s.prototype.monitorMO=function(t){var n=this.pending_events[t];n&&delete n.ignoreMO;},s.prototype.load_finished=function(t,n){var r=this.pending_events[t];r&&(r.nodes_to_wait--,0===r.nodes_to_wait&&(r.resource.timing.loadEventEnd=n||BOOMR.now(),t===this.pending_events.length-1?BOOMR.utils.inArray(r.type,BOOMR.constants.BEACON_TYPE_SPAS)?this.setTimeout(i.spaIdleTimeout,t):this.setTimeout(i.xhrIdleTimeout,t):(this.sendEvent(t))));},s.prototype.wait_for_node=function(t,n){var r,o,u,c,s,f,O,l,d,h=this,v=!1,R=!1;if(t&&t.nodeName&&(t.nodeName.toUpperCase().match(/^(IMG|IFRAME|IMAGE)$/)||"LINK"===t.nodeName.toUpperCase()&&t.rel&&t.rel.match(/\bstylesheet\b/i))){if(t.h&&"number"==typeof t.h.res&&t.h.end[t.h.res]&&(R=!0),!(s=t.src||"function"==typeof t.getAttribute&&t.getAttribute("xlink:href")||t.href)||s.match(/^(about:|javascript:|data:)/i))return !1;if(t.h&&t.h.url!==s&&(R=!0),"IMG"===t.nodeName){if(t.naturalWidth&&!R)return !1;if("function"==typeof t.getAttribute&&""===t.getAttribute("src"))return !1}if("IFRAME"===t.nodeName&&R)return !1;if("function"==typeof t.getAttribute&&(O=parseInt(t.getAttribute("height"),10),l=parseInt(t.getAttribute("width"),10)),isNaN(O)&&(O=!t.style||"0"!==t.style.height&&"0px"!==t.style.height&&"1px"!==t.style.height?void 0:0),isNaN(l)&&(l=!t.style||"0"!==t.style.width&&"0px"!==t.style.width&&"1px"!==t.style.width?void 0:0),!isNaN(O)&&O<=1&&!isNaN(l)&&l<=1)return !1;if(t.style&&"none"===t.style.display)return !1;if(t.style&&"hidden"===t.style.visibility)return !1;if(!(r=this.pending_events[n]))return !1;if(f=r.resources.length,t.h||(t.h={end:{}}),r.urls||(r.urls={}),r.urls[s])return !1;if(!r.resource.url){if(e.href=s,i.excludeFilter(e))return a("Exclude for "+e.href+" matched. Excluding"),!1;r.resource.url=e.href;}t.h.res=f,t.h.idx=n,delete t.h.end[f],t.h.url=s,d=function(n){h.load_cb(n,f),t.removeEventListener("load",d),t.removeEventListener("error",d);},t.addEventListener("load",d),t.addEventListener("error",d),r.nodes_to_wait++,this.clearTimeout(n),r.total_nodes++,r.resources.push(t),r.urls[s]=1,v=!0;}else t.nodeType===Node.ELEMENT_NODE&&["IMAGE","IMG"].forEach((function(r){if((o=t.getElementsByTagName(r))&&o.length)for(u=0,c=o.length;u<c;u++)v|=this.wait_for_node(o[u],n);}),this);return v},s.prototype.add_event_resource=function(t){var n,r=this.pending_events.length-1;return r<0?-1:(n=this.pending_events[r])&&t?(a("Monitoring "+t.type+" URL: "+t.url+" for event id: "+r),n.nodes_to_wait++,n.total_nodes++,t.index=r,t.node=!0,r):-1},s.prototype.mutation_cb=function(t){var n,r,e;return !this.watch||(n=this,(r=this.pending_events.length-1)<0||!this.pending_events[r]||(e=this.pending_events[r]).ignoreMO||(void 0===e.interesting&&(e.interesting=!1),t&&t.length&&(e.resource.timing.domComplete=BOOMR.now(),t.forEach((function(t){var i,o,a;if("attributes"===t.type)e.interesting|=n.wait_for_node(t.target,r),void 0;else if("childList"===t.type){for(o=t.addedNodes.length,i=0;i<o;i++)e.interesting|=n.wait_for_node(t.addedNodes[i],r),void 0;for(o=t.removedNodes.length,i=0;i<o;i++)"IFRAME"===(a=t.removedNodes[i]).nodeName&&a.h&&n.load_cb({target:a,type:"removed"});}}))),e.interesting||e.timeoutExtended||(this.setTimeout(1e3,r),e.timeoutExtended=!0)),!0)},s.prototype.queue_is_empty=function(){return 0===this.nodesWaitingFor()},s.prototype.nodesWaitingFor=function(t){var n;return 0===this.pending_events.length?0:(void 0===t&&(t=this.pending_events.length-1),(n=this.pending_events[t])?n.nodes_to_wait:0)},s.prototype.completeEvent=function(t){var n,r=BOOMR.now();0!==this.pending_events.length&&(void 0===t&&(t=this.pending_events.length-1),(n=this.pending_events[t])&&(n.resource.timing.loadEventEnd=r,n.forced=!0,this.sendEvent(t)));},r=new s,i={enabled:!0,spaBackEndResources:["xmlhttprequest","script","fetch"],alwaysSendXhr:!1,excludeFilters:[],initialized:!1,addedVars:[],captureXhrRequestResponse:!1,singlePageApp:!1,autoXhrEnabled:!1,monitorFetch:!1,fetchBodyUsedWait:200,spaIdleTimeout:1e3,xhrIdleTimeout:50,excludeFilter:function(t){var n,r;if(!t||!t.href)return !1;for(n=0;n<i.excludeFilters.length;n++)if("function"==typeof i.excludeFilters[n].cb){r=i.excludeFilters[n].ctx,i.excludeFilters[n].name&&a("Running filter: "+i.excludeFilters[n].name+" on URL: "+t.href);try{if(i.excludeFilters[n].cb.call(r,t))return a("Found matching filter at: "+i.excludeFilters[n].name+" for URL: "+t.href),!0}catch(t){BOOMR.addError(t,"BOOMR.plugins.AutoXHR.impl.excludeFilter()");}}return !1},clear:function(){i.addedVars&&i.addedVars.length>0&&(BOOMR.removeVar(i.addedVars),i.addedVars=[]);},loadFinished:function(t,n){var e,o,a,u,c;n=n||BOOMR.now(),t.timing.loadEventEnd||(t.status&&BOOMR.fireEvent("xhr_error",t),t.timing.loadEventEnd=n,(c=BOOMR.getPerformance())&&c.timing&&(o=c.timing.navigationStart,(e=BOOMR.getResourceTiming(t.url,(function(t,n){return t.responseEnd-n.responseEnd}),(function(n){return Math.ceil(o+n.startTime+2)>=t.timing.requestStart&&0!==n.responseEnd})))&&(a=Math.floor(o+e.startTime),(u=Math.floor(o+e.responseEnd))<=BOOMR.now()&&(t.timing.responseEnd=u,t.timing.loadEventEnd<u&&(t.timing.loadEventEnd=u,void 0),t.timing.requestStart=a,t.timing.fetchStart=a,0!==e.responseStart&&(t.timing.responseStart=Math.floor(o+e.responseStart)),t.restiming=e))),t.node&&f(t.url,i.alwaysSendXhr)&&r.sendResource(t),t.index>=0&&(r.monitorMO(t.index),r.load_finished(t.index,t.timing.responseEnd)));}},BOOMR.plugins.AutoXHR={is_complete:function(){return !0},init:function(r){var o,a;if(n=t.document,t&&n){if(e=n.createElement("A"),BOOMR.utils.pluginConfig(i,r,"AutoXHR",["spaBackEndResources","alwaysSendXhr","monitorFetch","fetchBodyUsedWait","spaIdleTimeout","xhrIdleTimeout"]),BOOMR.instrumentXHR=h,BOOMR.uninstrumentXHR=v,BOOMR.instrumentFetch=l,BOOMR.uninstrumentFetch=d,i.initialized||(this.addExcludeFilter(c,null,"shouldExcludeXhr"),i.initialized=!0),r&&r.AutoXHR&&r.AutoXHR.excludeFilters&&r.AutoXHR.excludeFilters.length>0)for(a=0;a<r.AutoXHR.excludeFilters.length;a++)i.excludeFilters.push(r.AutoXHR.excludeFilters[a]);if(i.autoXhrEnabled=r.instrument_xhr,BOOMR.plugins.SPA&&BOOMR.plugins.SPA.supported_frameworks){var u=BOOMR.plugins.SPA.supported_frameworks();for(o=0;o<u.length;o++){var s=u[o];if(r[s]&&r[s].enabled){i.singlePageApp=!0;break}}}if(i.alwaysSendXhr&&i.autoXhrEnabled&&BOOMR.xhr&&"function"==typeof BOOMR.xhr.stop){function f(t){if(t.length)for(o=0;o<t.length;o++)R(t[o]);else R(t);}var O=BOOMR.xhr.stop(f);O&&O.length&&BOOMR.setImmediate(f,O);}i.singlePageApp?(i.alwaysSendXhr||(i.autoXhrEnabled=!1),i.autoXhrEnabled&&(BOOMR.instrumentXHR(),BOOMR.instrumentFetch())):i.autoXhrEnabled?(BOOMR.instrumentXHR(),BOOMR.instrumentFetch()):!1===i.autoXhrEnabled&&(BOOMR.uninstrumentXHR(),BOOMR.uninstrumentFetch()),BOOMR.registerEvent("xhr_error"),BOOMR.subscribe("beacon",i.clear,null,i);}},getMutationHandler:function(){return r},getPathname:u,enableAutoXhr:function(){i.autoXhrEnabled||(BOOMR.instrumentXHR(),BOOMR.instrumentFetch()),i.autoXhrEnabled=!0;},addExcludeFilter:function(t,n,r){i.excludeFilters.push({cb:t,ctx:n,name:r});},setXhrRequestResponseCapturing:function(t){i.captureXhrRequestResponse=t;},matchesAlwaysSendXhr:f,disable:function(){i.enabled=!1,s.stop();}});}function d(){var t;if(!BOOMR.plugins.Continuity){var n=BOOMR.getPerformance(),r={},e=n&&n.timing&&n.timing.navigationStart?n.timing.navigationStart:BOOMR.now(),i=function(i){var o={},a={},u=[],c=0,s=0,f=0;function O(){return "undefined"==typeof BOOMR?Math.floor(performance.now()/100):Math.floor((BOOMR.now()-i)/100)}function l(){var r=0;if(t.ttiWaitForFrameworkReady){if(!t.frameworkReady)return;r=t.frameworkReady;}if(BOOMR.plugins.PaintTiming&&BOOMR.plugins.PaintTiming.is_supported()&&n&&n.timeOrigin){var i=BOOMR.plugins.PaintTiming.getTimingFor("first-contentful-paint");i||(i=BOOMR.plugins.PaintTiming.getTimingFor("first-paint")),i&&(r=Math.max(r,Math.round(i+n.timeOrigin)));}else if(n&&n.timing&&n.timing.msFirstPaint)r=Math.max(r,n.timing.msFirstPaint);else if(BOOMR.window&&BOOMR.window.chrome&&"function"==typeof BOOMR.window.chrome.loadTimes){var o=BOOMR.window.chrome.loadTimes();o&&o.firstPaintTime&&(r=Math.max(r,1e3*o.firstPaintTime));}return n&&n.timing&&n.timing.domContentLoadedEventEnd&&(r=Math.max(r,n.timing.domContentLoadedEventEnd)),t.ttiWaitForHeroImages&&(f=function(t){var r,i,o,a,u,c,s=0;if(!BOOMR.window||!BOOMR.window.document||"function"!=typeof BOOMR.window.document.querySelectorAll)return 0;if(!n||"function"!=typeof n.getEntriesByType)return 0;if(r=t+", "+t+" * img, "+t+" * image",(i=BOOMR.window.document.querySelectorAll(r))&&i.length)for(o=0;o<i.length;o++)if((u=i[o].currentSrc||i[o].src||"function"==typeof i[o].getAttribute&&i[o].getAttribute("xlink:href"))&&(c=n.getEntriesByName(u))&&c.length)for(a=0;a<c.length;a++)s=Math.max(s,c[a].responseEnd);return s?Math.floor(s+e):0}(t.ttiWaitForHeroImages))&&(r=Math.max(r,f)),r}function d(t,n){return M(a[t].compressMode,a[t].backfillLast,o[t],0!==n?Math.floor((n-i)/100):0,O())}function h(){if(t.ttiWaitForXHRDone){var n=BOOMR.getVar("c.tti.xd"),r=n?n-(i-e):i-e,a=O(),u=0,c=0,s=0,f=Math.floor(r/100);for(u=f;u<=a;u++)if(o.longtask&&o.longtask[u])c=0;else if(o.fps&&(!o.fps[u]||o.fps[u]<2))c=0;else if(o.busy&&o.busy[u]>50)c=0;else if(o.interdly&&o.interdly[u])c=0;else if(++c>=5){s=i+100*(u-5),s=Math.max(s,r);break}return s>0?(t.addToBeacon("c.tti.new",s-e),t.hasAddedTtinewToBeacon=!0,s-e):(t.hasAddedTtinewToBeacon=!1,0)}}return BOOMR.fpsLog&&BOOMR.fpsLog.length&&(i=BOOMR.fpsLog[0]+e),r.timeToInteractive=function(){if(c)return c-e},r.timeToVisuallyReady=function(){if(s)return s-e},r.timeToHeroImagesReady=function(){if(t.ttiWaitForHeroImages&&f)return f-e},r.timeToFrameworkReady=function(){if(t.ttiWaitForFrameworkReady&&t.frameworkReady)return t.frameworkReady-e},r.log=function(){return u},{register:function(t,n,r){o[t]||(o[t]=[]),a[t]={compressMode:n||0,backfillLast:r};},set:function(t,n,r){void 0===r&&(r=O()),o[t]&&(o[t][r]=n);},log:function(n,r,e){void 0===r&&(r=O()),u.push({type:n,time:r,val:e}),u.length>t.logMaxEntries&&Array.prototype.splice.call(u,0,u.length-t.logMaxEntries);},increment:function(t,n,r){void 0===r&&(r=O()),void 0===n&&(n=1),o[t]&&(o[t][r]||(o[t][r]=0),o[t][r]+=n);},getTimeBucket:O,getStats:function(t,n){var r,e=0,a=0,u=1/0,c=0,s=Math.floor((n-i)/100);if(!o[t])return 0;for(var f in o[t])(f=parseInt(f,10))>=s&&o[t].hasOwnProperty(f)&&(e++,a+=r=o[t][f],u=Math.min(u,r),c=Math.max(c,r));return {total:a,count:e,min:u,max:c}},analyze:function(n){var a=O(),f=0,v=0;if(t.sendLog&&void 0!==n&&function(){for(var n="",r=0;r<u.length;r++){var i=u[r];for(var o in 0!==r&&(n+="|"),n+=i.type,n+=Math.round(i.time-e).toString(36),i.val)i.val.hasOwnProperty(o)&&(n+=","+o,"number"==typeof i.val[o]?n+=i.val[o].toString(36):n+=i.val[o]);}""!==n&&t.addToBeacon("c.l",n);}(),t.sendTimeline&&void 0!==n&&function(n){var r,e;for(r in o)o.hasOwnProperty(r)&&""!==(e=d(r,n))&&t.addToBeacon("c.t."+r,e);}(n),!c&&(s||(s=l()))&&(t.addToBeacon("c.tti.vr",r.timeToVisuallyReady()),t.addToBeacon("c.tti.fr",r.timeToFrameworkReady()),t.addToBeacon("c.tti.hi",r.timeToHeroImagesReady()),o.longtask||o.fps||o.busy)){for(f=Math.floor((s-i)/100);f<=a;f++)if(o.longtask&&o.longtask[f])v=0;else if(o.fps&&(!o.fps[f]||o.fps[f]<2))v=0;else if(o.busy&&o.busy[f]>50)v=0;else if(o.interdly&&o.interdly[f])v=0;else if(++v>=5){c=i+100*(f-5),c=Math.max(c,s);break}c>0&&t.addToBeacon("c.tti",r.timeToInteractive()),h();}},analyzeXHRDone:h,stop:function(){o={},u=[];},onBeacon:function(){for(var t in o)o.hasOwnProperty(t)&&(o[t]=[]);u=[],c=0;}}},o=function(n,e){if(n.PerformanceObserver&&n.PerformanceLongTaskTiming){var i={unknown:0,self:1,"same-origin-ancestor":2,"same-origin-descendant":3,"same-origin":4,"cross-origin-ancestor":5,"cross-origin-descendant":6,"cross-origin-unreachable":7,"multiple-contexts":8},o={unknown:0,script:1,layout:2},a={unknown:0,iframe:1,embed:2,object:3},u=new n.PerformanceObserver((function(t){var n,r;if(!s)return;for(n=t.getEntries(),Array.prototype.push.apply(c,n),r=0;r<n.length;r++)f+=n[r].duration;e.increment("longtask",n.length);}));try{u.observe({entryTypes:["longtask"]});}catch(t){return}e.register("longtask",0);var c=[],s=!0,f=0;return r.longTasksTime=function(){return f},r.longTasksCount=function(){return c.length},{getTasks:function(){return c},clearTasks:O,analyze:function(n){var e,u,s,f,O,l=[],d=[];if(0!==c.length){for(e=0;e<c.length;e++){for(s=c[e],f={s:Math.round(s.startTime).toString(36),d:Math.round(s.duration).toString(36),n:i[s.name]?i[s.name]:0},d=[],u=0;u<s.attribution.length;u++)if("script"!==(O=s.attribution[u]).name||"iframe"!==O.containerType||O.containerName||O.containerId||O.containerSrc){var h=O.containerName?O.containerName:void 0,v=O.containerId?O.containerId:void 0;h===v&&(h=void 0);var R=void 0===v?O.containerSrc:void 0;d.push({a:o[O.name]?o[O.name]:0,t:a[O.containerType]?a[O.containerType]:0,n:h,i:v,s:R});}d.length>0&&(f.a=d),l.push(f);}var M,p;t.addToBeacon("c.lt.n",r.longTasksCount(),!0),t.addToBeacon("c.lt.tt",r.longTasksTime()),t.addToBeacon("c.lt",(M=l,(p=window.UserTimingCompression||BOOMR.window.UserTimingCompression)?p.jsUrl(M):window.JSON?JSON.stringify(M):""));}},stop:function(){s=!1,u.disconnect(),O();},onBeacon:function(){O();}}}function O(){c=[],f=0;}},a=function(n,e){e.register("busy",2);var i=Math.floor(3.125),o=BOOMR.now(),a=0,u=0,c=0,s=0,f=!1,O=!1;return r.pageBusy=function(){return 0===c?0:Math.round(s/c*100)},f=setInterval((function(){var t=BOOMR.now(),n=t-o;if(o=t,n>68){var r=Math.floor((n-32)/32);a+=r,u+=r,n-=32*r;}a++,n>36&&u++;}),32),O=setInterval((function(){var t=e.getTimeBucket(),n=t,r=0;if(0!==a){for(;a>i+1&&r<=100;)e.set("busy",100,--n),a-=i,u=Math.max(u-i,0),c+=i,s+=i,r++;c+=a,s+=u,e.set("busy",Math.round(u/a*100),t),a=0,u=0;}}),100),{analyze:function(n){t.addToBeacon("c.b",r.pageBusy());},stop:function(){f&&(clearInterval(f),f=!1),O&&(clearInterval(O),O=!1);},onBeacon:function(){c=0,s=0;}}},u=function(n,i){i.register("fps",0);var o,a,u=0,c=0,s=!0;if(BOOMR.fpsLog&&BOOMR.fpsLog.length){a=o=BOOMR.fpsLog[0]+e;for(var f=0;f<BOOMR.fpsLog.length;f++){var O=e+BOOMR.fpsLog[f];i.increment("fps",1,Math.floor((O-o)/100)),O-a>=50&&c++,a=O;}u=BOOMR.fpsLog.length,delete BOOMR.fpsLog;}else o=BOOMR.now();return n.requestAnimationFrame((function t(r){s&&(r-a>=50&&c++,a=r,u++,i.increment("fps"),n.requestAnimationFrame(t));})),r.fps=function(){var t=r.fpsDuration();if(t)return Math.floor(u/(t/1e3))},r.fpsDuration=function(){if(o)return BOOMR.now()-o},r.fpsMinimum=function(){if(r.fpsDuration()){var t=i.getStats("fps",o).min;return t!==1/0?t:void 0}},r.fpsLongFrames=function(){return c},r.fpsStart=function(){return o?o.toString(36):0},{analyze:function(n){t.addToBeacon("c.f",r.fps()),t.addToBeacon("c.f.d",r.fpsDuration()),t.addToBeacon("c.f.m",r.fpsMinimum()),t.addToBeacon("c.f.l",r.fpsLongFrames()),t.addToBeacon("c.f.s",r.fpsStart());},stop:function(){s=!1,o=0;},onBeacon:function(){s&&(o=BOOMR.now()),u=0,c=0;}}},c=function(n,e,i){if(n&&n.document&&n.document.body&&n.document.documentElement){var o=0,a=0,u=0,c=0,s=0,f=0,O=0,l=0,d=!1,h=n.document.body,v=n.document.documentElement;e.register("scroll",0),e.register("scrollpct",2);var R=Math.max(h.scrollHeight,h.offsetHeight,v.clientHeight,v.scrollHeight,v.offsetHeight)-BOOMR.utils.windowHeight();return r.scrollPct=function(){return c},r.scrollCount=function(){return s},r.scrollDistinct=function(){return O},r.scrollPixels=function(){return f},BOOMR.utils.addListener(n,"scroll",M,!0),d=setInterval((function(){var t=Math.min(u,100);0!==t&&e.set("scrollpct",t),u=0;}),100),{analyze:function(n){t.addToBeacon("c.s",r.scrollCount()),t.addToBeacon("c.s.p",r.scrollPct()),t.addToBeacon("c.s.y",r.scrollPixels()),t.addToBeacon("c.s.d",r.scrollDistinct());},stop:function(){d&&(clearInterval(d),d=!1),BOOMR.utils.removeListener(n,"scroll",M);},onBeacon:function(){c=0,s=0,f=0,O=0;}}}function M(t){var n=BOOMR.now();s++,n-l>2e3&&O++,l=n;var r=BOOMR.utils.scroll().y,d=Math.abs(o-r);f+=d,e.increment("scroll",d),(0===a||Math.abs(a-r)>20)&&(e.log(0,n,{y:r}),a=r),i.interact("scroll",n,t),u+=Math.round(d/R*100),c+=Math.round(d/R*100),o=r;}},s=function(n,e,i){e.register("click",0);var o=0,a=0,u=0,c=0,s=0,f=null;function O(t){var n=BOOMR.now(),r=t.clientX,O=t.clientY;o++;var l=Math.round(Math.sqrt(Math.pow(s-O,2)+Math.pow(c-r,2)));f===t.target||l<=10?++a+1>=3&&(u++,BOOMR.fireEvent("rage_click",t)):a=0,c=r,s=O,f=t.target,e.increment("click"),e.log(1,n,{x:r,y:O}),i.interact("click",n,t);}return r.clicksCount=function(){return o},r.clicksRage=function(){return u},BOOMR.utils.addListener(n.document,"click",O,!0),{analyze:function(n){t.addToBeacon("c.c",r.clicksCount()),t.addToBeacon("c.c.r",r.clicksRage());},stop:function(){BOOMR.utils.removeListener(n.document,"click",O);},onBeacon:function(){o=0,a=0,u=0;}}},f=function(n,e,i){e.register("key",0);var o=0,a=0;function u(t){var n=BOOMR.now();o++,27===t.keyCode&&a++,e.increment("key"),e.log(3,n),i.interact("key",n,t);}return r.keyCount=function(){return o},r.keyEscapes=function(){return a},BOOMR.utils.addListener(n.document,"keydown",u,!0),{analyze:function(n){t.addToBeacon("c.k",r.keyCount()),t.addToBeacon("c.k.e",r.keyEscapes());},stop:function(){BOOMR.utils.removeListener(n.document,"keydown",u);},onBeacon:function(){o=0,a=0;}}},O=function(n,e,i){e.register("mouse",0),e.register("mousepct",2);var o=0,a=0,u=0,c=0,s=0,f=0,O=0,l=!1,d=!1,h=Math.round(Math.sqrt(Math.pow(BOOMR.utils.windowHeight(),2)+Math.pow(BOOMR.utils.windowWidth(),2)));function v(t){BOOMR.now();var n=t.clientX,r=t.clientY,i=Math.round(Math.sqrt(Math.pow(a-r,2)+Math.pow(o-n,2))),u=Math.round(i/h*100);s+=u,f+=u,O+=i,o=n,a=r,e.increment("mouse",i);}return r.mousePct=function(){return f},r.mousePixels=function(){return O},l=setInterval((function(){var t=Math.min(s,100);0!==t&&e.set("mousepct",t),s=0;}),100),d=setInterval((function(){u===o&&c===a||Math.round(Math.sqrt(Math.pow(c-a,2)+Math.pow(u-o,2)))>=10&&(e.log(2,BOOMR.now(),{x:o,y:a}),u=o,c=a);}),250),BOOMR.utils.addListener(n.document,"mousemove",v,!0),{analyze:function(n){t.addToBeacon("c.m.p",r.mousePct()),t.addToBeacon("c.m.n",r.mousePixels());},stop:function(){l&&(clearInterval(l),l=!1),d&&(clearInterval(d),d=!1),BOOMR.utils.removeListener(n.document,"mousemove",v);},onBeacon:function(){f=0,O=0;}}},l=function(n,i,o){i.register("inter",0),i.register("interdly",0);var a=o,u=0,c=null,s=0,f=0,O=0,l=0,d=!0,h=0,v=0,M=!1,p=!1,B=!1;function m(){M&&(clearTimeout(M),M=!1),p&&(clearTimeout(p),p=!1);}function g(){BOOMR.sendBeaconWhenReady({"rt.start":"manual","http.initiator":"interaction","rt.tstart":h,"rt.end":v},(function(){m(),BOOMR.fireEvent("interaction");}),t);}return r.interactionDelayed=function(){return O},r.interactionDelayedTime=function(){return Math.round(l)},r.interactionAvgDelay=function(){if(s>0)return Math.round(f/s)},r.timeToFirstInteraction=function(){if(u)return u-e},r.firstInputDelay=function(){if(null!==c)return c},BOOMR.subscribe("spa_init",(function(){B=!0,m();}),null,t),{interact:function(n,r,o){if(r=r||BOOMR.now(),d){s++,u||(u=r);var m=0;o&&o.timeStamp&&(m=o.timeStamp>14e11?r-o.timeStamp:r-e-o.timeStamp,f+=m,null===c&&(c=Math.round(m)),m>50&&(i.increment("interdly"),O++,l+=m)),i.increment("inter"),!B&&t.afterOnloadMonitoring&&(v=BOOMR.now(),h||(h=v,p=setTimeout(g,3e4)),M&&(clearTimeout(M),M=!1),M=setTimeout(g,a));}},analyze:function(n){t.addToBeacon("c.ttfi",r.timeToFirstInteraction()),t.addToBeacon("c.i.dc",r.interactionDelayed()),t.addToBeacon("c.i.dt",r.interactionDelayedTime()),t.addToBeacon("c.i.a",r.interactionAvgDelay()),null!==c&&t.addToBeacon("c.fid",r.firstInputDelay(),!0);},stop:function(){d=!1;},onBeacon:function(){l=0,O=0,s=0,f=0,h=0,v=0,B=!1,m();}}},d=function(t,n,r){n.register("vis",0);var e={visible:0,hidden:1,prerender:2,unloaded:3},i=!0;return BOOMR.subscribe("visibility_changed",(function(t){var o=BOOMR.now();i&&(n.increment("vis"),n.log(4,o,{s:e[BOOMR.visibilityState()]}),r.interact("vis",o,t));})),{stop:function(){i=!1;}}},h=function(t,n,r){n.register("orn",0);var e=!0;function i(t){var i=BOOMR.now(),o=window.orientation;if(e){n.increment("orn");var a=window.screen&&(screen.orientation||screen.msOrientation||screen.mozOrientation||{});a&&"number"==typeof a.angle&&(o=screen.orientation.angle),"number"==typeof o&&n.log(5,i,{a:o}),r.interact("orn",i,t);}}return BOOMR.utils.addListener(t,"orientationchange",i,!0),{stop:function(){e=!1,BOOMR.utils.removeListener(t,"orientationchange",i);}}},v=function(t,r){r.register("mem",1,!0),r.register("bat",2,!0),r.register("domsz",1,!0),r.register("domln",1,!0),r.register("mut",0);var e,i=t.document,o=!0,a=!1,u=null,c=0,s=0,f=i.getElementsByTagName("*");function O(){o&&u&&r.set("bat",u.level);}return a=setInterval((function(){var t=n&&n.memory&&n.memory.usedJSHeapSize;if(t&&r.set("mem",t),s=f.length,r.set("domsz",i.documentElement.innerHTML.length),r.set("domln",s),c>0){var e=Math.min(Math.round(c/s*100),100);r.set("mut",e),c=0;}}),1e3),t.navigator&&"function"==typeof t.navigator.getBattery&&t.navigator.getBattery().then((function(t){(u=t).onlevelchange&&(u.onlevelchange=O);})),BOOMR.utils.isMutationObserverSupported()&&(e=BOOMR.utils.addObserver(i,{childList:!0,subtree:!0},null,(function(t){return t.forEach((function(t){if("childList"!==t.type)return !0;for(var n=0;n<t.addedNodes.length;n++){var r=t.addedNodes[n];c++,c+=r.getElementsByTagName?r.getElementsByTagName("*").length:0;}})),!0}),null,this)),{stop:function(){o=!1,a&&(clearInterval(a),a=!1),e&&e.observer&&(e.observer.disconnect(),e=null),u&&u.onlevelchange&&(u.onlevelchange=null),f=null;}}};t={monitorLongTasks:!0,monitorPageBusy:!0,monitorFrameRate:!0,monitorInteractions:!0,monitorStats:!0,afterOnload:!1,afterOnloadMaxLength:6e4,afterOnloadMinWait:5e3,waitAfterOnload:!1,ttiWaitForFrameworkReady:!1,ttiWaitForHeroImages:!1,ttiWaitForXHRDone:!1,ttiWaitForXHRIgnore:[],sendLog:!0,sendTimeline:!0,logMaxEntries:100,initialized:!1,complete:!1,isSpa:!1,firedPageReady:!1,afterOnloadMonitoring:!1,frameworkReady:null,timeline:null,ttiMethod:null,longTaskMonitor:null,pageBusyMonitor:null,frameRateMonitor:null,interactionMonitor:null,scrollMonitor:null,clickMonitor:null,keyMonitor:null,mouseMonitor:null,visibilityMonitor:null,orientationMonitor:null,statsMonitor:null,addedVars:[],monitors:["timeline","longTaskMonitor","pageBusyMonitor","frameRateMonitor","scrollMonitor","keyMonitor","clickMonitor","mouseMonitor","interactionMonitor","visibilityMonitor","orientationMonitor","statsMonitor"],timeOfLastBeacon:0,hasAddedDataToBeacon:!1,hasAddedTtinewToBeacon:void 0,onBeforeBeacon:function(){t.runAllAnalyzers();},checkIfSendAdditionalBeacon:function(){if(!1===t.hasAddedTtinewToBeacon){var n=t.timeline.analyzeXHRDone(),r=n>0?{"c.tti.new":n,add:1}:{"c.tti.new":BOOMR.now()-e,add:2};BOOMR.sendAdditionalBeacon(r);}},runAllAnalyzers:function(){var n,r;if(!t.hasAddedDataToBeacon){for(n=0;n<t.monitors.length;n++)(r=t[t.monitors[n]])&&"function"==typeof r.analyze&&r.analyze(t.timeOfLastBeacon);t.addToBeacon("c.lb",t.timeOfLastBeacon?t.timeOfLastBeacon.toString(36):0),t.timeOfLastBeacon=BOOMR.now(),t.hasAddedDataToBeacon=!0;}},onBeacon:function(n){var r;for(t.addedVars&&t.addedVars.length>0&&(BOOMR.removeVar(t.addedVars),t.addedVars=[]),r=0;r<t.monitors.length;r++){var e=t[t.monitors[r]];e&&(t.afterOnload||"function"==typeof e.stop&&e.stop(),"function"==typeof e.onBeacon&&e.onBeacon());}t.hasAddedDataToBeacon=!1,n&&n.add&&(t.hasAddedTtinewToBeacon=void 0);},onXhrLoad:function(n){n&&BOOMR.utils.inArray(n.initiator,BOOMR.constants.BEACON_TYPE_SPAS)&&(t.isSpa=!0),n&&"spa_hard"===n.initiator&&(t.onPageReady());},onPageReady:function(){if(t.firedPageReady=!0,t.afterOnload&&t.monitorInteractions&&(t.afterOnloadMonitoring=!0,t.isSpa||"number"!=typeof t.afterOnloadMaxLength||setTimeout((function(){t.afterOnloadMonitoring=!1;}),t.afterOnloadMaxLength)),t.waitAfterOnload){var n=BOOMR.now();setTimeout((function e(){(BOOMR.now()-n>t.waitAfterOnload)?(t.complete=!0,BOOMR.sendBeacon()):(t.timeline.analyze(),(t.ttiWaitForXHRDone?BOOMR.getVar("c.tti.new"):r.timeToInteractive())?(t.complete=!0,BOOMR.sendBeacon()):setTimeout(e,500));}),500);}else t.complete=!0;},addToBeacon:function(n,r,e){0!==r&&void 0!==r||e?(BOOMR.addVar(n,r),t.addedVars.push(n)):BOOMR.removeVar(n);}},BOOMR.plugins.Continuity={init:function(n){return BOOMR.utils.pluginConfig(t,n,"Continuity",["monitorLongTasks","monitorPageBusy","monitorFrameRate","monitorInteractions","monitorStats","afterOnload","afterOnloadMaxLength","afterOnloadMinWait","waitAfterOnload","ttiWaitForFrameworkReady","ttiWaitForHeroImages","ttiWaitForXHRDone","ttiWaitForXHRIgnore","sendLog","logMaxEntries","sendTimeline"]),t.initialized||(t.initialized=!0,t.timeline=new i(BOOMR.now()),BOOMR.window&&(t.monitorLongTasks&&BOOMR.window.PerformanceObserver&&BOOMR.window.PerformanceLongTaskTiming&&(t.longTaskMonitor=new o(BOOMR.window,t.timeline),t.ttiMethod="lt"),t.monitorFrameRate&&"function"==typeof BOOMR.window.requestAnimationFrame&&(t.frameRateMonitor=new u(BOOMR.window,t.timeline),t.ttiMethod||(t.ttiMethod="raf")),!t.monitorPageBusy||BOOMR.window.PerformanceObserver&&BOOMR.window.PerformanceLongTaskTiming&&t.monitorLongTasks||(t.pageBusyMonitor=new a(BOOMR.window,t.timeline),t.ttiMethod||(t.ttiMethod="b")),t.monitorInteractions&&(t.interactionMonitor=new l(BOOMR.window,t.timeline,t.afterOnloadMinWait),t.scrollMonitor=new c(BOOMR.window,t.timeline,t.interactionMonitor),t.keyMonitor=new f(BOOMR.window,t.timeline,t.interactionMonitor),t.clickMonitor=new s(BOOMR.window,t.timeline,t.interactionMonitor),t.mouseMonitor=new O(BOOMR.window,t.timeline,t.interactionMonitor),t.visibilityMonitor=new d(BOOMR.window,t.timeline,t.interactionMonitor),t.orientationMonitor=new h(BOOMR.window,t.timeline,t.interactionMonitor)),t.monitorStats&&(t.statsMonitor=new v(BOOMR.window,t.timeline,t.interactionMonitor))),BOOMR.addVar("c.e",e.toString(36)),BOOMR.addVar("c.tti.m",t.ttiMethod),BOOMR.subscribe("before_beacon",t.onBeforeBeacon,null,t),BOOMR.subscribe("beacon",t.onBeacon,null,t),BOOMR.subscribe("page_ready",t.onPageReady,null,t),BOOMR.subscribe("xhr_load",t.onXhrLoad,null,t),BOOMR.subscribe("route_change",t.checkIfSendAdditionalBeacon,null,t)),this},is_complete:function(n){return t.complete||n&&"error"===n["http.initiator"]},frameworkReady:function(){t.frameworkReady=BOOMR.now();},getTtiWaitForXHRDone:function(){return t.ttiWaitForXHRDone},getTTIWaitForXHRIngore:function(){return t.ttiWaitForXHRIgnore},checkIfSendAdditionalBeacon:t.checkIfSendAdditionalBeacon,metrics:r,compressBucketLog:M,decompressBucketLog:function(t,n){var r,e,i,o,a,u,c=[],s=n||0;if(!t||0===t.length)return [];for(u=parseInt(t.charAt(0),10),t=t.substring(1),o=1,r=0;r<t.length;r++)if("*"!==t.charAt(r)){for("."===t.charAt(r)?(r++,i=t.indexOf(".",r),a=parseInt(t.substring(r,i),36),r=i):0===u?a=p(t.charAt(r)):1===u?-1!==(i=t.indexOf(",",r))?(a=parseInt(t.substring(r,i),36),r=i):(a=parseInt(t.substring(r),36),r=t.length):2===u&&(a="__"===t.substr(r,2)?100:parseInt(t.substr(r,2),10),r++),c[s]=a,e=1;e<o;e++)c[++s]=a;s++,o=1;}else r++,i=t.indexOf("*",r),o=parseInt(t.substring(r,i),36),r=i;return c},decompressBucketLogNumber:p,decompressLog:function(t){var n,r,e,i,o,a=[];for(i=t.split("|"),n=0;n<i.length;n++){for(e=i[n].split(","),o={type:parseInt(e[0].charAt(0),10),time:parseInt(e[0].substring(1),36)},r=1;r<e.length;r++)o[e[r].charAt(0)]=e[r].substring(1);a.push(o);}return a}};}function M(t,n,r,e,i){var o,a,u,c,s,f="",O=0;if(!r||!BOOMR.utils.Compression)return "";if(0===r.length)return "";if(n)for(void 0===r[e]&&(r[e]=0),o=e+1;o<=i;o++)void 0===r[o]&&(r[o]=r[o-1]);for(o=e;o<=i;o++){if(O="number"!=typeof r[o]||isNaN(r[o])?0:r[o],0===t?u=O<=63?"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_".charAt(O):"."+O.toString(36)+".":1===t?u=O.toString(36):2===t&&(u=O<99?O<=9?"0"+Math.max(O,0):O:"__"),o+3<=i&&(r[o+1]===O||0===O&&void 0===r[o+1])&&(r[o+2]===O||0===O&&void 0===r[o+2])&&(r[o+3]===O||0===O&&void 0===r[o+3])){for(a=1;o<i&&(r[o+1]===O||0===O&&void 0===r[o+1]);)a++,o++;c="*"+a.toString(36)+"*"+u;}else c=u;0===O&&o===i||(1===t&&s&&(f+=","),s=!0,f+=c);}return s?t.toString()+f:""}function p(t){if(!t||!t.charCodeAt)return 0;var n=t.charCodeAt(0);return n>=48&&n<=57?n-48:n>=97&&n<=122?n-97+10:n>=65&&n<=90?n-65+36:95===n?62:45===n?63:0}}function h(){var t={auto:!1,enabled:!0,hooked:!1,routeHooked:!1,hadMissedRouteChange:!1,routeChangeInProgress:!1,disableHardNav:!1,routeFilter:void 0,routeChangeWaitFilter:void 0,monitorReplaceState:!0,a:void 0,originHistoryPushState:null,originHistoryReplaceState:null,originHistoryGo:null,originHistoryBack:null,originHistoryForward:null,resetRouteChangeInProgress:function(){t.routeChangeInProgress&&clearTimeout(t.routeChangeInProgress),t.routeChangeInProgress=!1;},setRouteChangeInProgress:function(){t.routeChangeInProgress&&clearTimeout(t.routeChangeInProgress),t.routeChangeInProgress=setTimeout(t.resetRouteChangeInProgress,50);},spaInit:function(t,n){n?BOOMR.fireEvent("spa_init",[BOOMR.plugins.SPA.current_spa_nav(),n]):t?BOOMR.fireEvent("spa_init",[BOOMR.plugins.SPA.current_spa_nav(),t]):BOOMR.fireEvent("spa_init",[BOOMR.plugins.SPA.current_spa_nav(),BOOMR.window.document.URL]);},routeChange:function(r,e){if(t.enabled){if(t.disableHardNav&&!BOOMR.onloadFired())return;t.routeChangeInProgress?n():(t.spaInit(r,e),BOOMR.plugins.SPA.route_change());}else t.hadMissedRouteChange=!0,t.resetRouteChangeInProgress();}};function n(t){}BOOMR.plugins.History||void 0===BOOMR.plugins.SPA||void 0===BOOMR.plugins.AutoXHR||BOOMR.window&&BOOMR.window.history&&(BOOMR.plugins.SPA.register("History"),t.a=BOOMR.window.document.createElement("A"),BOOMR.plugins.History={is_complete:function(){return !0},hook:function(r,e,i){return (i=i||{}).disableHardNav=t.disableHardNav,t.hooked||(t.routeFilter&&(i.routeFilter=t.routeFilter),t.routeChangeWaitFilter&&(i.routeChangeWaitFilter=t.routeChangeWaitFilter),function(){var r,e,i,o,a,u=BOOMR.window.history;function c(){BOOMR.window.addEventListener("popstate",(function(r){t.routeChange();}));}return "function"==typeof u.pushState&&(t.originHistoryPushState=u.pushState,u.pushState=(r=u.pushState,function(e,i,o){return t.routeChange(i,o),r.apply(this,arguments)})),t.monitorReplaceState&&"function"==typeof u.replaceState&&(t.originHistoryReplaceState=u.pushState,u.replaceState=(e=u.replaceState,function(r,i,o){if("undefined"!=typeof BOOMR){var a=BOOMR.window.document.URL,u=a;return arguments.length>=3&&null!=o&&(t.a.href=o,u=t.a.href),BOOMR.plugins.SPA.isSpaNavInProgress()&&u===a?n():(t.routeChange(i,o)),e.apply(this,arguments)}})),"function"==typeof u.go&&(t.originHistoryGo=u.go,u.go=(i=u.go,function(r){return t.routeChange(),i.apply(this,arguments)})),"function"==typeof u.back&&(t.originHistoryBack=u.back,u.back=(o=u.back,function(){return t.routeChange(),o.apply(this,arguments)})),"function"==typeof u.forward&&(t.originHistoryForward=u.forward,u.forward=(a=u.forward,function(){return t.routeChange(),a.apply(this,arguments)})),BOOMR.window.addEventListener("hashchange",(function(r){var e=(r||{}).newURL;t.routeChange(null,e);})),BOOMR.hasBrowserOnloadFired()?c():BOOMR.window.addEventListener("load",(function(){setTimeout(c,0);})),BOOMR.subscribe("beacon",t.resetRouteChangeInProgress),BOOMR.subscribe("spa_cancel",t.resetRouteChangeInProgress),BOOMR.subscribe("spa_init",t.setRouteChangeInProgress),!0}()&&(BOOMR.plugins.SPA.hook(e,i),t.hooked=!0)),this},init:function(n){return BOOMR.utils.pluginConfig(t,n,"History",["auto","enabled","disableHardNav","routeFilter","routeChangeWaitFilter","monitorReplaceState"]),t.auto&&t.enabled&&(this.hook(void 0,!0,{})),this},disable:function(){return history.pushState=t.originHistoryPushState,history.replaceState=t.originHistoryReplaceState,history.go=t.originHistoryGo,history.back=t.originHistoryBack,history.forward=t.originHistoryForward,t.enabled=!1,this},enable:function(){return t.enabled=!0,t.hooked&&t.hadMissedRouteChange&&(t.hadMissedRouteChange=!1,BOOMR.plugins.SPA.route_change(),t.setRouteChangeInProgress(),n()),this}});}function v(){var n;if(!BOOMR.plugins.ResourceTiming){var r={other:0,img:1,link:2,script:3,css:4,xmlhttprequest:5,html:6,image:7,beacon:8,fetch:9,iframe:"a",subdocument:"a"},e={prefetch:1,preload:2,prerender:3,stylesheet:4},o=["startTime","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","secureConnectionStart","connectEnd","requestStart","responseStart","responseEnd","workerStart"];n={complete:!1,sentNavBeacon:!1,initialized:!1,supported:null,xhr_load:function(){this.complete||(this.complete=!0,BOOMR.sendBeacon());},xssBreakWords:[/(h)(ref)/gi,/(s)(rc)/gi,/(a)(ction)/gi],urlLimit:500,clearOnBeacon:!1,trimUrls:[],serverTiming:!0,monitorClearResourceTimings:!1,splitAtPath:!1,trackedResourceTypes:"*",done:function(){this.sentNavBeacon||(_(),this.complete=!0,this.sentNavBeacon=!0,BOOMR.sendBeacon());},onBeacon:function(t){var r=BOOMR.getPerformance();if(t.hasOwnProperty("restiming")&&BOOMR.removeVar("restiming"),t.hasOwnProperty("servertiming")&&BOOMR.removeVar("servertiming"),n.clearOnBeacon&&r){var e=r.clearResourceTimings||r.webkitClearResourceTimings;e&&"function"==typeof e&&e.call(r);}},prerenderToVisible:function(){this.sentNavBeacon=!1,this.done();}},BOOMR.plugins.ResourceTiming={init:function(t){if(BOOMR.utils.pluginConfig(n,t,"ResourceTiming",["xssBreakWords","clearOnBeacon","urlLimit","trimUrls","trackedResourceTypes","serverTiming","monitorClearResourceTimings","splitAtPath"]),n.initialized)return this;if(this.is_supported()){if(BOOMR.subscribe("page_ready",n.done,null,n),BOOMR.subscribe("prerender_to_visible",n.prerenderToVisible,null,n),BOOMR.subscribe("xhr_load",n.xhr_load,null,n),BOOMR.subscribe("beacon",n.onBeacon,null,n),BOOMR.subscribe("before_unload",n.done,null,n),n.monitorClearResourceTimings){var r=this;BOOMR.window.performance.clearResourceTimings=(e=BOOMR.window.performance.clearResourceTimings,function(){r.addResources(BOOMR.window.performance.getEntriesByType("resource")),e.apply(BOOMR.window.performance,arguments);});}}else n.complete=!0;var e;return n.initialized=!0,this},is_complete:function(){return !0},is_enabled:function(){return n.initialized&&this.is_supported()},is_supported:function(){if(null!==n.supported)return n.supported;var t=BOOMR.getPerformance();return n.supported=t&&"function"==typeof t.getEntriesByType&&void 0!==window.PerformanceResourceTiming,n.supported},addResources:function(t,r){if(this.is_supported()&&BOOMR.utils.isArray(t)){if(n.collectedEntries=n.collectedEntries||[],"number"==typeof r){var e=r-(BOOMR.window.performance.timeOrigin||BOOMR.window.performance.timing.navigationStart);t=BOOMR.utils.arrayFilter(t,(function(t){for(var n=0;n<o.length;n++){var r=o[n];t.hasOwnProperty(r)&&(t[r]+=e);}return !0}));}Array.prototype.push.apply(n.collectedEntries,t);}},getCompressedResourceTiming:y,getFilteredResourceTiming:R,calculateResourceTimingUnion:function(t){var n;if(!t||!t.length)return 0;t.sort((function(t,n){return t.fetchStart!==n.fetchStart?t.fetchStart-n.fetchStart:(t.responseStart||t.responseEnd)-(n.responseStart||n.responseEnd)}));var r=b(t),e=[],i=0;for(n=0;n<r.length;n++){var o=r[n];o.fetchStart<i&&(o.fetchStart=i),o.fetchStart<o.responseEnd&&(e.push(o),i=o.responseEnd);}var a=b(e),u=0;for(n=0;n<a.length;n++)u+=a[n].responseEnd-a[n].fetchStart;return u},addResourceTimingToBeacon:_,addToBeacon:k,trimTiming:c,convertToTrie:a,optimizeTrie:u,findPerformanceEntriesForFrame:O,toBase36:h,getVisibleEntries:v,reduceFetchStarts:b,compressSize:M,decompressSize:function(t,n){var r,e;for(void 0===n&&(n={}),r=t.split(","),e=0;e<r.length;e++)"_"===r[e]?r[e]=0:(""===r[e]&&(r[e]=0),r[e]=parseInt(r[e],36),e>0&&(r[e]+=r[0]));return 1===r.length&&r.push(r[0]),2===r.length&&r.push(r[0]),n.encodedBodySize=r[0],n.transferSize=r[1],n.decodedBodySize=r[2],n},trimUrl:p,getResourceLatestTime:B,mergePixels:m,countPixels:g,getOptimizedTimepoints:function(t){var n,r,e,i,o,a,u,c,s,f,O={},l=[];for(r=Object.keys(t),n=0;n<r.length;n++)void 0===O[o=Math.round(Number(r[n]))]&&(O[o]=[]),Array.prototype.push.apply(O[o],t[r[n]]);if(0===(r=Object.keys(O).map(Number).sort((function(t,n){return t-n}))).length)return {};for(n=0;n<r.length;n++)u=g(e=m(e,O[o=r[n]],o)),r[n]=[o,u];for(i=0,a=0,c=0,n=0;n<r.length;n++)o=r[n][0],u=r[n][1],s=g(e,0,o),(u>a||s>c)&&(f=(f=(o===1/0?"":h(Math.round(o-i)))+"~"+h(u-a)+"~"+h(u-s)).replace(/~~/,"-").replace(/~$/,""),l.push(f),i=o,a=u,c=s);return l.join("!").replace(/!+$/,"")},decompressTimePoints:function(t){var n,r,e,i={},o=[0,0,0];for(n=t.split("!"),r=0;r<n.length;r++)i[(e=n[r].replace(/^~/,"Infinity~").replace("-","~0~").split("~").map((function(t,n){return t="Infinity"===t?1/0:parseInt(t,36),2===n?t=o[1]-t:t+=o[n],o[n]=t,t})))[0]]=[e[1],e[2]||e[1]];return i},accumulateServerTimingEntries:w,compressServerTiming:x,indexServerTiming:S,identifyServerTimingEntry:T,decompressServerTiming:function(t,n){var r=n.split(":"),e=Number(r[0]),i=0,o=0;if(r.length>1){var a=r[1].split(".");""!==a[0]&&(i=Number(a[0])),a.length>1&&(o=Number(a[1]));}var u,c="";return Array.isArray(t[i])?(u=t[i][0],c=t[i][1+o]||""):u=t[i],{name:u,duration:e,description:c}},SPECIAL_DATA_PREFIX:"*",SPECIAL_DATA_DIMENSION_TYPE:"0",SPECIAL_DATA_SIZE_TYPE:"1",SPECIAL_DATA_SCRIPT_ATTR_TYPE:"2",SPECIAL_DATA_LINK_ATTR_TYPE:"4",ASYNC_ATTR:1,DEFER_ATTR:2,LOCAT_ATTR:4,INITIATOR_TYPES:r,REL_TYPES:e};}function a(t,r){var e,i,o,a,u,c,s,f,O={};function l(t){return function(n,r,e){var i,o;if(-1!==r.indexOf("\n")){for(i=r.split("\n"),o=0;o<i.length-1;o++)n.push(i[o]),n.push("\n");r=i.slice(-1);}return "number"==typeof t&&e<t&&(r+="/"),n.concat(r)}}for(e in t){for(i=e,o=0;o<n.xssBreakWords.length;o++)i=i.replace(n.xssBreakWords[o],"$1\n$2");if(t.hasOwnProperty(e))for(a=t[e],u=r?[(u=i.split("/"))[0]+"//",u[2]+(u.length>3?"/":"")].concat(u.slice(3).reduce(l(u.length-4),[])):i.split(""),s=O,o=0;o<u.length;o++)void 0===(f=s[c=u[o]])?s=s[c]=o===u.length-1?a:{}:"string"==typeof f?s=s[c]={"|":f}:o===u.length-1?s[c]["|"]=a:s=s[c];}return O}function u(t,n){var r,e,i,o=0,a=[];for(r in t)t.hasOwnProperty(r)&&a.push(r);for(var c=0;c<a.length;c++)"object"==typeof t[r=a[c]]&&(e=u(t[r],!1))&&(delete t[r],"\n"===r?(r=e.name,o++):r+=e.name,t[r]=e.value),o++;return 1===o?n?((i={})[r]=t[r],i):{name:r,value:t[r]}:!!n&&t}function c(t,n){"number"!=typeof t&&(t=0),"number"!=typeof n&&(n=0);var r=Math.round(t||0),e=Math.round(n||0);return 0===r?0:r-e}function s(t){try{if(t.location&&t.location.href,t.document,"performance"in t&&t.performance)return !0}catch(t){}return !1}function f(t){var n=0;return s(t)&&t.performance.timing&&t.performance.timing.navigationStart&&(n=t.performance.timing.navigationStart),n}function O(r,e,i,o,a){var u,c,h,R,M,p,B,m=[],g={},y={};if(void 0===e&&(e=!0),void 0===i&&(i=0),void 0===o&&(o=0),o>10)return m;try{if(!s(r))return m;if(c=f(r),p=v(r,a),d(B=r.document.createElement("a"),g,"script"),d(B,y,"link"),(M=r.document.getElementsByTagName("iframe"))&&M.length)for(u=0;u<M.length;u++)h=f(M[u].contentWindow),R=0,h>c&&(R=i+(h-c)),B.href=M[u].src,m=m.concat(O(M[u].contentWindow,!1,R,o+1,p[B.href]));if("function"!=typeof r.performance.getEntriesByType)return m;function b(t){return n.serverTiming&&t.serverTiming||[]}e&&function(n,r,e,i,o){(e=n.performance.getEntriesByType("navigation"))&&1===e.length?(i=e[0],r.push({name:n.location.href,startTime:0,initiatorType:"html",redirectStart:i.redirectStart,redirectEnd:i.redirectEnd,fetchStart:i.fetchStart,domainLookupStart:i.domainLookupStart,domainLookupEnd:i.domainLookupEnd,connectStart:i.connectStart,secureConnectionStart:i.secureConnectionStart,connectEnd:i.connectEnd,requestStart:i.requestStart,responseStart:i.responseStart,responseEnd:i.responseEnd,workerStart:i.workerStart,encodedBodySize:i.encodedBodySize,decodedBodySize:i.decodedBodySize,transferSize:i.transferSize,serverTiming:o(i)})):n.performance.timing&&(t=n.performance.timing,0!==t.navigationStart&&t.responseEnd<=t.navigationStart+36e5&&r.push({name:n.location.href,startTime:0,initiatorType:"html",redirectStart:t.redirectStart?t.redirectStart-t.navigationStart:0,redirectEnd:t.redirectEnd?t.redirectEnd-t.navigationStart:0,fetchStart:t.fetchStart?t.fetchStart-t.navigationStart:0,domainLookupStart:t.domainLookupStart?t.domainLookupStart-t.navigationStart:0,domainLookupEnd:t.domainLookupEnd?t.domainLookupEnd-t.navigationStart:0,connectStart:t.connectStart?t.connectStart-t.navigationStart:0,secureConnectionStart:t.secureConnectionStart?t.secureConnectionStart-t.navigationStart:0,connectEnd:t.connectEnd?t.connectEnd-t.navigationStart:0,requestStart:t.requestStart?t.requestStart-t.navigationStart:0,responseStart:t.responseStart?t.responseStart-t.navigationStart:0,responseEnd:t.responseEnd?t.responseEnd-t.navigationStart:0}));}(r,m,void 0,void 0,b);var _=r.performance.getEntriesByType("resource");r===BOOMR.window&&n.collectedEntries&&(Array.prototype.push.apply(_,n.collectedEntries),n.collectedEntries=[]),m=m.concat(l(_,b,p,i,g,y));}catch(t){return m}return m}function l(t,n,r,a,u,c){var s,f,O=[];for(i=0;t&&i<t.length;i++){f=t[i],s={name:f.name,initiatorType:f.initiatorType,encodedBodySize:f.encodedBodySize,decodedBodySize:f.decodedBodySize,transferSize:f.transferSize,serverTiming:n(f),visibleDimensions:r[f.name],latestTime:B(f)};for(var l=0;l<o.length;l++){var d=o[l];s[d]="startTime"===d||f[d]?f[d]+a:0;}if(f.hasOwnProperty("_data")&&(s.R=f.R),("script"===f.initiatorType||"link"===f.initiatorType)&&u[f.name]){var h=u[f.name];for(s.scriptAttrs=(h.async?1:0)|(h.defer?2:0);1===h.nodeType&&"BODY"!==h.nodeName;)h=h.parentNode;s.scriptAttrs|="BODY"===h.nodeName?4:0;}"link"===f.initiatorType&&c[f.name]&&BOOMR.utils.arrayFind(c[f.name].rel.split(/[\u0009\u000A\u000C\u000D\u0020]+/),(function(t){if(t=t.toLowerCase(),e[t])return s.linkAttrs=e[t],!0})),O.push(s);}return O}function d(t,n,r){Array.prototype.forEach.call(t.ownerDocument.getElementsByTagName(r),(function(r){t.href=r.currentSrc||r.src||"function"==typeof r.getAttribute&&r.getAttribute("xlink:href")||r.href,t.href.match(/^https?:\/\//)&&(n[t.href]=r);}));}function h(t){return "number"==typeof t&&0!==t?t.toString(36):"string"==typeof t?t:""}function v(t,n){var r,e,i={},o=t.document,a=o.createElement("A");return r=(n=n||[0,0,0,0])[3]+(void 0!==t.pageXOffset)?t.pageXOffset:(o.documentElement||o.body.parentNode||o.body).scrollLeft,e=n[2]+(void 0!==t.pageYOffset)?t.pageYOffset:(o.documentElement||o.body.parentNode||o.body).scrollTop,["img","iframe","image"].forEach((function(t){var n,u,c,s,f=o.getElementsByTagName(t);for(u=0;u<f.length;u++)if((n=f[u])&&(s=n.currentSrc||n.src||"function"==typeof n.getAttribute&&n.getAttribute("src")||n.getAttribute("xlink:href"),a.href=s,(s=a.href)&&!i[s]&&((c=n.getBoundingClientRect()).height||n.offsetHeight)&&(c.width||n.offsetWidth))){if(i[s]=[c.height||n.offsetHeight,c.width||n.offsetWidth,Math.round(c.top+e),Math.round(c.left+r)],!n.naturalHeight&&!n.naturalWidth)continue;var O,l,d;n.currentSrc&&(n.srcset||n.parentNode&&n.parentNode.nodeName&&"PICTURE"===n.parentNode.nodeName.toUpperCase())?(O=n.isConnected?n.ownerDocument.createElement("IMG"):new BOOMR.window.Image).src=s:O=n,l=O.naturalHeight||n.naturalHeight,d=O.naturalWidth||n.naturalWidth,!l&&!d||i[s][0]===l&&i[s][1]===d||i[s].push(l,d);}})),i}function R(t,n,r){var e,i,o=O(BOOMR.window,!0,0,0),a=f(BOOMR.window),u={};if(!o||!o.length)return {entries:[]};o.sort((function(t,n){return t.startTime-n.startTime}));var c=[];for(e=0;e<o.length;e++)if((0===(i=o[e]).name.indexOf("http:")||0===i.name.indexOf("https:"))&&!(i.name.indexOf(BOOMR.url)>-1||i.name.indexOf(BOOMR.config_url)>-1||"function"==typeof BOOMR.getBeaconURL&&BOOMR.getBeaconURL()&&i.name.indexOf(BOOMR.getBeaconURL())>-1||t&&a+i.startTime<t)){if(n&&a+i.startTime>n)break;(void 0===r||"*"===r||!r.length||i.initiatorType&&BOOMR.utils.inArray(i.initiatorType,r))&&(w(u,i.serverTiming),c.push(i));}var s=x(u);return {entries:c,serverTiming:{lookup:s,indexed:S(s)}}}function M(t){var n,r,e;return t.encodedBodySize||t.decodedBodySize||t.transferSize?(n=t.transferSize,[r=t.encodedBodySize,n?n-r:"_",(e=t.decodedBodySize)?e-r:0].map(h).join(",").replace(/,+$/,"")):""}function p(t,r){var e,i,o;if(t&&r)for(e=0;e<r.length;e++)if("string"==typeof(o=r[e])){if(-1!==(i=t.indexOf(o))){t=t.substr(0,i+o.length)+"...";break}}else o instanceof RegExp&&o.test(t)&&(t=t.replace(o,"$1")+"...");return BOOMR.utils.cleanupURL(t,n.urlLimit)}function B(t){return t.responseEnd?t.responseEnd:t.responseStart&&t.startTime?t.responseStart+.2*(t.responseStart-t.startTime):1/0}function m(t,n,r){var e=BOOMR.window.screen,i=e.height,o=e.width;return n.reduce((function(t,n){var e,a,u,c,s,f;if(e=Math.max(0,n[3]),u=Math.max(0,n[2]),a=Math.min(n[3]+n[1],o),c=Math.min(n[2]+n[0],i),e>=a||u>=c)return t;for(f=u;f<c;f++)for(t[f]||(t[f]=[]),s=e;s<a;s++)t[f][s]=r;return t}),t||[])}function g(t,n,r){return n=n||0,r=r||1/0,t.reduce((function(t,e){return t+e.filter((function(t){return n<=t&&t<=r})).length}),0)}function y(t,e){var i,o,s,f,O,l={},d={},v=R(t,e,n.trackedResourceTypes),B=v.entries,m=v.serverTiming;if(!B||!B.length)return {restiming:{},servertiming:[]};for(i=0;i<B.length;i++){o=B[i],void 0===(s=r[o.initiatorType])&&(s=0),O=s+[c(o.startTime,0),c(o.responseEnd,o.startTime),c(o.responseStart,o.startTime),c(o.requestStart,o.startTime),c(o.connectEnd,o.startTime),c(o.secureConnectionStart,o.startTime),c(o.connectStart,o.startTime),c(o.domainLookupEnd,o.startTime),c(o.domainLookupStart,o.startTime),c(o.redirectEnd,o.startTime),c(o.redirectStart,o.startTime)].map(h).join(",").replace(/,+$/,"");var g=M(o);if(""!==g&&(O+="*1"+g),o.hasOwnProperty("scriptAttrs")&&(O+="*2"+o.scriptAttrs),o.serverTiming&&o.serverTiming.length&&(O+="*3"+o.serverTiming.reduce((function(t,n,r){var e=String(void 0!==n.duration?n.duration:n.value);"0."===e.substring(0,2)&&(e=e.substring(1));var i=n.name||n.metric;return t+=(r>0?",":"")+e+T(m.indexed[i].index,m.indexed[i].descriptions[n.description])}),"")),o.hasOwnProperty("linkAttrs")&&(O+="*4"+o.linkAttrs),f=(f=p(o.name,n.trimUrls)).replace(/&/g,"%26"),o.hasOwnProperty("_data")){var y="";for(var b in o.R)o.R.hasOwnProperty(b)&&(y+="*5"+b+":"+o.R[b]);void 0===l[f]?l[f]=O+y:l[f]+=y;}else void 0!==l[f]?l[f]+="|"+O:o.visibleDimensions?l[f]="*0"+o.visibleDimensions.map(Math.round).map(h).join(",").replace(/,+$/,"")+"|"+O:l[f]=O;o.visibleDimensions&&(d[o.latestTime]||(d[o.latestTime]=[]),d[o.latestTime].push(o.visibleDimensions));}return {restiming:u(a(l,n.splitAtPath),!0),servertiming:m.lookup}}function b(t){var n=[];if(!t||!t.length)return n;for(var r=0;r<t.length;r++){var e=t[r];r!==t.length-1&&e.fetchStart===t[r+1].fetchStart||n.push({fetchStart:e.fetchStart,responseEnd:e.responseStart||e.responseEnd});}return n}function _(t,n){var r;"undefined"!=typeof JSON&&(BOOMR.removeVar("restiming"),BOOMR.removeVar("servertiming"),(r=y(t,n))&&(BOOMR.info("Client supports Resource Timing API","restiming"),k(r)));}function w(t,n){(n||[]).forEach((function(n){var r=n.name||n.metric;void 0===t[r]&&(t[r]={count:0,counts:{}});var e=t[r];e.counts[n.description]=e.counts[n.description]||0,e.counts[n.description]++,e.count++;}));}function x(t){return Object.keys(t).sort((function(n,r){return t[r].count-t[n].count})).reduce((function(n,r){var e=Object.keys(t[r].counts).sort((function(n,e){return t[r].counts[e]-t[r].counts[n]}));return n.push(1===e.length&&""===e[0]?r:[r].concat(e)),n}),[])}function S(t){return t.reduce((function(t,n,r){var e,i;return Array.isArray(n)?(e=n[0],i=n.slice(1).reduce((function(t,n,r){return t[n]=r,t}),{})):(e=n,i={"":0}),t[e]={index:r,descriptions:i},t}),{})}function T(t,n){var r="";return t&&(r+=t),n&&(r+="."+n),r.length&&(r=":"+r),r}function k(t){BOOMR.addVar("restiming",JSON.stringify(t.restiming)),t.servertiming.length&&BOOMR.addVar("servertiming",BOOMR.utils.serializeForUrl(t.servertiming));}}c();var R=function(){function t(t){t&&t.ignoreUrls&&t.ignoreUrls.length&&this.shouldIgnoreUrls(t.ignoreUrls)||(this.BOOMR=s(window),this.BOOMR.addVar("token",t.token),t&&this.initOptions(t));}return t.prototype.shouldIgnoreUrls=function(t){return O(t,location.href)},t.prototype.initOptions=function(t){for(var n in this.installPlugins(),this.BOOMR.init({beacon_url:"https://fclog.baidu.com/log/weirwood?type=perf",autorun:!1,History:{auto:!0},instrument_xhr:!0,Continuity:{monitorLongTasks:!0,monitorPageBusy:!0,monitorFrameRate:!0,monitorInteractions:!0,monitorStats:!1,ttiWaitForXHRDone:t.ttiWaitForXHRDone||!0,ttiWaitForXHRIgnore:t.ttiWaitForXHRIgnore||[],waitAfterOnload:t.waitAfterOnload||!1},sampleRate:t.sampleRate||1,normalizeUrl:t.normalizeUrl}),this.BOOMR)this.BOOMR.hasOwnProperty(n)&&(this[n]=this.BOOMR[n]);},t.prototype.installPlugins=function(){var t=function(t){var n,r,e=(t=t||window).document,i=function(n){var r=!1;if(n.getBoundingClientRect){var i=n.getBoundingClientRect();(r={top:Math.max(i.top,0),left:Math.max(i.left,0),bottom:Math.min(i.bottom,t.innerHeight||e.documentElement.clientHeight),right:Math.min(i.right,t.innerWidth||e.documentElement.clientWidth)}).bottom<=r.top||r.right<=r.left?r=!1:r.area=(r.bottom-r.top)*(r.right-r.left);}return r},o=function(t,n){if(n){var r=i(t);r&&a.push({url:n,area:r.area,rect:r});}},a=[],u=[],c=.1;try{var s=t.performance.timing.navigationStart;!function(){for(var n=e.getElementsByTagName("*"),r=/url\(.*(http.*)\)/gi,u=0;u<n.length;u++){var c=n[u],s=t.getComputedStyle(c);if("IMG"==c.tagName&&o(c,c.currentSrc||c.src),s["background-image"]){r.lastIndex=0;var f=r.exec(s["background-image"]);f&&f.length>1&&o(c,f[1].replace('"',""));}if("IFRAME"==c.tagName)try{var O=i(c);if(O){var l=RUMSpeedIndex(c.contentWindow);l&&a.push({tm:l,area:O.area,rect:O});}}catch(t){}}}(),function(){for(var n={},r=t.performance.getEntriesByType("resource"),e=0;e<r.length;e++)n[r[e].name]=r[e].responseEnd;for(var i=0;i<a.length;i++)"tm"in a[i]||(a[i].tm=void 0!==n[a[i].url]?n[a[i].url]:0);}(),function(){try{for(var r=performance.getEntriesByType("paint"),i=0;i<r.length;i++)if("first-paint"==r[i].name){s=performance.getEntriesByType("navigation")[0].startTime,n=r[i].startTime-s;break}}catch(t){}if(void 0===n&&"msFirstPaint"in t.performance.timing&&(n=t.performance.timing.msFirstPaint-s),void 0===n&&"chrome"in t&&"loadTimes"in t.chrome){var o=t.chrome.loadTimes();if("firstPaintTime"in o&&o.firstPaintTime>0){var a=o.startLoadTime;"requestTime"in o&&(a=o.requestTime),o.firstPaintTime>=a&&(n=1e3*(o.firstPaintTime-a));}}if(void 0===n||n<0||n>12e4){n=t.performance.timing.responseStart-s;var u={},c=e.getElementsByTagName("head")[0].children;for(i=0;i<c.length;i++){var f=c[i];"SCRIPT"==f.tagName&&f.src&&!f.async&&(u[f.src]=!0),"LINK"==f.tagName&&"stylesheet"==f.rel&&f.href&&(u[f.href]=!0);}for(var O=t.performance.getEntriesByType("resource"),l=!1,d=0;d<O.length;d++)if(l||!u[O[d].name]||"script"!=O[d].initiatorType&&"link"!=O[d].initiatorType)l=!0;else {var h=O[d].responseEnd;(void 0===n||h>n)&&(n=h);}}n=Math.max(n,0);}(),function(){for(var r={0:0},i=0,o=0;o<a.length;o++){var s=n;"tm"in a[o]&&a[o].tm>n&&(s=a[o].tm),void 0===r[s]&&(r[s]=0),r[s]+=a[o].area,i+=a[o].area;}var f=Math.max(e.documentElement.clientWidth,t.innerWidth||0)*Math.max(e.documentElement.clientHeight,t.innerHeight||0);if(f>0&&(f=Math.max(f-i,0)*c,void 0===r[n]&&(r[n]=0),r[n]+=f,i+=f),i){for(var O in r)r.hasOwnProperty(O)&&u.push({tm:O,area:r[O]});u.sort((function(t,n){return t.tm-n.tm}));for(var l=0,d=0;d<u.length;d++)l+=u[d].area,u[d].progress=l/i;}}(),function(){if(u.length){r=0;for(var t=0,e=0,i=0;i<u.length;i++){var o=u[i].tm-t;o>0&&e<1&&(r+=(1-e)*o),t=u[i].tm,e=u[i].progress;}}else r=n;}();}catch(t){}return r}(window);this.BOOMR.addVar("speedIndex",t,!0),d(),l(),function(){var t,n=!1,r=!1,e=!1,i=!1,o=!1,a=!0,u=!1,c=!1,s=!1,f=[],O=!1;if(!BOOMR.plugins.SPA&&BOOMR.plugins.AutoXHR){var l={spaHardMissedOnComplete:function(t){var n,r=BOOMR.plugins.RT&&BOOMR.plugins.RT.navigationStart();O=!1,BOOMR.addVar("spa.missed","1"),BOOMR.plugins.RT&&BOOMR.plugins.RT.clearTimer("t_done"),t.timing.requestStart=r,0===t.resources.length&&(n=BOOMR.getPerformance())&&n.timing&&n.timing.navigationStart&&n.timing.loadEventEnd&&(t.timing.loadEventEnd=n.timing.loadEventEnd,void 0);},onBeacon:function(){BOOMR.removeVar("spa.missed","spa.forced","spa.waiting");}};BOOMR.plugins.SPA={is_complete:function(){return !O},init:function(t){t&&t.instrument_xhr&&(o=t.instrument_xhr,e&&o&&BOOMR.plugins.AutoXHR.enableAutoXhr()),r||(r=!0,BOOMR.subscribe("beacon",l.onBeacon,null,l));},register:function(t){f.push(t);},supported_frameworks:function(){return f},onLoadSpaHardMissed:function(){e||(i=!0,o&&BOOMR.plugins.AutoXHR.enableAutoXhr(),O=!0,s?O=!1:(BOOMR.fireEvent("spa_init",[BOOMR.plugins.SPA.current_spa_nav(),BOOMR.window.document.URL]),BOOMR.plugins.SPA.route_change(l.spaHardMissedOnComplete)));},hook:function(t,r){return r=r||{},"function"==typeof r.routeFilter&&(u=r.routeFilter),"function"==typeof r.routeChangeWaitFilter&&(c=r.routeChangeWaitFilter),r.disableHardNav&&(s=r.disableHardNav),n||(t&&(BOOMR.attach_page_ready(this.onLoadSpaHardMissed)),n=!0),this},route_change:function(n,r){BOOMR.fireEvent("route_change");var f=!1,O=a&&!s?"spa_hard":"spa";if(t&&t.wait);else {if("spa"===O&&u)try{if(!u.apply(null,r))return void d("Route filter returned false; not tracking this route");d("Route filter returned true; tracking this route");}catch(t){BOOMR.addError(t,"SPA.route_change.routeFilter");}e=!0;var l=BOOMR.plugins.RT&&BOOMR.plugins.RT.navigationStart(),h=i?BOOMR.now():l,v=BOOMR.window.document.URL,R={timing:{requestStart:h},initiator:O,url:v};if(a=!1,i&&"function"!=typeof n||(i=!0,R.onComplete=function(t){f||(f=!0,BOOMR.fireEvent("spa_navigation")),"function"==typeof n&&(n(t));}),"spa"===O&&c){try{c.apply(null,arguments)?(d("Route filter returned true; waiting for complete call"),R.wait=!0,t=R):d("Route wait filter returned false; not waiting for complete call");}catch(t){BOOMR.addError(t,"SPA.route_change.routeChangeWaitFilter");}}R.index=BOOMR.plugins.AutoXHR.getMutationHandler().addEvent(R),o&&BOOMR.plugins.AutoXHR.enableAutoXhr();}},last_location:function(t){lastLocationChange=t;},current_spa_nav:function(){return i?"spa":"spa_hard"},wait_complete:function(){t&&(t.wait=!1,t.waitComplete&&(t.waitComplete()),t=null);},markNavigationComplete:function(){var n,r,e,i=BOOMR.plugins.AutoXHR.getMutationHandler();if(t&&t.wait&&BOOMR.plugins.SPA.wait_complete(),i&&i.pending_events.length>0)for(n=i.pending_events.length-1;n>=0;n--)if((r=i.pending_events[n])&&BOOMR.utils.inArray(r.type,BOOMR.constants.BEACON_TYPE_SPAS)){if(r.complete)break;return d("SPA Navigation being marked complete; nodes waiting for: "+(e=i.nodesWaitingFor(n))),BOOMR.addVar("spa.forced","1"),BOOMR.addVar("spa.waiting",e),void i.completeEvent(n)}},isSpaNavInProgress:function(){var t,n,r=BOOMR.plugins.AutoXHR.getMutationHandler();if(r&&r.pending_events.length>0)for(t=r.pending_events.length-1;t>=0;t--)if((n=r.pending_events[t])&&BOOMR.utils.inArray(n.type,BOOMR.constants.BEACON_TYPE_SPAS))return !n.complete;return !1}},BOOMR.plugins.SPA.waitComplete=BOOMR.plugins.SPA.wait_complete;}function d(t){}}(),h(),function(t){var n,r;if(!BOOMR.plugins.RT){r={onloadfired:!1,unloadfired:!1,visiblefired:!1,initialized:!1,complete:!1,autorun:!0,timers:{},cookie:"RT",cookie_exp:604800,session_exp:1800,strict_referrer:!0,navigationType:0,navigationStart:void 0,responseStart:void 0,loadTime:0,oboError:0,t_start:void 0,cached_t_start:void 0,cached_xhr_start:void 0,t_fb_approx:void 0,r:void 0,beacon_url:void 0,next_beacon_url:void 0,basic_timers:{t_done:1,t_resp:1,t_page:1},crossdomain_sending:!1,addedVars:[],updateCookie:function(t,n){var e,i,o,a;if(!this.cookie)return !1;for(a in o=BOOMR.utils.getSubCookies(BOOMR.utils.getCookie(this.cookie))||{})o.hasOwnProperty(a)&&(isNaN(parseInt(a,10))||delete o[a]);if("object"==typeof t)for(a in t)t.hasOwnProperty(a)&&(void 0===t[a]?o.hasOwnProperty(a)&&delete o[a]:o[a]=t[a]);return o.z=1,o.dm=BOOMR.session.domain,o.si=BOOMR.session.ID,o.ss=BOOMR.session.start.toString(36),o.sl=BOOMR.session.length.toString(36),1800!==r.session_exp&&(o.se=r.session_exp.toString(36)),BOOMR.session.rate_limited&&(o.rl=1),o.tt=this.loadTime.toString(36),this.oboError>0?o.obo=this.oboError.toString(36):delete o.obo,i=BOOMR.now(),n&&(o[n]=(i-BOOMR.session.start).toString(36),r.lastActionTime=i),this.beacon_url&&(o.bcn=this.beacon_url),BOOMR.utils.setCookie(this.cookie,o,this.cookie_exp)?((e=BOOMR.now())-i>50&&(BOOMR.utils.removeCookie(this.cookie),BOOMR.error("took more than 50ms to set cookie... aborting: "+i+" -> "+e,"rt")),!0):(BOOMR.error("cannot set start cookie","rt"),!1)},refreshSession:function(t){t||(t=BOOMR.plugins.RT.getCookie()),t&&(t.ss?BOOMR.session.start=t.ss:BOOMR.session.start=BOOMR.t_lstart||BOOMR.t_start,t.si&&t.si.match(/-/)&&(BOOMR.session.ID=t.si),t.sl&&(BOOMR.session.length=t.sl),t.tt&&(this.loadTime=t.tt),t.obo&&(this.oboError=t.obo),t.dm&&!BOOMR.session.domain&&(BOOMR.session.domain=t.dm),t.se&&(r.session_exp=t.se),t.bcn&&(this.beacon_url=t.bcn),t.rl&&"1"===t.rl&&(BOOMR.session.rate_limited=!0));},maybeResetSession:function(t,n){var e=0;BOOMR.session.start&&BOOMR.session.length&&(e=(BOOMR.now()-BOOMR.session.start)/BOOMR.session.length);var i=1e3*r.session_exp;(!BOOMR.session.start||n&&BOOMR.session.start>n||t-(r.lastActionTime||BOOMR.t_start)>i||e>i)&&(BOOMR.session.start=n||BOOMR.t_lstart||BOOMR.t_start,BOOMR.session.length=0,BOOMR.session.rate_limited=!1,r.loadTime=0,r.oboError=0,r.beacon_url=r.next_beacon_url,r.lastActionTime=t,r.updateCookie({rl:void 0,sl:BOOMR.session.length,ss:BOOMR.session.start,tt:r.loadTime,obo:void 0,bcn:r.beacon_url})),void 0;},initFromCookie:function(){var t,r,e;e=BOOMR.plugins.RT.getCookie(),this.cookie||(BOOMR.session.enabled=!1),e&&(e.s=Math.max(+e.ld||0,Math.max(+e.ul||0,+e.cl||0)),e.s&&(e.r||e.nu)&&(this.r=e.r,BOOMR.utils.MD5&&"function"==typeof BOOMR.utils.MD5?(t=BOOMR.utils.MD5(n.URL),r=BOOMR.utils.MD5(n&&n.referrer||"")):(t=n.URL,r=n&&n.referrer||""),e.cl&&void 0,e.nu&&void 0,!this.strict_referrer||e.cl&&e.nu&&e.nu===t&&e.s<+e.cl+15||e.s===+e.ul&&this.r===r?(this.t_start=e.s,+e.hd>e.s&&(this.t_fb_approx=e.hd)):this.t_start=this.t_fb_approx=void 0),e.s&&(this.lastActionTime=e.s),this.refreshSession(e),this.updateCookie({s:void 0,ul:void 0,cl:void 0,hd:void 0,ld:void 0,rl:void 0,r:void 0,nu:void 0,sh:void 0}),this.maybeResetSession(BOOMR.now()));},incrementSessionDetails:function(){BOOMR.session.length++,isNaN(r.timers.t_done.delta)?r.oboError++:r.loadTime+=r.timers.t_done.delta;},getBoomerangTimings:function(){var t,n,e,i,o;function a(t,n){var r=Math.round(t||0),e=Math.round(n||0);return (r=0===r?0:r-e)||""}BOOMR.t_start&&(BOOMR.plugins.RT.startTimer("boomerang",BOOMR.t_start),BOOMR.plugins.RT.endTimer("boomerang",BOOMR.t_end),BOOMR.plugins.RT.endTimer("boomr_fb",BOOMR.t_start),BOOMR.t_lstart&&(BOOMR.plugins.RT.endTimer("boomr_ld",BOOMR.t_lstart),BOOMR.plugins.RT.setTimer("boomr_lat",BOOMR.t_start-BOOMR.t_lstart)));try{if(window&&"performance"in window&&window.performance&&"function"==typeof window.performance.getEntriesByName)for(e in n={"rt.bmr":BOOMR.url},BOOMR.config_url&&(n["rt.cnf"]=BOOMR.config_url),n)if(n.hasOwnProperty(e)&&n[e]){if(!(t=window.performance.getEntriesByName(n[e]))||0===t.length||!t[0])continue;o=[i=a((t=t[0]).startTime,0),a(t.responseEnd,i),a(t.responseStart,i),a(t.requestStart,i),a(t.connectEnd,i),a(t.secureConnectionStart,i),a(t.connectStart,i),a(t.domainLookupEnd,i),a(t.domainLookupStart,i),a(t.redirectEnd,i),a(t.redirectStart,i)].join(",").replace(/,+$/,""),BOOMR.addVar(e,o),r.addedVars.push(e);}}catch(t){BOOMR.addError(t,"rt.getBoomerangTimings");}},checkPreRender:function(){return "prerender"===BOOMR.visibilityState()&&(BOOMR.plugins.RT.startTimer("t_load",this.navigationStart),BOOMR.plugins.RT.endTimer("t_load"),BOOMR.plugins.RT.startTimer("t_prerender",this.navigationStart),BOOMR.plugins.RT.startTimer("t_postrender"),!0)},initFromNavTiming:function(){var n,r,e;this.navigationStart||((r=BOOMR.getPerformance())&&r.navigation&&(this.navigationType=r.navigation.type),r&&r.timing?n=r.timing:t.chrome&&t.chrome.csi&&t.chrome.csi().startE?(n={navigationStart:t.chrome.csi().startE},e="csi"):t.gtbExternal&&t.gtbExternal.startE()&&(n={navigationStart:t.gtbExternal.startE()},e="gtb"),n?(BOOMR.addVar("rt.start",e||"navigation"),this.navigationStart=n.navigationStart||n.fetchStart||void 0,this.fetchStart=n.fetchStart||void 0,this.responseStart=n.responseStart||void 0,navigator.userAgent.match(/Firefox\/[78]\./)&&(this.navigationStart=n.unloadEventStart||n.fetchStart||void 0)):BOOMR.warn("This browser doesn't support the WebTiming API","rt"));},validateLoadTimestamp:function(t,n,r){var i;return n&&n.timing&&n.timing.loadEventEnd?(n.timing.loadEventEnd):"xhr"!==r||n&&BOOMR.utils.inArray(n.initiator,BOOMR.constants.BEACON_TYPE_SPAS)?(i=BOOMR.getPerformance())&&i.timing?i.timing.loadEventEnd?(i.timing.loadEventEnd):(t):BOOMR.t_onload||BOOMR.t_lstart||BOOMR.t_start||t:(t)},setPageLoadTimers:function(t,n,e){var i,o;if("xhr"!==t&&(r.initFromCookie(),r.initFromNavTiming(),r.checkPreRender()))return !1;if("xhr"===t)if(e.timers)for(var a in e.timers)e.timers.hasOwnProperty(a)&&BOOMR.plugins.RT.setTimer(a,e.timers[a]);else e&&e.timing&&(void 0===(o=e.timing.fetchStart)||e.timing.responseEnd>=o)&&(i=e.timing.responseEnd);else r.responseStart?r.responseStart>=r.navigationStart&&r.responseStart>=r.fetchStart&&(i=r.responseStart):r.timers.hasOwnProperty("t_page")?BOOMR.plugins.RT.endTimer("t_page"):r.t_fb_approx&&(i=r.t_fb_approx);return i&&(o?BOOMR.plugins.RT.setTimer("t_resp",o,i):BOOMR.plugins.RT.endTimer("t_resp",i),"load"===t&&r.timers.t_load?BOOMR.plugins.RT.setTimer("t_page",r.timers.t_load.end-i):n<i?BOOMR.addVar("t_page.inv",1):BOOMR.plugins.RT.setTimer("t_page",n-i)),"load"===t&&r.timers.hasOwnProperty("t_postrender")&&(BOOMR.plugins.RT.endTimer("t_postrender"),BOOMR.plugins.RT.endTimer("t_prerender")),!0},setSupportingTimestamps:function(t){t&&BOOMR.addVar("rt.tstart",t),"number"==typeof r.navigationStart&&r.navigationStart!==t&&BOOMR.addVar("rt.nstart",r.navigationStart),"number"==typeof r.t_start&&r.t_start!==t&&BOOMR.addVar("rt.cstart",r.t_start),BOOMR.addVar("rt.bstart",BOOMR.t_start),BOOMR.t_lstart&&BOOMR.addVar("rt.blstart",BOOMR.t_lstart),BOOMR.addVar("rt.end",r.timers.t_done.end);},determineTStart:function(t,n){var e;return "xhr"===t?(n&&n.name&&r.timers[n.name]?e=r.timers[n.name].start:n&&n.timing&&n.timing.requestStart&&(e=n.timing.requestStart),void 0===e&&n&&BOOMR.utils.inArray(n.initiator,BOOMR.constants.BEACON_TYPE_SPAS)?BOOMR.addVar("rt.start","none"):BOOMR.addVar("rt.start","manual"),r.cached_xhr_start=e):(r.navigationStart?e=r.navigationStart:r.t_start&&2!==r.navigationType?(e=r.t_start,BOOMR.addVar("rt.start","cookie")):r.cached_t_start?e=r.cached_t_start:(BOOMR.addVar("rt.start","none"),e=void 0),r.cached_t_start=e),e},page_ready:function(){this.onloadfired=!0;},check_visibility:function(){"visible"===BOOMR.visibilityState()&&(r.visiblefired=!0);},prerenderToVisible:function(){r.onloadfired&&r.autorun&&(BOOMR.addVar("vis.pre","1"),BOOMR.plugins.RT.done(null,"visible"));},page_unload:function(t){this.unloadfired||BOOMR.plugins.RT.done(t,"unload"),this.updateCookie(!r.navigationStart&&r.strict_referrer?{r:BOOMR.utils.MD5&&"function"==typeof BOOMR.utils.MD5&&BOOMR.utils.MD5(n.URL)}:null,"beforeunload"===t.type?"ul":"hd"),this.unloadfired=!0;},M:function(t,n,e,i){var o;if(e){for(void 0;e&&e.nodeName&&e.nodeName.toUpperCase()!==n;)e=e.parentNode;e&&e.nodeName&&e.nodeName.toUpperCase()===n&&(this.refreshSession(),this.maybeResetSession(BOOMR.now()),o=i(e),this.updateCookie({nu:BOOMR.utils.MD5&&"function"==typeof BOOMR.utils.MD5&&BOOMR.utils.MD5(o)},"cl"),BOOMR.addVar("nu",BOOMR.utils.cleanupURL(o)),r.addedVars.push("nu"));}},onclick:function(t){r.M("Click","A",t,(function(t){return t.href}));},markComplete:function(){this.onloadfired&&(r.complete=!0);},onsubmit:function(t){r.M("Submit","FORM",t,(function(t){var r="function"==typeof t.getAttribute&&t.getAttribute("action")||n.URL||"";return r.match(/\?/)?r:r+"?"}));},onconfig:function(t){t.beacon_url&&(r.beacon_url=t.beacon_url),t.RT&&(t.RT.oboError&&!isNaN(t.RT.oboError)&&t.RT.oboError>r.oboError&&(r.oboError=t.RT.oboError),t.RT.loadTime&&!isNaN(t.RT.loadTime)&&t.RT.loadTime>r.loadTime&&(r.loadTime=t.RT.loadTime,r.timers.t_done&&!isNaN(r.timers.t_done.delta)&&(r.loadTime+=r.timers.t_done.delta)));},domloaded:function(){BOOMR.plugins.RT.endTimer("t_domloaded");},clear:function(){BOOMR.removeVar("rt.start"),r.addedVars&&r.addedVars.length>0&&(BOOMR.removeVar(r.addedVars),r.addedVars=[]);},spaNavigation:function(){r.onloadfired=!0;}},BOOMR.plugins.RT={init:function(e){if(t!==BOOMR.window&&(t=BOOMR.window),e&&e.CrossDomain&&e.CrossDomain.sending&&(r.crossdomain_sending=!0),t&&t.document)return n=t.document,BOOMR.utils.pluginConfig(r,e,"RT",["cookie","cookie_exp","session_exp","strict_referrer"]),e&&void 0!==e.autorun&&(r.autorun=e.autorun),e&&e.beacon_url&&(r.beacon_url&&!e.force_beacon_url||(r.beacon_url=e.beacon_url),r.next_beacon_url=e.beacon_url),void 0!==n&&(r.r=BOOMR.utils.hashQueryString(n.referrer,!0)),r.initFromCookie(),r.initialized||(r.complete=!1,r.timers={},r.check_visibility(),BOOMR.subscribe("page_ready",r.page_ready,null,r),BOOMR.subscribe("visibility_changed",r.check_visibility,null,r),BOOMR.subscribe("prerender_to_visible",r.prerenderToVisible,null,r),BOOMR.subscribe("page_ready",this.done,"load",this),BOOMR.subscribe("xhr_load",this.done,"xhr",this),BOOMR.subscribe("dom_loaded",r.domloaded,null,r),BOOMR.subscribe("page_unload",r.page_unload,null,r),BOOMR.subscribe("click",r.onclick,null,r),BOOMR.subscribe("form_submit",r.onsubmit,null,r),BOOMR.subscribe("before_beacon",this.addTimersToBeacon,"beacon",this),BOOMR.subscribe("beacon",r.clear,null,r),BOOMR.subscribe("error",r.markComplete,null,r),BOOMR.subscribe("config",r.onconfig,null,r),BOOMR.subscribe("spa_navigation",r.spaNavigation,null,r),BOOMR.subscribe("interaction",r.markComplete,null,r),BOOMR.getBeaconURL=function(){return r.beacon_url},r.initialized=!0),this},startTimer:function(t,n){return t&&("t_page"===t&&this.endTimer("t_resp",n),r.timers[t]={start:"number"==typeof n?n:BOOMR.now()}),this},endTimer:function(t,n){return t&&(r.timers[t]=r.timers[t]||{},void 0===r.timers[t].end&&(r.timers[t].end="number"==typeof n?n:BOOMR.now())),this},clearTimer:function(t){return t&&delete r.timers[t],this},setTimer:function(t,n,e){return t&&(r.timers[t]=void 0!==e?{start:n,end:e,delta:e-n}:{delta:n}),this},addTimersToBeacon:function(t,n){var e,i,o=[];for(e in r.timers)if(r.timers.hasOwnProperty(e)){if("number"!=typeof(i=r.timers[e]).delta&&("number"!=typeof i.start&&(i.start="xhr"===n?r.cached_xhr_start:r.cached_t_start),i.delta=i.end-i.start),isNaN(i.delta))continue;r.basic_timers.hasOwnProperty(e)?(BOOMR.addVar(e,i.delta),r.addedVars.push(e)):o.push(e+"|"+i.delta);}o.length&&(BOOMR.addVar("t_other",o.join(",")),r.addedVars.push("t_other")),"beacon"===n&&(r.timers={},r.complete=!1);},done:function(t,n){var i,o,a=BOOMR.now(),u=!1;return r.complete=!1,o=r.validateLoadTimestamp(a,t,n),"load"!==n&&"visible"!==n&&"xhr"!==n||r.setPageLoadTimers(n,o,t)?(("load"===n||"visible"===n||"xhr"===n&&t&&"spa_hard"===t.initiator)&&r.getBoomerangTimings(),i=r.determineTStart(n,t),r.refreshSession(),r.maybeResetSession(o,i),this.endTimer("t_done",o),t&&"xhr"===t.initiator&&(this.setTimer("t_done",t.timing.requestStart,t.timing.loadEventEnd),void 0),BOOMR.removeVar("t_done","t_page","t_resp","t_postrender","t_prerender","t_load","t_other","rt.tstart","rt.nstart","rt.cstart","rt.bstart","rt.end","rt.subres","http.errno","http.method","http.type","xhr.sync","fetch.bnu","rt.ss","rt.sl","rt.tt","rt.lt"),r.setSupportingTimestamps(i),this.addTimersToBeacon(null,n),BOOMR.setReferrer(r.r),"xhr"===n&&t&&t&&t.data&&(t=t.data),"xhr"===n&&t&&(u=t.subresource,t.url&&(BOOMR.addVar("u",BOOMR.utils.cleanupURL(t.url.replace(/#.*/,""))),r.addedVars.push("u")),t.status&&(t.status<-1||t.status>=400)&&BOOMR.addVar("http.errno",t.status),t.method&&"GET"!==t.method&&BOOMR.addVar("http.method",t.method),t.type&&"xhr"!==t.type&&BOOMR.addVar("http.type",t.type[0]),t.headers&&BOOMR.addVar("http.hdr",t.headers),t.synchronous&&BOOMR.addVar("xhr.sync",1),t.initiator&&BOOMR.addVar("http.initiator",t.initiator),t.responseBodyNotUsed&&BOOMR.addVar("fetch.bnu",1),r.addedVars.push("http.errno","http.method","http.hdr","xhr.sync","http.initiator","fetch.bnu")),u&&"passive"!==u&&(BOOMR.addVar("rt.subres",1),r.addedVars.push("rt.subres")),("load"===n||"visible"===n||"xhr"===n&&!u||"unload"===n&&!r.onloadfired&&r.autorun&&!r.crossdomain_sending)&&(r.incrementSessionDetails(),r.updateCookie(null,"ld")),BOOMR.addVar({"rt.tt":r.loadTime,"rt.obo":r.oboError}),r.addedVars.push("rt.tt","rt.obo"),r.updateCookie(),"unload"===n&&(BOOMR.addVar("rt.quit",""),r.onloadfired||(BOOMR.addVar("rt.abld",""),r.addedVars.push("rt.abld")),r.visiblefired||BOOMR.addVar("rt.ntvu","")),r.complete=!0,BOOMR.sendBeacon(r.beacon_url),this):this},is_complete:function(t){return r.complete||t&&"error"===t["http.initiator"]},updateCookie:function(){r.updateCookie();},getCookie:function(){var t,n,e;return !!r.cookie&&((t=BOOMR.utils.getSubCookies(BOOMR.utils.getCookie(r.cookie))||{})&&(1&t.z?(n=36,e=parseInt(t.ss||0,36)):(n=10,e=0),t.ss=parseInt(t.ss||0,n),t.tt=parseInt(t.tt||0,n),t.obo=parseInt(t.obo||0,n),t.sl=parseInt(t.sl||0,n),t.se&&(t.se=parseInt(t.se,n)||1800),t.ld&&(t.ld=e+parseInt(t.ld,n)),t.ul&&(t.ul=e+parseInt(t.ul,n)),t.cl&&(t.cl=e+parseInt(t.cl,n)),t.hd&&(t.hd=e+parseInt(t.hd,n))),t)},incrementSessionDetails:function(){r.incrementSessionDetails();},navigationStart:function(){return r.navigationStart||r.initFromNavTiming(),r.navigationStart}};}}(window),function(){if(!BOOMR.plugins.PaintTiming){var t={"first-paint":"fp","first-contentful-paint":"fcp"},n={initialized:!1,complete:!1,supported:null,timingCache:{},done:function(r,e){var i,o,a;if(this.complete)return this;if("load"!==e&&(!r||"spa_hard"!==r.initiator))return this.complete=!0,this;if((i=BOOMR.getPerformance())&&"function"==typeof i.getEntriesByType){if((o=i.getEntriesByType("paint"))&&o.length){for(BOOMR.info("This user agent supports PaintTiming","pt"),a=0;a<o.length;a++)n.timingCache[o[a].name]=o[a].startTime,t[o[a].name]&&BOOMR.addVar("pt."+t[o[a].name],Math.floor(o[a].startTime),!0);this.complete=!0,BOOMR.sendBeacon();}}else this.complete=!0;}};BOOMR.plugins.PaintTiming={init:function(){return this.is_supported()||(n.complete=!0,n.initialized=!0),n.complete||"hidden"!==BOOMR.visibilityState()||(BOOMR.addVar("pt.hid",1,!0),n.complete=!0),n.initialized||(BOOMR.subscribe("page_ready",n.done,"load",n),BOOMR.subscribe("xhr_load",n.done,"xhr",n),BOOMR.subscribe("before_unload",n.done,null,n),n.initialized=!0),this},is_complete:function(){return !0},is_enabled:function(){return n.initialized&&this.is_supported()},is_supported:function(){if(null!==n.supported)return n.supported;var t=BOOMR.getPerformance();return n.supported=t&&void 0!==window.PerformancePaintTiming&&"function"==typeof t.getEntriesByType,n.supported},getTimingFor:function(t){var r,e,i;if(n.timingCache[t])return n.timingCache[t];if(this.is_supported()&&((i=BOOMR.getPerformance())&&"function"==typeof i.getEntriesByType&&(r=i.getEntriesByType("paint"))&&r.length))for(e=0;e<r.length;e++)if(r[e].name===t)return n.timingCache[t]=r[e].startTime,n.timingCache[t]}};}}(),function(){if(!BOOMR.plugins.NavigationTiming){var t={complete:!1,fullySent:!1,sendBeacon:function(){this.complete=!0,BOOMR.sendBeacon();},xhr_done:function(n){var r;if(n&&"spa_hard"===n.initiator)t.done(n);else if(n&&"spa"===n.initiator)t.sendBeacon();else {BOOMR.window;var e,i,o={};if(n){if(n.data&&(n=n.data),(r=BOOMR.getPerformance())&&n.restiming)for(i in o={nt_red_st:n.restiming.redirectStart,nt_red_end:n.restiming.redirectEnd,nt_fet_st:n.restiming.fetchStart,nt_dns_st:n.restiming.domainLookupStart,nt_dns_end:n.restiming.domainLookupEnd,nt_con_st:n.restiming.connectStart,nt_con_end:n.restiming.connectEnd,nt_req_st:n.restiming.requestStart,nt_res_st:n.restiming.responseStart,nt_res_end:n.restiming.responseEnd},n.restiming.secureConnectionStart&&(o.nt_ssl_st=n.restiming.secureConnectionStart),o)o.hasOwnProperty(i)&&o[i]&&(o[i]+=r.timing.navigationStart,o[i]=Math.floor(o[i]));for(i in n.timing&&(e=n.timing,o.nt_req_st||(o.nt_req_st=e.requestStart),o.nt_res_st||(o.nt_res_st=e.responseStart),o.nt_res_end||(o.nt_res_end=e.responseEnd),o.nt_domint=e.domInteractive,o.nt_domcomp=e.domComplete,o.nt_load_st=e.loadEventEnd,o.nt_load_end=e.loadEventEnd),o)o.hasOwnProperty(i)&&!o[i]&&delete o[i];BOOMR.addVar(o);try{t.addedVars.push.apply(t.addedVars,Object.keys(o));}catch(t){}t.sendBeacon();}}},done:function(){var r,e,i,o,a,u,c=BOOMR.window,s={},f=0;if(this.complete)return this;if(t.addedVars=[],r=BOOMR.getPerformance()){for(u in "function"==typeof r.getEntriesByType&&((o=r.getEntriesByType("navigation"))&&o.length?(BOOMR.info("This user agent supports NavigationTiming2","nt"),o=o[0],f=r.timing?r.timing.navigationStart:0):o=void 0),!o&&r.timing&&(BOOMR.info("This user agent supports NavigationTiming","nt"),o=r.timing),o&&(!(s={nt_nav_st:r.timing?r.timing.navigationStart:0,nt_red_st:n(f,o.redirectStart),nt_red_end:n(f,o.redirectEnd),nt_fet_st:n(f,o.fetchStart),nt_dns_st:n(f,o.domainLookupStart),nt_dns_end:n(f,o.domainLookupEnd),nt_con_st:n(f,o.connectStart),nt_con_end:n(f,o.connectEnd),nt_req_st:n(f,o.requestStart),nt_res_st:n(f,o.responseStart),nt_res_end:n(f,o.responseEnd),nt_domloading:n(f,o.domLoading),nt_domint:n(f,o.domInteractive),nt_domcontloaded_st:n(f,o.domContentLoadedEventStart),nt_domcontloaded_end:n(f,o.domContentLoadedEventEnd),nt_domcomp:n(f,o.domComplete),nt_load_st:n(f,o.loadEventStart),nt_load_end:n(f,o.loadEventEnd),nt_unload_st:n(f,o.unloadEventStart),nt_unload_end:n(f,o.unloadEventEnd)}).nt_domloading&&r&&r.timing&&r.timing.domLoading&&(s.nt_domloading=r.timing.domLoading),o.secureConnectionStart&&(s.nt_ssl_st=n(f,o.secureConnectionStart)),r.timing&&r.timing.msFirstPaint&&(s.nt_first_paint=r.timing.msFirstPaint),o.workerStart&&(s.nt_worker_start=n(f,o.workerStart)),(o.decodedBodySize||o.transferSize)&&(s.nt_enc_size=o.encodedBodySize,s.nt_dec_size=o.decodedBodySize,s.nt_trn_size=o.transferSize),o.nextHopProtocol&&(s.nt_protocol=o.nextHopProtocol)),!s.nt_first_paint&&BOOMR.plugins.PaintTiming&&(a=BOOMR.plugins.PaintTiming.getTimingFor("first-paint"))&&(s.nt_first_paint=n(f,a)),s.nt_protocol&&s.nt_first_paint||o&&""===o.nextHopProtocol||!c.chrome||"function"!=typeof c.chrome.loadTimes||(i=c.chrome.loadTimes())&&(s.nt_spdy=i.wasFetchedViaSpdy?1:0,s.nt_cinf=i.connectionInfo,"number"==typeof i.firstPaintTime&&0!==i.firstPaintTime&&(s.nt_first_paint=Math.round(1e3*i.firstPaintTime))),r.navigation&&(e=r.navigation,s.nt_red_cnt=e.redirectCount,s.nt_nav_type=e.type),s)s.hasOwnProperty(u)&&void 0===s[u]&&delete s[u];BOOMR.addVar(s),o&&(o.requestStart&&o.navigationStart&&o.requestStart<o.navigationStart||o.responseStart&&o.navigationStart&&o.responseStart<o.navigationStart||o.responseStart&&o.fetchStart&&o.responseStart<o.fetchStart||o.navigationStart&&o.fetchStart<o.navigationStart||o.responseEnd&&o.responseEnd>BOOMR.now()+864e5)&&(BOOMR.addVar("nt_bad",1),t.addedVars.push("nt_bad"));try{t.addedVars.push.apply(t.addedVars,Object.keys(s));}catch(t){}s.nt_load_end>0&&(this.fullySent=!0);}t.sendBeacon();},clear:function(){t.addedVars&&t.addedVars.length>0&&(BOOMR.removeVar(t.addedVars),t.addedVars=[]),this.complete=this.fullySent;},prerenderToVisible:function(){this.complete=!1,this.done();}};BOOMR.plugins.NavigationTiming={init:function(){return t.initialized||(BOOMR.subscribe("page_ready",t.done,null,t),BOOMR.subscribe("prerender_to_visible",t.prerenderToVisible,null,t),BOOMR.subscribe("xhr_load",t.xhr_done,null,t),BOOMR.subscribe("before_unload",t.done,null,t),BOOMR.subscribe("beacon",t.clear,null,t),t.initialized=!0),this},is_complete:function(){return !0}};}function n(t,n){if("number"==typeof n&&0!==n)return Math.floor((t||0)+n)}}(),v(),function(){if(!BOOMR.plugins.UserTiming){var t={complete:!1,initialized:!1,supported:!1,options:{from:0,window:BOOMR.window},changeMapToObject:function(t){var n,r,i=Object.create(null);try{for(var a=e(t),u=a.next();!u.done;u=a.next()){var c=o(u.value,2),s=c[0],f=c[1];i[s]=f;}}catch(t){n={error:t};}finally{try{u&&!u.done&&(r=a.return)&&r.call(a);}finally{if(n)throw n.error}}return i},getUserTiming:function(){var n=this.findUserTimingForFrame(t.options.window);t.options.from&&(n=n.filter((function(n){return n.startTime+n.duration>=t.options.from})));var r,e=window.UserTimingCompression||BOOMR.window.UserTimingCompression;if(void 0===e){if(0===n.length)return null;for(var i={},o=0,a=n.length;o<a;o++){var u=n[o];"measure"===u.entryType&&0===u.name.indexOf("x_")&&(i[u.name]?i[u.name].push(u.duration):i[u.name]=[u.duration]);}return JSON.stringify(i)}return r=e.compressUserTiming(n),e.compressForUri(r)},addEntriesToBeacon:function(){var t,n=BOOMR.hrNow();this.complete||(BOOMR.removeVar("usertiming"),(t=this.getUserTiming())&&BOOMR.addVar({usertiming:t}),this.options.from=n,this.complete=!0);},findUserTimingForFrame:function(t){var n;if(!t)return [];try{t.location&&t.location.href;if(!("performance"in t)||!t.performance||!t.performance.getEntriesByType)return n;n=(n=t.performance.getEntriesByType("mark")).concat(t.performance.getEntriesByType("measure"));}catch(t){return n}return n},clearMetrics:function(t){t.hasOwnProperty("usertiming")&&BOOMR.removeVar("usertiming"),this.complete=!1;},subscribe:function(){BOOMR.subscribe("before_beacon",this.addEntriesToBeacon,null,this),BOOMR.subscribe("beacon",this.clearMetrics,null,this);},pageReady:function(){this.checkSupport()&&this.subscribe();},checkSupport:function(){if(this.supported)return !0;var t=BOOMR.getPerformance();if(t&&"function"==typeof t.getEntriesByType){var n=t.getEntriesByType("mark"),r=t.getEntriesByType("measure");if(BOOMR.utils.isArray(n)&&BOOMR.utils.isArray(r))return BOOMR.info("Client supports UserTiming API","usertiming"),this.supported=!0,!0}return !1}};BOOMR.plugins.UserTiming={init:function(n){return t.initialized||(t.checkSupport()?t.subscribe():BOOMR.subscribe("page_ready",t.pageReady,null,t),t.initialized=!0),this},is_complete:function(){return !0},is_supported:function(){return t.initialized&&t.supported}};}}();},t.prototype.uninstall=function(){var t=this.BOOMR,n=t.plugins;t.disable(),Object.keys(n).forEach((function(t){n[t].disable&&n[t].disable();})),t.orig_XMLHttpRequest&&t.orig_XMLHttpRequest!==window.XMLHttpRequest&&(window.XMLHttpRequest=t.orig_XMLHttpRequest);},t}();function M(t){switch(Object.prototype.toString.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return !0;default:return t instanceof Error}}function p(t){return "[object ErrorEvent]"===Object.prototype.toString.call(t)}function B(t){return void 0===t}function m(t){return "function"==typeof t}function g(t){return "[object String]"===Object.prototype.toString.call(t)}function y(t){return "[object Number]"===Object.prototype.toString.call(t)}function b(t){return "[object Array]"===Object.prototype.toString.call(t)}function _(t){return "[object Object]"===Object.prototype.toString.call(t)}function w(t){if(!_(t))return !1;for(var n in t)if(t.hasOwnProperty(n))return !1;return !0}var x={};function S(){return "undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:x}
/**
     * TraceKit - Cross brower stack traces
     *
     * This was originally forked from github.com/occ/TraceKit, but has since been
     * largely modified and is now maintained as part of Sentry JS SDK.
     *
     * NOTE: Last merge with upstream repository
     * Jul 11,2018 - #f03357c
     *
     * https://github.com/csnover/TraceKit
     * @license MIT
     * @namespace TraceKit
     */var T=S(),k={wrap:function(){return function(){}},report:!1,collectWindowErrors:!1,computeStackTrace:!1,remoteFetching:!1,linesOfContext:!1,extendToAsynchronousCallbacks:!1},E=[].slice,I=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;function A(t,n){return Object.prototype.hasOwnProperty.call(t,n)}function C(){return "undefined"==typeof document||null==document.location?"":document.location.href}k.wrap=function(t){return function(){try{return t.apply(this,arguments)}catch(t){throw k.report(t),t}}},k.report=function(){var t,n,e,i,o=[],a=null,u=null;function c(t,n,r){var e=null;if(!n||k.collectWindowErrors){for(var i in o)if(A(o,i))try{o[i](t,n,r);}catch(t){e=t;}if(e)throw e}}function s(n,e,i,o,a){var s=null;if(a=p(a)?a.error:a,n=p(n)?n.message:n,u)k.computeStackTrace.augmentStackTraceWithInitialElement(u,e,i,n),O();else if(a&&M(a))(s=k.computeStackTrace(a)).mechanism="onerror",c(s,!0,a);else {var f,l={url:e,line:i,column:o},d=n;if("[object String]"==={}.toString.call(n)){var h=n.match(I);h&&(f=h[1],d=h[2]);}l.func=k.computeStackTrace.guessFunctionName(l.url,l.line),l.context=k.computeStackTrace.gatherContext(l.url,l.line),c(s={name:f,message:d,mode:"onerror",mechanism:"onerror",stack:[r(r({},l),{url:l.url||C()})]},!0,null);}return !!t&&t.apply(this,arguments)}function f(t){var n=t&&(t.detail?t.detail.reason:t.reason)||t,r=k.computeStackTrace(n);r.mechanism="onunhandledrejection",c(r,!0,n);}function O(){var t=u,n=a;u=null,a=null,c(t,!1,n);}function l(t){if(u){if(a===t)return;O();}var n=k.computeStackTrace(t);throw u=n,a=t,setTimeout((function(){a===t&&O();}),n.incomplete?2e3:0),t}return l.subscribe=function(t){o.push(t);},l.unsubscribe=function(r){for(var a=o.length-1;a>=0;--a)o[a]===r&&o.splice(a,1);0===o.length&&(n&&(T.onerror=t,n=!1),i&&(T.onunhandledrejection=e,i=!1));},l.installGlobalHandler=function(){!0!==n&&(t=T.onerror,T.onerror=s,n=!0);},l.installGlobalUnhandledRejectionHandler=function(){!0!==i&&(e=T.onunhandledrejection,T.onunhandledrejection=f,i=!0);},l}(),k.computeStackTrace=function(){var t={};function n(n){if("string"!=typeof n)return [];if(!A(t,n)){var r="",e="";try{e=T.document.domain;}catch(t){}var i=/(.*)\:\/\/([^:\/]+)([:\d]*)\/{0,1}([\s\S]*)/.exec(n);i&&i[2]===e&&(r=function(t){if(!k.remoteFetching)return "";try{var n=function(){try{return new T.XMLHttpRequest}catch(t){return new T.ActiveXObject("Microsoft.XMLHTTP")}}();return n.open("GET",t,!1),n.send(""),n.responseText}catch(t){return ""}}(n)),t[n]=r?r.split("\n"):[];}return t[n]}function r(t,r){var e,i=/function ([^(]*)\(([^)]*)\)/,o=/['"]?([0-9A-Za-z$_]+)['"]?\s*[:=]\s*(function|eval|new Function)/,a="",u=n(t);if(!u.length)return "?";for(var c=0;c<10;++c)if(!B(a=u[r-c]+a)){if(e=o.exec(a))return e[1];if(e=i.exec(a))return e[1]}return "?"}function e(t,r){var e=n(t);if(!e.length)return null;var i=[],o=Math.floor(k.linesOfContext/2),a=o+k.linesOfContext%2,u=Math.max(0,r-o-1),c=Math.min(e.length,r+a-1);r-=1;for(var s=u;s<c;++s)B(e[s])||i.push(e[s]);return i.length>0?i:null}function i(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#]/g,"\\$&")}function o(t){return i(t).replace("<","(?:<|&lt;)").replace(">","(?:>|&gt;)").replace("&","(?:&|&amp;)").replace('"','(?:"|&quot;)').replace(/\s+/g,"\\s+")}function a(t,r){for(var e,i,o=0,a=r.length;o<a;++o)if((e=n(r[o])).length&&(e=e.join("\n"),i=t.exec(e)))return {url:r[o],line:e.substring(0,i.index).split("\n").length,column:i.index-e.lastIndexOf("\n",i.index)-1};return null}function u(t,r,e){var o,a=n(r),u=new RegExp("\\b"+i(t)+"\\b");return e-=1,a&&a.length>e&&(o=u.exec(a[e]))?o.index:null}function c(t){if(!B(T&&T.document)){for(var n,r,e,u,c=[C()],s=T.document.getElementsByTagName("script"),f=""+t,O=0;O<s.length;++O){var l=s[O];l.src&&c.push(l.src);}if(e=/^function(?:\s+([\w$]+))?\s*\(([\w\s,]*)\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/.exec(f)){var d=e[1]?"\\s+"+e[1]:"",h=e[2].split(",").join("\\s*,\\s*");n=i(e[3]).replace(/;$/,";?"),r=new RegExp("function"+d+"\\s*\\(\\s*"+h+"\\s*\\)\\s*{\\s*"+n+"\\s*}");}else r=new RegExp(i(f).replace(/\s+/g,"\\s+"));if(u=a(r,c))return u;if(e=/^function on([\w$]+)\s*\(event\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/.exec(f)){var v=e[1];if(n=o(e[2]),u=a(r=new RegExp("on"+v+"=[\\'\"]\\s*"+n+"\\s*[\\'\"]","i"),c[0]))return u;if(u=a(r=new RegExp(n),c))return u}return null}}function s(t){if(!t.stack)return null;for(var n,i,o,a=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|[a-z]:|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,c=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,s=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,f=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,O=/\((\S*)(?::(\d+))(?::(\d+))\)/,l=t.stack.split("\n"),d=[],h=/^(.*) is undefined$/.exec(t.message),v=0,R=l.length;v<R;++v){if(i=a.exec(l[v])){var M=i[2]&&0===i[2].indexOf("native");i[2]&&0===i[2].indexOf("eval")&&(n=O.exec(i[2]))&&(i[2]=n[1]),o={url:M?null:i[2],func:i[1]||"?",args:M?[i[2]]:[],line:i[3]?+i[3]:null,column:i[4]?+i[4]:null};}else if(i=s.exec(l[v]))o={url:i[2],func:i[1]||"?",args:[],line:+i[3],column:i[4]?+i[4]:null};else {if(!(i=c.exec(l[v])))continue;i[3]&&i[3].indexOf(" > eval")>-1&&(n=f.exec(i[3]))?i[3]=n[1]:0!==v||i[5]||B(t.columnNumber)||(d[0].column=t.columnNumber+1),o={url:i[3],func:i[1]||"?",args:i[2]?i[2].split(","):[],line:i[4]?+i[4]:null,column:i[5]?+i[5]:null};}if(!o.func&&o.line&&(o.func=r(o.url,o.line)),k.remoteFetching&&o.url&&"blob:"===o.url.substr(0,5)){var p=new XMLHttpRequest;if(p.open("GET",o.url,!1),p.send(""),200===p.status){var m=p.responseText||"",g=(m=m.slice(-300)).match(/\/\/# sourceMappingURL=(.*)$/);if(g){var y=g[1];"~"===y.charAt(0)&&(y=("undefined"==typeof document||null==document.location?"":document.location.origin?document.location.origin:document.location.protocol+"//"+document.location.hostname+(document.location.port?":"+document.location.port:""))+y.slice(1)),o.url=y.slice(0,-4);}}}o.context=o.line?e(o.url,o.line):null,d.push(o);}return d.length?(d[0]&&d[0].line&&!d[0].column&&h&&(d[0].column=u(h[1],d[0].url,d[0].line)),{mode:"stack",name:t.name,message:t.message,stack:d}):null}function f(t,n,i,o){var a={url:n,line:i};if(a.url&&a.line){t.incomplete=!1,a.func||(a.func=r(a.url,a.line)),a.context||(a.context=e(a.url,a.line));var c=/ '([^']+)' /.exec(o);if(c&&(a.column=u(c[1],a.url,a.line)),t.stack.length>0&&t.stack[0].url===a.url){if(t.stack[0].line===a.line)return !1;if(!t.stack[0].line&&t.stack[0].func===a.func)return t.stack[0].line=a.line,t.stack[0].context=a.context,!1}return t.stack.unshift(a),t.partial=!0,!0}return t.incomplete=!0,!1}function O(t,n){for(var e,i,o,a=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,s=[],d={},h=!1,v=O.caller;v&&!h;v=v.caller)if(v!==l&&v!==k.report){if(i={url:null,func:"?",args:[],line:null,column:null},v.name?i.func=v.name:(e=a.exec(v.toString()))&&(i.func=e[1]),void 0===i.func)try{i.func=e.input.substring(0,e.input.indexOf("{"));}catch(t){}if(o=c(v)){i.url=o.url,i.line=o.line,"?"===i.func&&(i.func=r(i.url,i.line));var R=/ '([^']+)' /.exec(t.message||t.description);R&&(i.column=u(R[1],o.url,o.line));}d[""+v]?h=!0:d[""+v]=!0,s.push(i);}n&&s.splice(0,n);var M={mode:"callers",name:t.name,message:t.message,stack:s};return f(M,t.sourceURL||t.fileName,t.line||t.lineNumber,t.message||t.description),M}function l(t,i){var u=null;i=null==i?0:+i;try{if(u=function(t){var n=t.stacktrace;if(n){for(var i,o=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,a=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\))? in (.*):\s*$/i,u=n.split("\n"),c=[],s=0;s<u.length;s+=2){var f=null;if((i=o.exec(u[s]))?f={url:i[2],line:+i[1],column:null,func:i[3],args:[]}:(i=a.exec(u[s]))&&(f={url:i[6],line:+i[1],column:+i[2],func:i[3]||i[4],args:i[5]?i[5].split(","):[]}),f){if(!f.func&&f.line&&(f.func=r(f.url,f.line)),f.line)try{f.context=e(f.url,f.line);}catch(t){}f.context||(f.context=[u[s+1]]),c.push(f);}}return c.length?{mode:"stacktrace",name:t.name,message:t.message,stack:c}:null}}(t))return u}catch(t){}try{if(u=s(t))return u}catch(t){}try{if(u=function(t){var i=t.message.split("\n");if(i.length<4)return null;var u,c=/^\s*Line (\d+) of linked script ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,s=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,f=/^\s*Line (\d+) of function script\s*$/i,O=[],l=T&&T.document&&T.document.getElementsByTagName("script"),d=[];for(var h in l)A(l,h)&&!l[h].src&&d.push(l[h]);for(var v=2;v<i.length;v+=2){var R=null;if(u=c.exec(i[v]))R={url:u[2],func:u[3],args:[],line:+u[1],column:null};else if(u=s.exec(i[v])){R={url:u[3],func:u[4],args:[],line:+u[1],column:null};var M=+u[1],p=d[u[2]-1];if(p){var B=n(R.url);if(B){var m=(B=B.join("\n")).indexOf(p.innerText);m>=0&&(R.line=M+B.substring(0,m).split("\n").length);}}}else if(u=f.exec(i[v])){var g=C().replace(/#.*$/,""),y=a(new RegExp(o(i[v+1])),[g]);R={url:g,func:"",args:[],line:y?y.line:u[1],column:null};}if(R){R.func||(R.func=r(R.url,R.line));var b=e(R.url,R.line),_=b?b[Math.floor(b.length/2)]:null;b&&_.replace(/^\s*/,"")===i[v+1].replace(/^\s*/,"")?R.context=b:R.context=[i[v+1]],O.push(R);}}return O.length?{mode:"multiline",name:t.name,message:i[0],stack:O}:null}(t))return u}catch(t){}try{if(u=O(t,i+1))return u}catch(t){}return {original:t,name:t.name,message:t.message,mode:"failed"}}return l.augmentStackTraceWithInitialElement=f,l.computeStackTraceFromStackProp=s,l.guessFunctionName=r,l.gatherContext=e,l.ofCaller=function(t){t=1+(null==t?0:+t);try{throw new Error}catch(n){return l(n,t+1)}},l.getSource=n,l}(),k.extendToAsynchronousCallbacks=function(){var t=function(t){var n=T[t];T[t]=function(){var t=E.call(arguments),r=t[0];return "function"==typeof r&&(t[0]=k.wrap(r)),n.apply?n.apply(this,t):n(t[0],t[1])};};t("setTimeout"),t("setInterval");},k.remoteFetching=!1,k.collectWindowErrors=!0,k.linesOfContext=11;var P=k.report.subscribe,L=k.report.unsubscribe,j=k.report.installGlobalHandler,F=k.report.installGlobalUnhandledRejectionHandler,N=k.computeStackTrace;function H(t,n){var r=(65535&t)+(65535&n);return (t>>16)+(n>>16)+(r>>16)<<16|65535&r}function U(t,n,r,e,i,o){return H((a=H(H(n,t),H(e,o)))<<(u=i)|a>>>32-u,r);var a,u;}function D(t,n,r,e,i,o,a){return U(n&r|~n&e,t,n,i,o,a)}function X(t,n,r,e,i,o,a){return U(n&e|r&~e,t,n,i,o,a)}function z(t,n,r,e,i,o,a){return U(n^r^e,t,n,i,o,a)}function $(t,n,r,e,i,o,a){return U(r^(n|~e),t,n,i,o,a)}function W(t,n){var r,e,i,o,a;t[n>>5]|=128<<n%32,t[14+(n+64>>>9<<4)]=n;var u=1732584193,c=-271733879,s=-1732584194,f=271733878;for(r=0;r<t.length;r+=16)e=u,i=c,o=s,a=f,u=D(u,c,s,f,t[r],7,-680876936),f=D(f,u,c,s,t[r+1],12,-389564586),s=D(s,f,u,c,t[r+2],17,606105819),c=D(c,s,f,u,t[r+3],22,-1044525330),u=D(u,c,s,f,t[r+4],7,-176418897),f=D(f,u,c,s,t[r+5],12,1200080426),s=D(s,f,u,c,t[r+6],17,-1473231341),c=D(c,s,f,u,t[r+7],22,-45705983),u=D(u,c,s,f,t[r+8],7,1770035416),f=D(f,u,c,s,t[r+9],12,-1958414417),s=D(s,f,u,c,t[r+10],17,-42063),c=D(c,s,f,u,t[r+11],22,-1990404162),u=D(u,c,s,f,t[r+12],7,1804603682),f=D(f,u,c,s,t[r+13],12,-40341101),s=D(s,f,u,c,t[r+14],17,-1502002290),u=X(u,c=D(c,s,f,u,t[r+15],22,1236535329),s,f,t[r+1],5,-165796510),f=X(f,u,c,s,t[r+6],9,-1069501632),s=X(s,f,u,c,t[r+11],14,643717713),c=X(c,s,f,u,t[r],20,-373897302),u=X(u,c,s,f,t[r+5],5,-701558691),f=X(f,u,c,s,t[r+10],9,38016083),s=X(s,f,u,c,t[r+15],14,-660478335),c=X(c,s,f,u,t[r+4],20,-405537848),u=X(u,c,s,f,t[r+9],5,568446438),f=X(f,u,c,s,t[r+14],9,-1019803690),s=X(s,f,u,c,t[r+3],14,-187363961),c=X(c,s,f,u,t[r+8],20,1163531501),u=X(u,c,s,f,t[r+13],5,-1444681467),f=X(f,u,c,s,t[r+2],9,-51403784),s=X(s,f,u,c,t[r+7],14,1735328473),u=z(u,c=X(c,s,f,u,t[r+12],20,-1926607734),s,f,t[r+5],4,-378558),f=z(f,u,c,s,t[r+8],11,-2022574463),s=z(s,f,u,c,t[r+11],16,1839030562),c=z(c,s,f,u,t[r+14],23,-35309556),u=z(u,c,s,f,t[r+1],4,-1530992060),f=z(f,u,c,s,t[r+4],11,1272893353),s=z(s,f,u,c,t[r+7],16,-155497632),c=z(c,s,f,u,t[r+10],23,-1094730640),u=z(u,c,s,f,t[r+13],4,681279174),f=z(f,u,c,s,t[r],11,-358537222),s=z(s,f,u,c,t[r+3],16,-722521979),c=z(c,s,f,u,t[r+6],23,76029189),u=z(u,c,s,f,t[r+9],4,-640364487),f=z(f,u,c,s,t[r+12],11,-421815835),s=z(s,f,u,c,t[r+15],16,530742520),u=$(u,c=z(c,s,f,u,t[r+2],23,-995338651),s,f,t[r],6,-198630844),f=$(f,u,c,s,t[r+7],10,1126891415),s=$(s,f,u,c,t[r+14],15,-1416354905),c=$(c,s,f,u,t[r+5],21,-57434055),u=$(u,c,s,f,t[r+12],6,1700485571),f=$(f,u,c,s,t[r+3],10,-1894986606),s=$(s,f,u,c,t[r+10],15,-1051523),c=$(c,s,f,u,t[r+1],21,-2054922799),u=$(u,c,s,f,t[r+8],6,1873313359),f=$(f,u,c,s,t[r+15],10,-30611744),s=$(s,f,u,c,t[r+6],15,-1560198380),c=$(c,s,f,u,t[r+13],21,1309151649),u=$(u,c,s,f,t[r+4],6,-145523070),f=$(f,u,c,s,t[r+11],10,-1120210379),s=$(s,f,u,c,t[r+2],15,718787259),c=$(c,s,f,u,t[r+9],21,-343485551),u=H(u,e),c=H(c,i),s=H(s,o),f=H(f,a);return [u,c,s,f]}function q(t){var n,r="",e=32*t.length;for(n=0;n<e;n+=8)r+=String.fromCharCode(t[n>>5]>>>n%32&255);return r}function G(t){var n,r=[];for(r[(t.length>>2)-1]=void 0,n=0;n<r.length;n+=1)r[n]=0;var e=8*t.length;for(n=0;n<e;n+=8)r[n>>5]|=(255&t.charCodeAt(n/8))<<n%32;return r}function V(t){var n,r,e="";for(r=0;r<t.length;r+=1)n=t.charCodeAt(r),e+="0123456789abcdef".charAt(n>>>4&15)+"0123456789abcdef".charAt(15&n);return e}function J(t){return unescape(encodeURIComponent(t))}function K(t){return function(t){return q(W(G(t),8*t.length))}(J(t))}function Y(t,n){return function(t,n){var r,e,i=G(t),o=[],a=[];for(o[15]=a[15]=void 0,i.length>16&&(i=W(i,8*t.length)),r=0;r<16;r+=1)o[r]=909522486^i[r],a[r]=1549556828^i[r];return e=W(o.concat(G(n)),512+8*n.length),q(W(a.concat(e),640))}(J(t),J(n))}function Q(t,n,r){return n?r?Y(n,t):V(Y(n,t)):r?K(t):V(K(t))}function Z(t){return (t||"").replace(/#.*$/,"").replace(/\?.*$/,"")}function tt(t){window.addEventListener("error",(function(n){var r;if(n&&n.target&&n.target!==window){var e=n.target,i=null!==(r=null==e?void 0:e.tagName)&&void 0!==r?r:"unknown tagname";if(-1!==["SCRIPT","LINK","IMG"].indexOf(i)){var o=e.src||e.href,a=window.location.href,u=function(t){for(var n=t.path||[],r="",e=0;e<n.length;e++){var i=n[e];i!==window?(r+=i.nodeName,r+=i.id?"#"+i.id:"",r+=i.className?"."+i.className.split(" ").join("."):"",e<n.length&&(r+=" > ")):r+="Window";}return r}(n),c={type:i,asset:Z(o)===Z(a)?"空资源":o,integrity:e.integrity,element:e&&e.outerHTML&&e.outerHTML.replace(/"/g,""),path:u.replace(/"/g,""),page:window.location.href.slice(0,255)};t&&t(c);}}}),!0);}function nt(){if(!("fetch"in S()))return !1;try{return new Headers,new Request(""),new Response,!0}catch(t){return !1}}function rt(){if(!nt())return !1;try{return new Request("pickleRick",{referrerPolicy:"origin"}),!0}catch(t){return !1}}function et(t,n){for(var r=0;r<t.length;++r)if(t[r]===n)return r;return -1}function it(t,n,r,e){return JSON.stringify(t,function(t,n){var r=[],e=[];null==n&&(n=function(t,n){return r[0]===n?"[Circular ~]":"[Circular ~."+e.slice(0,et(r,n)).join(".")+"]"});return function(i,o){if(r.length>0){var a=et(r,this);~a?r.splice(a+1):r.push(this),~a?e.splice(a,1/0,i):e.push(i),~et(r,o)&&(o=n.call(this,i,o));}else r.push(o);return null==t?o instanceof Error?function(t){var n={stack:t.stack,message:t.message,name:t.name};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(o):o:t.call(this,i,o)}}(n,e),r)}function ot(t,n){return Reflect.has(t,n)}function at(t,n){if(Array.isArray(t))for(var r=t.length,e=0;e<r;e++)n.call(null,e,t[e]);else for(var i in t)ot(t,i)&&n.call(null,i,t[i]);}function ut(){var t=window.crypto||window.msCrypto;if(!B(t)&&t.getRandomValues){var n=new Uint16Array(8);t.getRandomValues(n),n[3]=4095&n[3]|16384,n[4]=16383&n[4]|32768;var r=function(t){for(var n=t.toString(16);n.length<4;)n="0"+n;return n};return r(n[0])+r(n[1])+r(n[2])+r(n[3])+r(n[4])+r(n[5])+r(n[6])+r(n[7])}return "xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=16*Math.random()|0;return ("x"===t?n:3&n|8).toString(16)}))}function ct(t){var n={};for(var r in t)if(t.hasOwnProperty(r)){var e=t[r];n[r]=m(e)?e():e;}return n}function st(t,n){if(void 0===n&&(n=40),y(t)||g(t))return t.toString();if(!b(t))return "";if(0===(t=t.filter((function(t){return g(t)}))).length)return "[object has no keys]";if(n=y(n)?n:40,t[0].length>=n)return t[0];for(var r=t.length;r>0;r--){var e=t.slice(0,r).join(", ");if(!(e.length>n))return r===t.length?e:e+"…"}return ""}function ft(t,n,r){if(void 0===n&&(n=3),void 0===r&&(r=51200),!_(t))return t+"";var e,i,o=function t(n,r){return 0===r?Ot(n):_(n)?Object.keys(n).reduce((function(e,i){return e[i]=t(n[i],r-1),e}),{}):Array.isArray(n)?n.map((function(n){return t(n,r-1)})):Ot(n)}(t,n);return e=it(o),i=JSON.stringify(e),~-encodeURI(i).split(/%..|./).length>r?ft(t,n-1):o}function Ot(t){if(g(t)){return lt(t,40)}return y(t)||(n=t,"[object Boolean]"===Object.prototype.toString.call(n))||B(t)?t+"":_(t)?"[Object]":b(t)?"[Array]":m(t)?t.name?"[Function: "+t.name+"]":"[Function]":t;var n;}function lt(t,n){return 0===n||t.length<=n?t:t.substr(0,n)+"…"}function dt(t){var n={protocol:"",host:"",path:"",relative:""};if("string"!=typeof t)return n;var r=t.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(r&&r.length){var e=r[6]||"",i=r[8]||"";return {protocol:r[2]||"",host:r[4]||"",path:r[5]||"",relative:(r[5]||"")+e+i}}return n}function ht(t){var n,r,i,o;if(!t||!t.tagName)return "";var a=[t.tagName.toLowerCase()];t.id&&a.push("#"+t.id);var u=t.className?t.className.split(/\s+/):[];try{for(var c=e(u),s=c.next();!s.done;s=c.next()){var f=s.value;a.push("."+f);}}catch(t){n={error:t};}finally{try{s&&!s.done&&(r=c.return)&&r.call(c);}finally{if(n)throw n.error}}try{for(var O=e(["type","name","title","alt"]),l=O.next();!l.done;l=O.next()){var d=l.value,h=t.getAttribute(d);h&&a.push("["+d+"="+h+"]");}}catch(t){i={error:t};}finally{try{l&&!l.done&&(o=O.return)&&o.call(O);}finally{if(i)throw i.error}}return a.join("")}function vt(t,n){return t.mechanism===n.mechanism&&t.type===n.type&&t.value===n.value&&t.url===n.url&&(!!(0===t.stacktrace.length&&0===n.stacktrace.length)||function(t,n){if(Mt(t)&&Mt(n)){var r=t.length;if(r!==n.length)return !1;for(var e=0;e<r;e++){var i=t[e],o=n[e];if(u=o,(a=i).filename!==u.filename||a.lineno!==u.lineno||a.colno!==u.colno||a.function!==u.function)return !1}return !0}var a,u;return !1}(t.stacktrace,n.stacktrace))}function Rt(t){var n=t.exception,r=[];return r.push("token="+n.token),r.push("type="+n.type),r.push("mechanism="+n.mechanism),r.push("value="+n.value),r.push("url="+n.url),n.stacktrace&&n.stacktrace.forEach((function(t){r.push("filename="+t.filename||""),r.push("lineno="+t.lineno||""),r.push("colno="+t.colno||"");})),r.join("***")}function Mt(t){return t&&Array.isArray(t)&&t.length>0}function pt(t){for(var n=[],r=t.length,e=0;e<r;e++){var i=t[e];g(i)?n.push(i.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):i&&i.source&&n.push(i.source);}return new RegExp(n.join("|"),"i")}function Bt(t,n){return !!g(n)&&t.some((function(t){if(!t)return !1;if(g(t))return -1!==n.indexOf(t);if(r=t,"[object RegExp]"===Object.prototype.toString.call(r))try{return t.test(n)}catch(n){return console.error(t+"正则书写有误"),!1}var r;return console.error(t+"忽略匹配项类型应该是String、RegExp"),!1}))}function mt(t){return Q(t.method+"***"+function(t){if(!g(t))return "";var n=t.split("?");if(n[1])return n[1]=n[1].replace(/\d+/g,"*").replace(/[\u4e00-\u9fa5]+/gi,"*"),n.join("?");return t}(t.url))}function gt(t,n){if(void 0===t&&(t=""),void 0===n&&(n=""),(""===t||"text"===t)&&g(n)&&n.length)try{return JSON.parse(n)}catch(t){}return "json"===t?JSON.parse(JSON.stringify(n)):""}function yt(t,n,r){var i,o,a=[];if(t.stack&&t.stack.length){try{for(var u=e(t.stack),c=u.next();!c.done;c=u.next()){var s=bt(c.value,t.url||"",n.includePaths);a.push(s);}}catch(t){i={error:t};}finally{try{c&&!c.done&&(o=u.return)&&o.call(u);}finally{if(i)throw i.error}}if(n&&n.trimHeadFrames)for(var f=0;f<n.trimHeadFrames&&f<a.length;f++)a[f].in_app=!1;}return a=(a=a.filter((function(t){return !function(t){var n=t.filename||"",r=-1!==n.indexOf("weirwood-sdk"),e=/captureException$/.test(n);return r||e}(t)}))).slice(0,r)}function bt(t,n,r){var e={filename:t.url||n,lineno:t.line,colno:t.column,function:t.func||"?"};if(r&&r.length>0){var i=pt(r).test(e.filename),o=/(Weirwood|Tracekit)/.test(e.function),a=/weirwood\-sdk/.test(e.filename);e.in_app=i,(o||a)&&(e.in_app=!1);}else e.in_app=!1;return e}function _t(t,n,r,e){if(null!=t){var i=t[n];return t[n]=r(i),t[n].__raven__=!0,t[n].__orig__=i,i.__raven_wrapper__=t[n],e&&e.push([t,n,i]),t[n]}}function wt(t,n,r){if(void 0===t&&(t={}),B(n)&&!m(t))return t;if(m(t)&&(n=t,t=void 0),!m(n))return n;try{if(n.__raven__)return n;if(n.__raven_wrapper__)return n.__raven_wrapper__}catch(t){return n}function e(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var o=[],a=e.length,u=!t||t&&!1!==t.deep;for(r&&m(r)&&r.apply(this,e);a--;)o[a]=u?wt(t,e[a]):e[a];try{return n.apply(this,o)}catch(t){throw t}}for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i]);return e.prototype=n.prototype,n.__raven_wrapper__=e,e.__raven__=!0,e.__orig__=n,e}function xt(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var e=n[0];return m(e)&&(n[0]=wt({mechanism:{type:"instrument",data:{function:(null==t?void 0:t.name)||"<anonymous>"}}},e)),t.apply?t.apply(this,n):t(n[0],n[1])}}var St,Tt;function kt(t,n){return function(r){if(St=void 0,Tt!==r){var e;Tt=r;try{e=function(t){for(var n,r=[],e=" > ".length,i=0,o=0;t&&i++<5;){var a="html"===(n=ht(t)),u=i>1&&o+r.length*e+n.length>=80;if(a||u)break;r.push(n),o+=n.length,t=t.parentNode;}return r.reverse().join(" > ")}(r.target);}catch(t){e="<unknown>";}if(e){var i={category:"ui."+n,message:e,name:n};"input"===n&&"password"!==e.type&&(i.data=r.target.value||""),t.captureBehavior(i);}}}}function Et(t){return function(n){var r;try{r=n.target;}catch(t){return}var e=r&&r.tagName;e&&("INPUT"===e||"TEXTAREA"===e||r.isContentEditable)&&(St||kt(t,"input")(n),clearTimeout(St),St=setTimeout((function(){St=void 0;}),1e3));}}var It,At=S(),Ct=[301,302,304],Pt=function(){function t(n){this.name=t.id,this.options=r({beacon:!0,console:!0,dom:!0,fetch:!0,history:!0,weirwood:!0,xhr:!0},n);}return t.prototype.setupOnce=function(t){var n,r;this.client=t;var i=Object.keys(this.options);try{for(var o=e(i),a=o.next();!a.done;a=o.next()){var u=a.value,c="instrument"+u[0].toUpperCase()+u.slice(1);this.options[u]&&this[c]&&"function"==typeof this[c]&&this[c].call(this);}}catch(t){n={error:t};}finally{try{a&&!a.done&&(r=o.return)&&r.call(o);}finally{if(n)throw n.error}}},t.prototype.instrumentDom=function(){if("document"in S()){var t=At.document;t.addEventListener("click",kt.call(this,this.client,"click"),!1),t.addEventListener("keypress",Et.call(this,this.client),!1);}},t.prototype.instrumentXhr=function(){var t=this.client,n=t.options,r=n.collectAutoAPIException,e=n.isApiException;if("XMLHttpRequest"in At){var i=XMLHttpRequest.prototype,o=t.p||"";_t(i,"open",(function(t){return function(n,r){return g(r)&&-1===r.indexOf(o)&&(this.__raven_xhr={method:n,url:r,status_code:null}),t.apply(this,arguments)}}),t.B),_t(i,"abort",(function(t){return function(){var n=this;return n.resource.abortedFlag=!0,t.apply(this,arguments)}}),t.B),_t(i,"send",(function(n){return function(){var i=this,o=arguments;function u(){if(i.__raven_xhr&&4===i.readyState){try{i.__raven_xhr.status_code=i.status;}catch(t){}if(t.captureBehavior({type:"http",category:"xhr",data:i.__raven_xhr}),r&&(!i.resource||!i.resource.abortedFlag)){var n=!1,a=i.status>=200&&i.status<=299,u=-1!==Ct.indexOf(i.status);a||u||(n=!0);var c=gt(i.responseType,i.response);if(a&&e&&m(e)){var s={method:i.__raven_xhr.method,url:i.responseURL,status:i.status,responseType:i.responseType,response:c};n=!!e(s);}n&&t.captureAPIException({url:i.responseURL||i.__raven_xhr.url,method:i.__raven_xhr.method,params:o&&o[0]?o[0]:"",status:i.status,response:(g(c)?c:JSON.stringify(c)).slice(0,8192),user:"",extra:"AUTO_XHR"});}}}for(var c=["onload","onerror","onprogress"],s=0;s<c.length;s++)a(c[s],i);return "onreadystatechange"in i&&m(i.onreadystatechange)?_t(i,"onreadystatechange",(function(t){return wt({mechanism:{type:"instrument",data:{function:"onreadystatechange",handler:t&&t.name||"<anonymous>"}}},t,u)})):i.onreadystatechange=u,n.apply(this,arguments)}}),t.B);}function a(t,n){t in n&&m(n[t])&&_t(n,t,(function(n){return wt({mechanism:{data:{function:t,handler:n&&n.name||"<anonymous>"},handled:!0,type:"instrument"}},n)}));}},t.prototype.instrumentFetch=function(){if(nt()){var t=S(),n=this.client,r=n.options,e=r.collectAutoAPIException,i=r.isApiException,o=n.p;_t(At,"fetch",(function(r){return function(){for(var a=new Array(arguments.length),u=0;u<a.length;++u)a[u]=arguments[u];var c,s=a[0],f="GET";if("string"==typeof s?c=s:"Request"in t&&s instanceof t.Request?(c=s.url,(null==s?void 0:s.method)&&(f=s.method)):c=""+s,-1!==c.indexOf(o))return r.apply(this,a);a[1]&&a[1].method&&(f=a[1].method);var O={method:f,url:c,status_code:null};return r.apply(this,a).then((function(t){O.status_code=t.status;var r="";if(a[1]&&a[1].body&&(r=a[1].body),n.captureBehavior({type:"http",category:"fetch",data:O}),!e)return t;var o=!1,u=m(t.clone)?t.clone():null,c=Ct.includes(t.status);if(t.ok||c||(o=!0),u)u.text().then((function(e){var a;try{a=JSON.parse(e);}catch(t){a=e;}if(t.ok&&m(i)){var u={method:O.method,url:O.url,status:t.status,response:a};o=!!i(u);}o&&n.captureAPIException({url:t.url||O.url,method:O.method,params:r,status:t.status,response:e.slice(0,8192),user:"",extra:"AUTO_FETCH"});})).catch((function(t){console.error(t);}));else {if(t.ok&&m(i)){var s={method:O.method,url:O.url,status:t.status,response:""};o=!!i(s);}o&&n.captureAPIException({url:t.url||O.url,method:O.method,params:r,status:t.status,response:t.statusText||"",user:"",extra:"AUTO_FETCH"});}return t})).catch((function(t){throw n.captureBehavior({type:"http",category:"fetch",data:O,level:"error"}),t}))}}),n.B);}},t.prototype.instrumentHistory=function(){var t=this.client;if(function(){var t=S(),n=t.chrome,r=n&&n.app&&n.app.runtime,e="history"in t&&!!t.history.pushState&&!!t.history.replaceState;return !r&&e}()){var n=function(n,r){var e=dt(At.location.href),i=dt(r),o=dt(n);o.path||(o=e),It=r,e.protocol===i.protocol&&e.host===i.host&&(r=i.relative),e.protocol===o.protocol&&e.host===o.host&&(n=o.relative),t.captureBehavior({category:"navigation",data:{from:n,to:r}});},r=At.onpopstate;At.onpopstate=function(t){var e=At.location.href;if(n(It,e),r)return r.apply(At,t)},_t(At.history,"pushState",e),_t(At.history,"replaceState",e);}function e(t){return function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var i=r.length>2?r[2]:void 0;return i&&n(It,String(i)),t.apply(this,r)}}},t.prototype.instrumentConsole=function(){},t.prototype.instrumentBeacon=function(){},t.id="behaviors",t}(),Lt=S(),jt=function(){function t(n){this.name=t.id,this.options=r({active:!0},n);}return t.prototype.setupOnce=function(t){this.client=t,this.options.active&&_t(Lt,"setTimeout",xt,this.client.B);},t.id="trycatch",t}(),Ft=S(),Nt=function(){function t(){this.name=t.id;}return t.prototype.setupOnce=function(t){this.client=t,this.client.captureUserAgent(this.getUserAgent());},t.prototype.getUserAgent=function(){return "navigator"in Ft&&"document"in Ft?{url:Ft.location.href,headers:{"User-Agent":Ft.navigator.userAgent,Referrer:Ft.document.referrer}}:{}},t.id="UserAgent",t}(),Ht={collectWindowErrors:!0,collectUnhandledRejections:!0,collectResourceLoadErrors:!1,collectAutoAPIException:!0,sampleRate:1,maxUrlLength:250,maxMessageLength:0,allowDuplicates:!1,stackTraceLimit:50,behaviorLimit:10,plugins:[],ignoreErrors:[],whitelistUrls:[],apiWhitelistUrls:[],resourceWhitelistUrls:[],ignoreUrls:[],ignoreJsUrls:[],ignoreApiUrls:[],ignoreResourceUrls:[],maxMessagePerMinute:10,endpoint:"https://fclog.baidu.com/log/weirwood?type=error"},Ut="https://dmpstatic.cdn.bcebos.com/weirwood",Dt=function(){function t(t){this.options=Ht,this.m={env:{},user:{},session_id:ut()},this.p="fclog.baidu.com/log",this.g={},this._=Date.now(),this.S=[],this.T=null,this.k=null,this.I=0,this.A=Date.now(),this.C=!1,this.P=null,this.L={method:"POST",credentials:"include",referrerPolicy:rt()?"origin":""},this.B=[],this.j=null,t&&this.config(t);}return t.prototype.init=function(t){return this.config(t)},t.prototype.config=function(t){this.options=r(r({},this.options),t);var n=this.options,e=n.token,i=n.buildid;if(!e&&!i)throw new Error("error: token and buildid must be provided");return this.setFilters(),this.install(),this},t.prototype.install=function(){var t=this;return this.C?(console.error("error: Weirwood Error SDK has been installed and configured"),!1):(this.options.collectWindowErrors&&j(),this.options.maxMessagePerMinute>=60&&(this.options.maxMessagePerMinute=60),this.options.collectUnhandledRejections&&F(),this.P=this.F().bind(this),P(this.P),this.options.collectResourceLoadErrors&&tt((function(n){var r;if(window.performance&&window.performance.getEntriesByName){var e=window.performance.getEntriesByName(n.asset);e.length>0&&(r=e[0],["name","serverTiming"].forEach((function(t){delete r[t];})));}var i={mechanism:n.type,name:"ResourceError",message:n.asset,stack:[],mode:"onerror",timing:r,page:n.page,element:n.element,elementPath:n.path.slice(0,255)};t.N(i,{trimHeadFrames:0,mechanism:i.mechanism||"generic",includePaths:t.options.includePaths});})),this.C=!0,this.installPlugins(),this)},t.prototype.installPlugins=function(){var t,n;this.options.plugins=a([new Pt(this.options.behaviorOptions),new jt(this.options.tryCatchOptions),new Nt],this.options.plugins||[]);try{for(var r=e(this.options.plugins),i=r.next();!i.done;i=r.next()){i.value.setupOnce(this);}}catch(n){t={error:n};}finally{try{i&&!i.done&&(n=r.return)&&n.call(r);}finally{if(t)throw t.error}}},t.prototype.setFilters=function(){var t=this.options;t.ignoreErrors&&(t.ignoreErrors=a([/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],t.ignoreErrors||[])),t.ignoreJsUrls=a([Ut],t.ignoreJsUrls||[]);},t.prototype.F=function(){var t=this;return function(n,r,e){if(e&&(e.stack||e.stacktrace)&&(n.originalStack=((e.stack||e.stacktrace)+"").slice(0,1e4)),!n.name&&!n.message&&"onunhandledrejection"===n.mechanism){var i=S();n.name="unhandledrejection",n.url=n.url||i.location.href,n.message=e;}t.N(n,{trimHeadFrames:0,mechanism:n.mechanism||"generic",includePaths:t.options.includePaths});}},t.prototype.N=function(t,n){var r=yt(t,n,this.options.stackTraceLimit);this.H(t,r,n);},t.prototype.H=function(t,n,e){var i=this.options,o=i.ignoreErrors,a=void 0===o?[]:o,u=i.whitelistUrls,c=void 0===u?[]:u,s=i.resourceWhitelistUrls,f=void 0===s?[]:s,O=i.ignoreUrls,l=void 0===O?[]:O,d=i.ignoreJsUrls,h=void 0===d?[]:d,v=i.ignoreResourceUrls,R=void 0===v?[]:v,M=t.name,p=t.message,B=t.url,m=void 0===B?"":B,g=t.page,y=void 0===g?window.location.href:g,b=t.lineno,_=void 0===b?0:b,w=t.originalStack,x=void 0===w?"":w;if(!(a.length&&Bt(a,p)||l.length&&Bt(l,y))){var S=function(t,n){return t&&t.length&&t[0].filename||n}(n,m);if("ResourceError"===M){if(R.length&&Bt(R,p))return;if(f.length&&!Bt(f,p))return}else {if(h.length&&Bt(h,S))return;if(c.length&&!Bt(c,S))return}if(n&&n.length>0){var T=n[0].filename||"",k=-1!==T.indexOf("@baidu/weirwood-error"),E=-1!==T.indexOf(Ut);if(k||E)return}if(-1===S.indexOf(Ut)){var I=function(t,n,r){return t&&t.length?t.reverse():n?[{filename:n,lineno:r||0,in_app:!0}]:[]}(n,m,_),A=r(r({},e),{exception:{type:M,value:p,originalStack:x,stacktrace:I,url:"ResourceError"===M?p:S,page:t.page,element:t.element,timing:t.timing,elementPath:t.elementPath}}),C=A.exception;null==C.type&&""===C.value&&(C.value="Unrecoverable error caught"),!A.exception.mechanism&&A.mechanism&&(A.exception.mechanism=A.mechanism,delete A.mechanism),this.U(A);}}},t.prototype.mergeGlobalContext=function(t){var n,i,o,a=S();t.env=r(r(r({},this.m.env),t.env),{network:null===(o=a.navigator.connection)||void 0===o?void 0:o.effectiveType,windowHeight:(a.document.documentElement||a.document.body).clientHeight,windowWidth:(a.document.documentElement||a.document.body).clientWidth,documentTitle:a.document.title});try{for(var u=e(Object.keys(this.g)),c=u.next();!c.done;c=u.next()){var s=c.value;t.env[s]=this.g[s];}}catch(t){n={error:t};}finally{try{c&&!c.done&&(i=u.return)&&i.call(u);}finally{if(n)throw n.error}}t.env["session:duration"]=Date.now()-this._,this.m.user&&(t.user=this.m.user),this.m.session_id&&(t.session_id=this.m.session_id);},t.prototype.U=function(t){var n={request:this.j};if(B(t.trimHeadFrames)||delete t.trimHeadFrames,t=r(r({},n),t),this.mergeGlobalContext(t),this.S&&this.S.length>0){var e=[].slice.call(this.S,0);this.options.behaviorDataCallback&&(e=this.options.behaviorDataCallback(e)),t.behaviors=e;}var i=this.options;if(i.token&&(t.token=i.token),i.buildid&&(t.buildid=i.buildid),t=this.D(t),Object.keys(t).forEach((function(n){(null==t[n]||""===t[n]||w(t[n]))&&delete t[n];})),m(i.dataCallback)&&(t=i.dataCallback(t)),t&&!w(t)){var o=Date.now()-this.A<6e4,a=this.I>this.options.maxMessagePerMinute;if(o){if(a)return}else this.A=Date.now(),this.I=1;"number"==typeof i.sampleRate?Math.random()<i.sampleRate&&(this.X(t),this.I+=1):(this.X(t),this.I+=1);}},t.prototype.isSetup=function(){return this.C},t.prototype.$=function(t){var n,r,i=this.options.maxUrlLength||0,o=this.options.maxMessageLength||0;if(t.exception&&(t.exception.value=lt(t.exception.value,o)),t.request){var a=S();t.request.url=lt(a.location.href,i);var u=t.request.headers.Referrer;t.request.headers.Referrer=lt(u,i);}if(t.behaviors&&t.behaviors.length){var c=["url","to","from"],s=function(t){var n=t.data||{},r=function(t){n.hasOwnProperty(t)&&c.forEach((function(r){t===r&&(n[t]=lt(n[t],i));}));};for(var e in n)r(e);};try{for(var f=e(t.behaviors),O=f.next();!O.done;O=f.next()){s(O.value);}}catch(t){n={error:t};}finally{try{O&&!O.done&&(r=f.return)&&r.call(f);}finally{if(n)throw n.error}}}return t},t.prototype.X=function(t,n){var r=this,e=this.options;if(t=this.$(t),this.options.allowDuplicates||!this.W(t)){var i,o=e.issueGroupby;o&&m(o)&&(i=o(t.exception)),i&&g(i)?(t.fingerprint=i.substr(0,255),t.event_id=Q(t.fingerprint)):t.event_id=Q(Rt(t)),t.data_id=Q(function(t){var n=Rt(t),r=[],e=t.request,i=t.env,o=t.behaviors;if(!e)return JSON.stringify(t);var a=e.headers,u=e.url;return r.push("Referrer="+a.Referrer),r.push("ua="+a["User-Agent"]),r.push("url="+u),at(i,(function(t,n){"session:duration"!==t&&r.push(t+"="+n);})),at(o,(function(t){r.push("behavior.category="+t.category),r.push("behavior.name="+t.name),r.push("behavior.message="+t.message);})),n+r.join("***")}(t)),t.version=this.options.version||"",t.sdkTimestamp=Date.now(),this.T=t;var a={weirwood_version:this.options.version||""};(e.transport||this.q).call(this,{url:this.options.endpoint,auth:a,data:t,options:e,onSuccess:function(){r.G(),n&&n();},onError:function(t){t.request&&r.V(t.request),t=t||new Error("Raven send failed (no additional details provided)"),n&&n(t);}});}else console.warn("Weirwood error SDK dropped repeat event:",t);},t.prototype.q=function(t){var n,i,o=this,a=t.url,u=null,c={};t.options.headers&&(u=ct(t.options.headers)),t.options.fetchParameters&&(c=ct(t.options.fetchParameters));var s=S();if(nt()){c.body=it(t.data);var f=r(r({},this.L),c);if(u){var O=new Headers;try{for(var l=e(Object.keys(u)),d=l.next();!d.done;d=l.next()){var h=d.value;O.append(h,u[h]);}}catch(t){n={error:t};}finally{try{d&&!d.done&&(i=l.return)&&i.call(l);}finally{if(n)throw n.error}}O.append("Content-Type","text/plain"),f.headers=O;}return s.fetch(a,f).then((function(n){if(n.ok)t.onSuccess&&t.onSuccess(),o.G();else {var r=new Error("Weirwood error SDK error code: "+n.status);r.request=n,t.onError&&t.onError(r);}})).catch((function(){t.onError&&t.onError(new Error("Weirwood error SDK error code: network unavailable")),o.G();}))}var v=s.XMLHttpRequest&&new s.XMLHttpRequest;v&&(("withCredentials"in v||"undefined"!=typeof XDomainRequest)&&("withCredentials"in v?v.onreadystatechange=function(){if(4===v.readyState){if(200===v.status)t.onSuccess&&t.onSuccess();else if(t.onError){o.G();var n=new Error("Weirwood error SDK error code: "+v.status);n.request=v,t.onError(n);}}else o.G();}:(v=new XDomainRequest,a=a.replace(/^https?:/,""),t.onSuccess&&(v.onload=t.onSuccess),t.onError&&(v.onerror=function(){var n=new Error("Weirwood error SDK error code: XDomainRequest");n.request=v,t.onError(n);})),v.open("POST",a),u&&at(u,(function(t,n){v.setRequestHeader(t,n);})),v.send(it(t.data))));},t.prototype.D=function(t){var n=this.options.sanitizeKeys||[];return n.length?function(t,n){if(!Array.isArray(n)||Array.isArray(n)&&0===n.length)return t;var r,e=pt(n);try{r=JSON.parse(it(t));}catch(n){return t}return function t(n){return Array.isArray(n)?n.map((function(n){return t(n)})):_(n)?Object.keys(n).reduce((function(r,i){return e.test(i)?r[i]="********":r[i]=t(n[i]),r}),{}):n}(r)}(t,n):t},t.prototype.J=function(){return ut()},t.prototype.captureUserAgent=function(t){this.j=t;},t.prototype.captureException=function(t,n){if(n||(n={trimHeadFrames:0,includePaths:[],mechanism:"generic",message:""}),M(t))t=t;else if(p(t))t=t.error;else {if(!_(t)){if(o=t,"[object DOMException]"===Object.prototype.toString.call(o)){var e=t.name||"DOMException",i=t.message?e+": "+t.message:e;return this.captureMessage(i,n)}return this.captureMessage(t,r(r({},n),{stacktrace:!0,trimHeadFrames:n.trimHeadFrames+1}))}n=this.K(n,t),t=new Error(n.message);}var o;try{n=r({trimHeadFrames:0,mechanism:"generic",includePaths:this.options.includePaths||[]},n);var a=N(t);this.N(a,n);}catch(n){if(t!==n)throw n}return this},t.prototype.W=function(t){var n=this.T;return vt(t.exception,n?n.exception:{})},t.prototype.G=function(){this._=Date.now(),this.g={};},t.prototype.V=function(t){},t.prototype.captureMessage=function(t,n){var e;void 0===n&&(n={});var i=this.options,o=i.ignoreErrors||[],a=i.whitelistUrls||[],u=i.ignoreUrls||[],c=i.ignoreJsUrls||[];if(!o.length||!Bt(o,t)){var s;try{throw new Error(t)}catch(t){s=t;}var f=N(s),O=Array.isArray(f.stack)&&f.stack[1];-1!==(null===(e=null==O?void 0:O.func)||void 0===e?void 0:e.indexOf("captureException"))&&(O=f.stack[2]);var l=O&&O.url||"";if((!u.length||!Bt(u,window.location.href))&&(!c.length||!Bt(c,l))&&(!a.length||Bt(a,l))){(n=r(r({},n),{trimHeadFrames:0,includePaths:i.includePaths})).trimHeadFrames+=1;var d=yt(f,n),h={exception:{mechanism:"manual",type:s.name,value:s.message,stacktrace:d.slice(1).reverse(),url:l}};return this.U(h),this}}},t.prototype.captureAPIException=function(t){var n,e=S(),i=this.options,o=i.ignoreUrls,a=void 0===o?[]:o,u=i.ignoreApiUrls,c=void 0===u?[]:u,s=i.buildid,f=i.token,O=i.version,l=i.apiWhitelistUrls;if(t.url&&t.method&&!B(t.status)){if((!a.length||!Bt(a,e.location.href))&&(!c.length||!Bt(c,t.url))&&(!l.length||Bt(l,t.url))){var d,h=r(r({},t),{type:"APIError"}),v={request:{headers:{"User-Agent":e.navigator.userAgent},url:e.location.href},exception:h,buildid:s,token:f,version:O||""};this.mergeGlobalContext(v);var R=this.options.issueGroupby;R&&m(R)&&(d=R(v.exception)),d&&g(d)?(v.fingerprint=d.substr(0,255),v.event_id=Q(v.fingerprint)):v.event_id=mt(t),v.data_id=Q(it(v)),this.k!==v.data_id&&(this.k=v.data_id,((null===(n=this.options.globalOptions)||void 0===n?void 0:n.transport)||this.q).call(this,{url:this.options.endpoint,data:v,options:{},onSuccess:function(){},onError:function(){}}));}}else console.error("API异常参数至少需要包含 method、url、status 参数。");},t.prototype.captureEvent=function(){},t.prototype.afterLoad=function(){var t=S().RavenConfig;t&&this.init(t);},t.prototype.K=function(t,n){var e=Object.keys(n).sort(),i=r(r({},t),{message:"Non-Error exception captured with keys: "+st(e),fingerprint:[Q(e.join(""))],env:t&&t.env||{}});return i.env.__serialized__=ft(n),i},t.prototype.captureBehavior=function(t){var n,e=r(r({},t),{timestamp:Date.now()/1e3});if(m(this.options.breadcrumbCallback)){var i=this.options.breadcrumbCallback(e);if("object"!=typeof(n=i)||null===n||w(i)){if(!1===i)return this}else e=i;}return this.S.push(e),this.S.length>(this.options.behaviorLimit||10)&&this.S.shift(),this},t.prototype.setContext=function(t,n){for(var r in void 0===n&&(n={persist:!0}),t)Reflect.has(t,r)&&(n.persist?this.m.env[r]=t[r]:this.g[r]=t[r]);},t.prototype.clearContext=function(){this.m.env={},this.g={};},t.prototype.Y=function(){for(var t;this.B.length;){var n=(t=this.B.shift())[0],r=t[1],e=t[2];n[r]=e;}},t.prototype.noConflict=function(){},t.prototype.uninstall=function(){this.dispose();},t.prototype.dispose=function(){L(this.P),this.Y(),this.P=null,this.C=!1;},t}(),Xt={};var zt=function(){function t(t){this.version="1.2.56",t&&this.init(t);}return t.prototype.init=function(t){if(!t.perf||t.perf&&!t.perf.disable){var n=r(r(r({},t.perf),t.common),{version:this.version});this.perf=new R(n);}if(!t.error||t.error&&!t.error.disable){var e=r(r(r({},t.error),t.common),{version:this.version});this.error=new Dt(e);}},t.prototype.afterLoad=function(){},t}();return n.Client=zt,n.init=function(t){var n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:Xt;if(n.__Weirwood)return n.__Weirwood;var r=new zt(t);return r.afterLoad(),n.__Weirwood=r,r},n}({});
